function debounce(a,b){var c;return function(){var d=arguments,e=this;clearTimeout(c),c=setTimeout(function(){a.apply(e,d)},b)}}function throttle(a,b){var c,d;return function(){var e=this,f=+new Date,g=arguments;c&&c+b>f?(clearTimeout(d),d=setTimeout(function(){c=f,a.apply(e,g)},b)):(c=f,a.apply(e,g))}}function toDate(a){var b=new Date(1e3*a);if(b.getDate()<10)var c="0"+b.getDate();else var c=b.getDate();if(b.getMonth()+1<10)var d="0"+(b.getMonth()+1);else var d=b.getMonth()+1;return b=c+"/"+d+"/"+b.getFullYear()}function toTimestamp(a){a=a.split("/");var a=a[1]+","+a[0]+","+a[2];return new Date(a).getTime()/1e3}function countWeeks(a,b){var c=b-a;return 604800>c?0:Math.floor(c/604800)}function findWithAttr(a,b,c){for(var d=0;d<a.length;d+=1)if(a[d][b]==c)return d}function testing(a){var b=$("form");b.find('input[type="text"]').val(a),b.find("textarea").val(a),b.find("select").each(function(b,c){var d=$(c).find("option").eq(a).val();$(c).val(d)}),b.find("input.input-datepicker").val(a+a+"/11/20"+a+a),b.find("input.input-phone").val("0"+a+" "+a+a+" "+a+a+" "+a+a+" "+a+a),b.find("input.input-hour, input.input-minute").val(a+a);var c=[],d="";b.find('input[type="radio"]').each(function(){d!=$(this).attr("name")&&(c.push($(this).attr("name")),d=$(this).attr("name"))}),$.each(c,function(c,d){b.find('input[type="radio"][name="'+d+'"]').iCheck("uncheck").eq(a-1).iCheck("check")})}function neoAffix(a,b,c,d){function e(){var a=k.scrollTop();if(k.width()<=d)return!1;if(a>=g-b){var e=h+b+a+c;e>=j?f.removeClass("neoaffix").addClass("neoaffix-bottom").css("width",i):f.removeClass("neoaffix-top neoaffix-bottom").addClass("neoaffix").css("width",i)}else f.removeClass("neoaffix").addClass("neoaffix-top")}var f=a,g=f.offset().top,h=f.outerHeight(),i=f.outerWidth(),j=$(document).height(),k=$(window);void 0!==typeof f.data("width")&&f.attr("data-width",i);var l=$(window).height(),m=0,n=h-$("#form-nav").outerHeight();$("#form-nav").css("height",l-60-n),k.scroll(function(){e()}),e(),k.resize(function(){f.removeAttr("style").removeClass("neoaffix-top neoaffix"),i=f.outerWidth(),f.attr("data-width",i),l=$(window).height(),m=0,n=h-$("#form-nav").outerHeight(),$("#form-nav").css("height",l-60-n),e()})}$.extend($.fn.dataTable.defaults.oLanguage,{sProcessing:"Traitement en cours...",sSearch:"Rechercher&nbsp;:",sLengthMenu:"Afficher _MENU_ &eacute;l&eacute;ments",sInfo:"Affichage de l'&eacute;lement _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments",sInfoEmpty:"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",sInfoFiltered:"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",sInfoPostFix:"",sLoadingRecords:"Chargement en cours...",sZeroRecords:"Aucun &eacute;l&eacute;ment &agrave; afficher",sEmptyTable:"Aucune donnée disponible dans le tableau"}),$.extend($.fn.dataTable.defaults.oLanguage.oPaginate,{sFirst:"Premier",sPrevious:"Pr&eacute;c&eacute;dent",sNext:"Suivant",sLast:"Dernier"}),$.extend($.fn.dataTable.defaults.oLanguage.oAria,{sSortAscending:": activer pour trier la colonne par ordre croissant",sSortDescending:": activer pour trier la colonne par ordre décroissant"}),function(a){a.gritter={},a.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},a.gritter.add=function(a){try{return b.add(a||{})}catch(c){var d="Gritter Error: "+c;"undefined"!=typeof console&&console.error?console.error(d,a):alert(d)}},a.gritter.remove=function(a,c){b.removeSpecific(a,c||{})},a.gritter.removeAll=function(a){b.stop(a||{})};var b={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<a class="gritter-close" href="#" tabindex="1">Close Notification</a>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(c){if("string"==typeof c&&(c={text:c}),null===c.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var d=c.title,e=c.text,f=c.image||"",g=c.sticky||!1,h=c.class_name||a.gritter.options.class_name,i=a.gritter.options.position,j=c.time||"";this._verifyWrapper(),this._item_count++;var k=this._item_count,l=this._tpl_item;a(["before_open","after_open","before_close","after_close"]).each(function(d,e){b["_"+e+"_"+k]=a.isFunction(c[e])?c[e]:function(){}}),this._custom_timer=0,j&&(this._custom_timer=j);var m=""!=f?'<img src="'+f+'" class="gritter-image" />':"",n=""!=f?"gritter-with-image":"gritter-without-image";if(d=d?this._str_replace("[[title]]",d,this._tpl_title):"",l=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[d,e,this._tpl_close,m,this._item_count,n,h],l),this["_before_open_"+k]()===!1)return!1;a("#gritter-notice-wrapper").addClass(i).append(l);var o=a("#gritter-item-"+this._item_count);return o.fadeIn(this.fade_in_speed,function(){b["_after_open_"+k](a(this))}),g||this._setFadeTimer(o,k),a(o).bind("mouseenter mouseleave",function(c){"mouseenter"==c.type?g||b._restoreItemIfFading(a(this),k):g||b._setFadeTimer(a(this),k),b._hoverState(a(this),c.type)}),a(o).find(".gritter-close").click(function(){return b.removeSpecific(k,{},null,!0),!1}),k},_countRemoveWrapper:function(b,c,d){c.remove(),this["_after_close_"+b](c,d),0==a(".gritter-item-wrapper").length&&a("#gritter-notice-wrapper").remove()},_fade:function(a,c,d,e){var d=d||{},f="undefined"!=typeof d.fade?d.fade:!0,g=d.speed||this.fade_out_speed,h=e;this["_before_close_"+c](a,h),e&&a.unbind("mouseenter mouseleave"),f?a.animate({opacity:0},g,function(){a.animate({height:0},300,function(){b._countRemoveWrapper(c,a,h)})}):this._countRemoveWrapper(c,a)},_hoverState:function(a,b){"mouseenter"==b?(a.addClass("hover"),a.find(".gritter-close").show()):(a.removeClass("hover"),a.find(".gritter-close").hide())},removeSpecific:function(b,c,d,e){if(!d)var d=a("#gritter-item-"+b);this._fade(d,b,c||{},e)},_restoreItemIfFading:function(a,b){clearTimeout(this["_int_id_"+b]),a.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in a.gritter.options)this[opt]=a.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(a,c){var d=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+c]=setTimeout(function(){b._fade(a,c)},d)},stop:function(b){var c=a.isFunction(b.before_close)?b.before_close:function(){},d=a.isFunction(b.after_close)?b.after_close:function(){},e=a("#gritter-notice-wrapper");c(e),e.fadeOut(function(){a(this).remove(),d()})},_str_replace:function(a,b,c,d){var e=0,f=0,g="",h="",i=0,j=0,k=[].concat(a),l=[].concat(b),m=c,n=l instanceof Array,o=m instanceof Array;for(m=[].concat(m),d&&(this.window[d]=0),e=0,i=m.length;i>e;e++)if(""!==m[e])for(f=0,j=k.length;j>f;f++)g=m[e]+"",h=n?void 0!==l[f]?l[f]:"":l[0],m[e]=g.split(k[f]).join(h),d&&m[e]!==g&&(this.window[d]+=(g.length-m[e].length)/k[f].length);return o?m:m[0]},_verifyWrapper:function(){0==a("#gritter-notice-wrapper").length&&a("body").append(this._tpl_wrap)}}}(jQuery),function(a){a.fn.bootstrapFileInput=function(){this.each(function(b,c){var d=a(c);if("undefined"==typeof d.attr("data-bfi-disabled")){var e="Browse";"undefined"!=typeof d.attr("title")&&(e=d.attr("title"));var f="";d.attr("class")&&(f=" "+d.attr("class")),d.wrap('<a class="file-input-wrapper btn btn-default '+f+'"></a>').parent().prepend(a("<span></span>").html(e))}}).promise().done(function(){a(".file-input-wrapper").mousemove(function(b){var c,d,e,f,g,h,i,j;d=a(this),c=d.find("input"),e=d.offset().left,f=d.offset().top,g=c.width(),h=c.height(),i=b.pageX,j=b.pageY,moveInputX=i-e-g+20,moveInputY=j-f-h/2,c.css({left:moveInputX,top:moveInputY})}),a("body").on("change",".file-input-wrapper input[type=file]",function(){var b;b=a(this).val(),a(this).parent().next(".file-input-name").remove(),b=a(this).prop("files")&&a(this).prop("files").length>1?a(this)[0].files.length+" files":b.substring(b.lastIndexOf("\\")+1,b.length);var c=a(this).data("filename-placement")||"outside";"inside"===c?(a(this).siblings("span").html(b),a(this).attr("title",b)):"outside"===c?a(this).parent().after('<span class="file-input-name">'+b+"</span>"):console.log("Error in bootstrap-file-input plugin : unknown placement ["+c+"] for selected filename")})})};var b="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";a("link[rel=stylesheet]").eq(0).before(b)}(jQuery),function(a){function b(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function c(a,b,c){return b<a.length?a:Array(b-a.length+1).join(c||" ")+a}function d(a,b,c,d,e,f){return b&&c?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li'+(f?' class="collapse in"':"")+'><div class="datepicker">'+n.template+'</div></li><li class="picker-switch accordion-toggle"><a><i class="'+a+'"></i></a></li><li'+(f?' class="collapse"':"")+'><div class="timepicker">'+o.getTemplate(d,e)+"</div></li></ul></div>":c?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+o.getTemplate(d,e)+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+n.template+"</div></div>"}function e(){return new Date(Date.UTC.apply(Date,arguments))}var f=(void 0!=window.orientation,function(a,b){this.id=g++,this.init(a,b)});f.prototype={constructor:f,init:function(b,c){var e;if(!c.pickTime&&!c.pickDate)throw new Error("Must choose at least one picker");if(this.options=c,this.$element=a(b),this.language=c.language in h?c.language:"en",this.pickDate=c.pickDate,this.pickTime=c.pickTime,this.isInput=this.$element.is("input"),this.component=!1,(this.$element.find(".input-append")||this.$element.find(".input-prepend"))&&(this.component=this.$element.find(".add-on")),this.format=c.format,this.format||(this.format=this.isInput?this.$element.data("format"):this.$element.find("input").data("format"),this.format||(this.format="MM/dd/yyyy")),this._compileFormat(),this.component&&(e=this.component.find("i")),this.pickTime&&(e&&e.length&&(this.timeIcon=e.data("time-icon")),this.timeIcon||(this.timeIcon="icon-time"),e.addClass(this.timeIcon)),this.pickDate&&(e&&e.length&&(this.dateIcon=e.data("date-icon")),this.dateIcon||(this.dateIcon="icon-calendar"),e.removeClass(this.timeIcon),e.addClass(this.dateIcon)),this.widget=a(d(this.timeIcon,c.pickDate,c.pickTime,c.pick12HourFormat,c.pickSeconds,c.collapse)).appendTo("body"),this.minViewMode=c.minViewMode||this.$element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=c.viewMode||this.$element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=c.weekStart||this.$element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.setStartDate(c.startDate||this.$element.data("date-startdate")),this.setEndDate(c.endDate||this.$element.data("date-enddate")),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this.update(),this.showMode(),this._attachDatePickerEvents()},show:function(a){this.widget.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),this.$element.trigger({type:"show",date:this._date}),this._attachDatePickerGlobalEvents(),a&&(a.stopPropagation(),a.preventDefault())},disable:function(){this.$element.find("input").prop("disabled",!0),this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",!1),this._attachDatePickerEvents()},hide:function(){for(var a=this.widget.find(".collapse"),b=0;b<a.length;b++){var c=a.eq(b).data("collapse");if(c&&c.transitioning)return}this.widget.hide(),this.viewMode=this.startViewMode,this.showMode(),this.set(),this.$element.trigger({type:"hide",date:this._date}),this._detachDatePickerGlobalEvents()},set:function(){var a="";if(this._unset||(a=this.formatDate(this._date)),this.isInput)this.$element.val(a),this._resetMaskPos(this.$element);else{if(this.component){var b=this.$element.find("input");b.val(a),this._resetMaskPos(b)}this.$element.data("date",a)}},setValue:function(a){this._unset=a?!1:!0,"string"==typeof a?this._date=this.parseDate(a):a&&(this._date=new Date(a)),this.set(),this.viewDate=e(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},getDate:function(){return this._unset?null:new Date(this._date.valueOf())},setDate:function(a){this.setValue(a?a.valueOf():null)},setStartDate:function(a){a instanceof Date?this.startDate=a:"string"==typeof a?(this.startDate=new e(a),this.startDate.getUTCFullYear()||(this.startDate=-(1/0))):this.startDate=-(1/0),this.viewDate&&this.update()},setEndDate:function(a){a instanceof Date?this.endDate=a:"string"==typeof a?(this.endDate=new e(a),this.endDate.getUTCFullYear()||(this.endDate=1/0)):this.endDate=1/0,this.viewDate&&this.update()},getLocalDate:function(){if(this._unset)return null;var a=this._date;return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())},setLocalDate:function(a){this.setValue(a?Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()):null)},place:function(){var b="absolute",c=this.component?this.component.offset():this.$element.offset();this.width=this.component?this.component.outerWidth():this.$element.outerWidth(),c.top=c.top+this.height;var d=a(window);void 0!=this.options.width&&this.widget.width(this.options.width),"left"==this.options.orientation&&(this.widget.addClass("left-oriented"),c.left=c.left-this.widget.width()+20),this._isInFixed()&&(b="fixed",c.top-=d.scrollTop(),c.left-=d.scrollLeft()),d.width()<c.left+this.widget.outerWidth()?(c.right=d.width()-c.left-this.width,c.left="auto",this.widget.addClass("pull-right")):(c.right="auto",this.widget.removeClass("pull-right")),this.widget.css({position:b,top:c.top,left:c.left,right:c.right})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(a){var b=a;if(!b&&(b=this.isInput?this.$element.val():this.$element.find("input").val(),b&&(this._date=this.parseDate(b)),!this._date)){var c=new Date;this._date=e(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())}this.viewDate=e(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},fillDow:function(){for(var b=this.weekStart,c=a("<tr>");b<this.weekStart+7;)c.append('<th class="dow">'+h[this.language].daysMin[b++%7]+"</th>");this.widget.find(".datepicker-days thead").append(c)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+h[this.language].monthsShort[b++]+"</span>";this.widget.find(".datepicker-months td").append(a)},fillDate:function(){var b=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth(),d=e(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0),f="object"==typeof this.startDate?this.startDate.getUTCFullYear():-(1/0),g="object"==typeof this.startDate?this.startDate.getUTCMonth():-1,i="object"==typeof this.endDate?this.endDate.getUTCFullYear():1/0,j="object"==typeof this.endDate?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-days th:eq(1)").text(h[this.language].months[c]+" "+b);var k=e(b,c-1,28,0,0,0,0),l=n.getDaysInMonth(k.getUTCFullYear(),k.getUTCMonth());k.setUTCDate(l),k.setUTCDate(l-(k.getUTCDay()-this.weekStart+7)%7),(b==f&&g>=c||f>b)&&this.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(b==i&&c>=j||b>i)&&this.widget.find(".datepicker-days th:eq(2)").addClass("disabled");var m=new Date(k.valueOf());m.setUTCDate(m.getUTCDate()+42),m=m.valueOf();for(var o,p,q=[];k.valueOf()<m;)k.getUTCDay()===this.weekStart&&(o=a("<tr>"),q.push(o)),p="",k.getUTCFullYear()<b||k.getUTCFullYear()==b&&k.getUTCMonth()<c?p+=" old":(k.getUTCFullYear()>b||k.getUTCFullYear()==b&&k.getUTCMonth()>c)&&(p+=" new"),k.valueOf()===d.valueOf()&&(p+=" active"),k.valueOf()+864e5<=this.startDate&&(p+=" disabled"),k.valueOf()>this.endDate&&(p+=" disabled"),o.append('<td class="day'+p+'">'+k.getUTCDate()+"</td>"),k.setUTCDate(k.getUTCDate()+1);this.widget.find(".datepicker-days tbody").empty().append(q);var r=this._date.getUTCFullYear(),s=this.widget.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active");r===b&&s.eq(this._date.getUTCMonth()).addClass("active"),f>r-1&&this.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),r+1>i&&this.widget.find(".datepicker-months th:eq(2)").addClass("disabled");for(var t=0;12>t;t++)b==f&&g>t||f>b?a(s[t]).addClass("disabled"):(b==i&&t>j||b>i)&&a(s[t]).addClass("disabled");q="",b=10*parseInt(b/10,10);var u=this.widget.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled"),f>b&&this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),b+9>i&&this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),b-=1;for(var t=-1;11>t;t++)q+='<span class="year'+(-1===t||10===t?" old":"")+(r===b?" active":"")+(f>b||b>i?" disabled":"")+'">'+b+"</span>",b+=1;u.html(q)},fillHours:function(){var a=this.widget.find(".timepicker .timepicker-hours table");a.parent().hide();var b="";if(this.options.pick12HourFormat)for(var d=1,e=0;3>e;e+=1){b+="<tr>";for(var f=0;4>f;f+=1){var g=d.toString();b+='<td class="hour">'+c(g,2,"0")+"</td>",d++}b+="</tr>"}else for(var d=0,e=0;6>e;e+=1){b+="<tr>";for(var f=0;4>f;f+=1){var g=d.toString();b+='<td class="hour">'+c(g,2,"0")+"</td>",d++}b+="</tr>"}a.html(b)},fillMinutes:function(){var a=this.widget.find(".timepicker .timepicker-minutes table");a.parent().hide();for(var b="",d=0,e=0;5>e;e++){b+="<tr>";for(var f=0;4>f;f+=1){var g=d.toString();b+='<td class="minute">'+c(g,2,"0")+"</td>",d+=3}b+="</tr>"}a.html(b)},fillSeconds:function(){var a=this.widget.find(".timepicker .timepicker-seconds table");a.parent().hide();for(var b="",d=0,e=0;5>e;e++){b+="<tr>";for(var f=0;4>f;f+=1){var g=d.toString();b+='<td class="second">'+c(g,2,"0")+"</td>",d+=3}b+="</tr>"}a.html(b)},fillTime:function(){if(this._date){var a=this.widget.find(".timepicker span[data-time-component]"),b=(a.closest("table"),this.options.pick12HourFormat),d=this._date.getUTCHours(),e="AM";b&&(d>=12&&(e="PM"),0===d?d=12:12!=d&&(d%=12),this.widget.find(".timepicker [data-action=togglePeriod]").text(e)),d=c(d.toString(),2,"0");var f=c(this._date.getUTCMinutes().toString(),2,"0"),g=c(this._date.getUTCSeconds().toString(),2,"0");a.filter("[data-time-component=hours]").text(d),a.filter("[data-time-component=minutes]").text(f),a.filter("[data-time-component=seconds]").text(g)}},click:function(b){b.stopPropagation(),b.preventDefault(),this._unset=!1;var c=a(b.target).closest("span, td, th");if(1===c.length&&!c.is(".disabled"))switch(c[0].nodeName.toLowerCase()){case"th":switch(c[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var d=this.viewDate,f=n.modes[this.viewMode].navFnc,g=n.modes[this.viewMode].navStep;"prev"===c[0].className&&(g=-1*g),d["set"+f](d["get"+f]()+g),this.fillDate(),this.set()}break;case"span":if(c.is(".month")){var h=c.parent().find("span").index(c);this.viewDate.setUTCMonth(h)}else{var i=parseInt(c.text(),10)||0;this.viewDate.setUTCFullYear(i)}0!==this.viewMode&&(this._date=e(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.notifyChange()),this.showMode(-1),this.fillDate(),this.set();break;case"td":if(c.is(".day")){var j=parseInt(c.text(),10)||1,h=this.viewDate.getUTCMonth(),i=this.viewDate.getUTCFullYear();c.is(".old")?0===h?(h=11,i-=1):h-=1:c.is(".new")&&(11==h?(h=0,i+=1):h+=1),this._date=e(i,h,j,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.viewDate=e(i,h,Math.min(28,j),0,0,0,0),this.fillDate(),this.set(),this.notifyChange()}}},actions:{incrementHours:function(){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(){var a=this._date.getUTCHours();a>=12?a-=12:a+=12,this._date.setUTCHours(a)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=a(b.target),d=parseInt(c.text(),10);if(this.options.pick12HourFormat){var e=this._date.getUTCHours();e>=12?12!=d&&(d=(d+12)%24):12===d?d=0:d%=12}this._date.setUTCHours(d),this.actions.showPicker.call(this)},selectMinute:function(b){var c=a(b.target),d=parseInt(c.text(),10);this._date.setUTCMinutes(d),this.actions.showPicker.call(this)},selectSecond:function(b){var c=a(b.target),d=parseInt(c.text(),10);this._date.setUTCSeconds(d),this.actions.showPicker.call(this)}},doAction:function(b){b.stopPropagation(),b.preventDefault(),this._date||(this._date=e(1970,0,0,0,0,0,0));var c=a(b.currentTarget).data("action"),d=this.actions[c].apply(this,arguments);return this.set(),this.fillTime(),this.notifyChange(),d},stopEvent:function(a){a.stopPropagation(),a.preventDefault()},keydown:function(b){var c=this,d=b.which,e=a(b.target);(8==d||46==d)&&setTimeout(function(){c._resetMaskPos(e)})},keypress:function(b){var c=b.which;if(8!=c&&46!=c){var d=a(b.target),e=String.fromCharCode(c),f=d.val()||"";f+=e;var g=this._mask[this._maskPos];if(!g)return!1;if(g.end==f.length){if(!g.pattern.test(f.slice(g.start))){for(f=f.slice(0,f.length-1);(g=this._mask[this._maskPos])&&g.character;)f+=g.character,this._maskPos++;return f+=e,g.end!=f.length?(d.val(f),!1):g.pattern.test(f.slice(g.start))?(d.val(f),this._maskPos++,!1):(d.val(f.slice(0,g.start)),!1)}this._maskPos++}}},change:function(b){var c=a(b.target),d=c.val();this._formatPattern.test(d)?(this.update(),this.setValue(this._date.getTime()),this.notifyChange(),this.set()):d&&d.trim()?(this.setValue(this._date.getTime()),this._date?this.set():c.val("")):this._date&&(this.setValue(null),this.notifyChange(),this._unset=!0),this._resetMaskPos(c)},showMode:function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+n.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents(),this._detachDatePickerGlobalEvents(),this.widget.remove(),this.$element.removeData("datetimepicker"),this.component.removeData("datetimepicker")},formatDate:function(a){return this.format.replace(m,function(b){var d,e,f,g=b.length;if("ms"===b&&(g=1),e=i[b].property,"Hours12"===e)f=a.getUTCHours(),0===f?f=12:12!==f&&(f%=12);else{if("Period12"===e)return a.getUTCHours()>=12?"PM":"AM";d="get"+e,f=a[d]()}return"getUTCMonth"===d&&(f+=1),"getUTCYear"===d&&(f=f+1900-2e3),c(f.toString(),g,"0")})},parseDate:function(a){var b,c,d,e,f={};if(!(b=this._formatPattern.exec(a)))return null;for(c=1;c<b.length;c++)d=this._propertiesByIndex[c],d&&(e=b[c],/^\d+$/.test(e)&&(e=parseInt(e,10)),f[d]=e);return this._finishParsingDate(f)},_resetMaskPos:function(a){for(var b=a.val(),c=0;c<this._mask.length;c++){if(this._mask[c].end>b.length){this._maskPos=c;break}if(this._mask[c].end===b.length){this._maskPos=c+1;break}}},_finishParsingDate:function(a){var b,c,d,f,g,h,i;return b=a.UTCFullYear,a.UTCYear&&(b=2e3+a.UTCYear),b||(b=1970),c=a.UTCMonth?a.UTCMonth-1:0,d=a.UTCDate||1,f=a.UTCHours||0,g=a.UTCMinutes||0,h=a.UTCSeconds||0,i=a.UTCMilliseconds||0,a.Hours12&&(f=a.Hours12),a.Period12&&(/pm/i.test(a.Period12)?12!=f&&(f=(f+12)%24):f%=12),e(b,c,d,f,g,h,i)},_compileFormat:function(){for(var a,c,d=[],e=[],f=this.format,g={},h=0,j=0;a=l.exec(f);)c=a[0],c in i?(h++,g[h]=i[c].property,d.push("\\s*"+i[c].getPattern(this)+"\\s*"),e.push({pattern:new RegExp(i[c].getPattern(this)),property:i[c].property,start:j,end:j+=c.length})):(d.push(b(c)),e.push({pattern:new RegExp(b(c)),character:c,start:j,end:++j})),f=f.slice(c.length);this._mask=e,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+d.join("")+"\\s*$"),this._propertiesByIndex=g},_attachDatePickerEvents:function(){var b=this;this.widget.on("click",".datepicker *",a.proxy(this.click,this)),this.widget.on("click","[data-action]",a.proxy(this.doAction,this)),this.widget.on("mousedown",a.proxy(this.stopEvent,this)),this.pickDate&&this.pickTime&&this.widget.on("click.togglePicker",".accordion-toggle",function(c){c.stopPropagation();var d=a(this),e=d.closest("ul"),f=e.find(".collapse.in"),g=e.find(".collapse:not(.in)");if(f&&f.length){var h=f.data("collapse");if(h&&h.transitioning)return;f.collapse("hide"),g.collapse("show"),d.find("i").toggleClass(b.timeIcon+" "+b.dateIcon),b.$element.find(".add-on i").toggleClass(b.timeIcon+" "+b.dateIcon)}}),this.isInput?(this.$element.on({focus:a.proxy(this.show,this),change:a.proxy(this.change,this)}),this.options.maskInput&&this.$element.on({keydown:a.proxy(this.keydown,this),keypress:a.proxy(this.keypress,this)})):(this.$element.on({change:a.proxy(this.change,this)},"input"),this.options.maskInput&&this.$element.on({keydown:a.proxy(this.keydown,this),keypress:a.proxy(this.keypress,this)},"input"),this.component?this.component.on("click",a.proxy(this.show,this)):this.$element.on("click",a.proxy(this.show,this)))},_attachDatePickerGlobalEvents:function(){a(window).on("resize.datetimepicker"+this.id,a.proxy(this.place,this)),this.isInput||a(document).on("mousedown.datetimepicker"+this.id,a.proxy(this.hide,this))},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click),this.widget.off("click","[data-action]"),this.widget.off("mousedown",this.stopEvent),this.pickDate&&this.pickTime&&this.widget.off("click.togglePicker"),this.isInput?(this.$element.off({focus:this.show,change:this.change}),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress})):(this.$element.off({change:this.change},"input"),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress},"input"),this.component?this.component.off("click",this.show):this.$element.off("click",this.show))},_detachDatePickerGlobalEvents:function(){a(window).off("resize.datetimepicker"+this.id),this.isInput||a(document).off("mousedown.datetimepicker"+this.id)},_isInFixed:function(){if(this.$element){for(var b=this.$element.parents(),c=!1,d=0;d<b.length;d++)if("fixed"==a(b[d]).css("position")){c=!0;break}return c}return!1}},a.fn.datetimepicker=function(b,c){return this.each(function(){var d=a(this),e=d.data("datetimepicker"),g="object"==typeof b&&b;e||d.data("datetimepicker",e=new f(this,a.extend({},a.fn.datetimepicker.defaults,g))),"string"==typeof b&&e[b](c)})},a.fn.datetimepicker.defaults={maskInput:!1,pickDate:!0,pickTime:!0,pick12HourFormat:!1,pickSeconds:!0,startDate:-(1/0),endDate:1/0,collapse:!0},a.fn.datetimepicker.Constructor=f;var g=0,h=a.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},i={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}},j=[];for(var k in i)j.push(k);j[j.length-1]+="\\b",j.push(".");var l=new RegExp(j.join("\\b|"));j.pop();var m=new RegExp(j.join("\\b|"),"g"),n={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,n.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};n.template='<div class="datepicker-days"><table class="table-condensed">'+n.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+n.headTemplate+n.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+n.headTemplate+n.contTemplate+"</table></div>";var o={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};o.getTemplate=function(a,b){return'<div class="timepicker-picker"><table class="table-condensed"'+(a?' data-hour-format="12"':"")+'><tr><td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(b?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(a?'<td class="separator"></td>':"")+"</tr><tr><td>"+o.hourTemplate+'</td> <td class="separator">:</td><td>'+o.minuteTemplate+"</td> "+(b?'<td class="separator">:</td><td>'+o.secondTemplate+"</td>":"")+(a?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(b?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(a?'<td class="separator"></td>':"")+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(b?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"");

}}(window.jQuery),function(a){function b(a,b,e){var f=a[0],g=/er/.test(e)?_indeterminate:/bl/.test(e)?n:l,h=e==_update?{checked:f[l],disabled:f[n],indeterminate:"true"==a.attr(_indeterminate)||"false"==a.attr(_determinate)}:f[g];if(/^(ch|di|in)/.test(e)&&!h)c(a,g);else if(/^(un|en|de)/.test(e)&&h)d(a,g);else if(e==_update)for(var i in h)h[i]?c(a,i,!0):d(a,i,!0);else b&&"toggle"!=e||(b||a[_callback]("ifClicked"),h?f[_type]!==k&&d(a,g):c(a,g))}function c(b,c,e){var o=b[0],p=b.parent(),q=c==l,r=c==_indeterminate,s=c==n,t=r?_determinate:q?m:"enabled",u=f(b,t+g(o[_type])),v=f(b,c+g(o[_type]));if(!0!==o[c]){if(!e&&c==l&&o[_type]==k&&o.name){var w=b.closest("form"),x='input[name="'+o.name+'"]',x=w.length?w.find(x):a(x);x.each(function(){this!==o&&a(this).data(i)&&d(a(this),c)})}r?(o[c]=!0,o[l]&&d(b,l,"force")):(e||(o[c]=!0),q&&o[_indeterminate]&&d(b,_indeterminate,!1)),h(b,q,c,e)}o[n]&&f(b,_cursor,!0)&&p.find("."+j).css(_cursor,"default"),p[_add](v||f(b,c)||""),p.attr("role")&&!r&&p.attr("aria-"+(s?n:l),"true"),p[_remove](u||f(b,t)||"")}function d(a,b,c){var d=a[0],e=a.parent(),i=b==l,k=b==_indeterminate,o=b==n,p=k?_determinate:i?m:"enabled",q=f(a,p+g(d[_type])),r=f(a,b+g(d[_type]));!1!==d[b]&&((k||!c||"force"==c)&&(d[b]=!1),h(a,i,p,c)),!d[n]&&f(a,_cursor,!0)&&e.find("."+j).css(_cursor,"pointer"),e[_remove](r||f(a,b)||""),e.attr("role")&&!k&&e.attr("aria-"+(o?n:l),"false"),e[_add](q||f(a,p)||"")}function e(b,c){b.data(i)&&(b.parent().html(b.attr("style",b.data(i).s||"")),c&&b[_callback](c),b.off(".i").unwrap(),a(_label+'[for="'+b[0].id+'"]').add(b.closest(_label)).off(".i"))}function f(a,b,c){return a.data(i)?a.data(i).o[b+(c?"":"Class")]:void 0}function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}function h(a,b,c,d){d||(b&&a[_callback]("ifToggled"),a[_callback]("ifChanged")[_callback]("if"+g(c)))}var i="iCheck",j=i+"-helper",k="radio",l="checked",m="un"+l,n="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),a.fn[i]=function(f,g){var h='input[type="checkbox"], input[type="'+k+'"]',m=a(),o=function(b){b.each(function(){var b=a(this);m=m.add(b.is(h)?b:b.find(h))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(f))return f=f.toLowerCase(),o(this),m.each(function(){var c=a(this);"destroy"==f?e(c,"ifDestroyed"):b(c,!0,f),a.isFunction(g)&&g()});if("object"!=typeof f&&f)return this;var p=a.extend({checkedClass:l,disabledClass:n,indeterminateClass:_indeterminate,labelHover:!0},f),q=p.handle,r=p.hoverClass||"hover",s=p.focusClass||"focus",t=p.activeClass||"active",u=!!p.labelHover,v=p.labelHoverClass||"hover",w=0|(""+p.increaseArea).replace("%","");return("checkbox"==q||q==k)&&(h='input[type="'+q+'"]'),-50>w&&(w=-50),o(this),m.each(function(){var f=a(this);e(f);var g=this,h=g.id,m=-w+"%",o=100+2*w+"%",o={position:"absolute",top:m,left:m,display:"block",width:o,height:o,margin:0,padding:0,background:"#fff",border:0,opacity:0},m=_mobile?{position:"absolute",visibility:"hidden"}:w?o:{position:"absolute",opacity:0},q="checkbox"==g[_type]?p.checkboxClass||"icheckbox":p.radioClass||"i"+k,x=a(_label+'[for="'+h+'"]').add(f.closest(_label)),y=!!p.aria,z=i+"-"+Math.random().toString(36).substr(2,6),A='<div class="'+q+'" '+(y?'role="'+g[_type]+'" ':"");y&&x.each(function(){A+='aria-labelledby="',this.id?A+=this.id:(this.id=z,A+=z),A+='"'}),A=f.wrap(A+"/>")[_callback]("ifCreated").parent().append(p.insert),o=a('<ins class="'+j+'"/>').css(o).appendTo(A),f.data(i,{o:p,s:f.attr("style")}).css(m),p.inheritClass&&A[_add](g.className||""),p.inheritID&&h&&A.attr("id",i+"-"+h),"static"==A.css("position")&&A.css("position","relative"),b(f,!0,_update),x.length&&x.on(_click+".i mouseover.i mouseout.i "+_touch,function(c){var d=c[_type],e=a(this);if(!g[n]){if(d==_click){if(a(c.target).is("a"))return;b(f,!1,!0)}else u&&(/ut|nd/.test(d)?(A[_remove](r),e[_remove](v)):(A[_add](r),e[_add](v)));if(!_mobile)return!1;c.stopPropagation()}}),f.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(a){var b=a[_type];return a=a.keyCode,b==_click?!1:"keydown"==b&&32==a?(g[_type]==k&&g[l]||(g[l]?d(f,l):c(f,l)),!1):void("keyup"==b&&g[_type]==k?!g[l]&&c(f,l):/us|ur/.test(b)&&A["blur"==b?_remove:_add](s))}),o.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(a){var c=a[_type],d=/wn|up/.test(c)?t:r;if(!g[n]){if(c==_click?b(f,!1,!0):(/wn|er|in/.test(c)?A[_add](d):A[_remove](d+" "+t),x.length&&u&&d==r&&x[/ut|nd/.test(c)?_remove:_add](v)),!_mobile)return!1;a.stopPropagation()}})})}}(window.jQuery||window.Zepto),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"undefined"==typeof a&&"undefined"!=typeof window.jQuery&&(a=window.jQuery);var b={attr:function(a,b,c){var d,e={},f=this.msieversion(),g=new RegExp("^"+b,"i");if("undefined"==typeof a||"undefined"==typeof a[0])return{};for(var h in a[0].attributes)if(d=a[0].attributes[h],"undefined"!=typeof d&&null!==d&&(!f||f>=8||d.specified)&&g.test(d.name)){if("undefined"!=typeof c&&new RegExp(c+"$","i").test(d.name))return!0;e[this.camelize(d.name.replace(b,""))]=this.deserializeValue(d.value)}return"undefined"==typeof c?e:!1},setAttr:function(a,b,c,d){a[0].setAttribute(this.dasherize(b+c),String(d))},get:function(a,b){for(var c=0,d=(b||"").split(".");this.isObject(a)||this.isArray(a);)if(a=a[d[c++]],c===d.length)return a;return void 0},hash:function(a){return String(Math.random()).substring(2,a?a+2:9)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return a===Object(a)},deserializeValue:function(b){var c;try{return b?"true"==b||("false"==b?!1:"null"==b?null:isNaN(c=Number(b))?/^[\[\{]/.test(b)?a.parseJSON(b):b:c):b}catch(d){return b}},camelize:function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},dasherize:function(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return b>0||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(a.substring(b+5,a.indexOf(".",b)),10):0}},c={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},d=function(){};d.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(a,b,c){return window.ParsleyValidator.validate(a,b,c)},subscribe:function(b,c){return a.listenTo(this,b.toLowerCase(),c),this},unsubscribe:function(b){return a.unsubscribeTo(this,b.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return a.emit("parsley:field:reset",this);for(var b=0;b<this.fields.length;b++)a.emit("parsley:field:reset",this.fields[b]);a.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void a.emit("parsley:field:destroy",this);for(var b=0;b<this.fields.length;b++)this.fields[b].destroy();this.$element.removeData("Parsley"),a.emit("parsley:form:destroy",this)}};var e=function(){var a={},b=function(a){this.__class__="Validator",this.__version__="1.0.1",this.options=a||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint"};b.prototype={constructor:b,validate:function(a,b,c){if("string"!=typeof a&&"object"!=typeof a)throw new Error("You must validate an object or a string");return"string"==typeof a||g(a)?this._validateString(a,b,c):this.isBinded(a)?this._validateBindedObject(a,b):this._validateObject(a,b,c)},bind:function(a,b){if("object"!=typeof a)throw new Error("Must bind a Constraint to an object");return a[this.bindingKey]=new c(b),this},unbind:function(a){return"undefined"==typeof a._validatorjsConstraint?this:(delete a[this.bindingKey],this)},isBinded:function(a){return"undefined"!=typeof a[this.bindingKey]},getBinded:function(a){return this.isBinded(a)?a[this.bindingKey]:null},_validateString:function(a,b,c){var f,h=[];g(b)||(b=[b]);for(var i=0;i<b.length;i++){if(!(b[i]instanceof e))throw new Error("You must give an Assert or an Asserts array to validate a string");f=b[i].check(a,c),f instanceof d&&h.push(f)}return h.length?h:!0},_validateObject:function(a,b,d){if("object"!=typeof b)throw new Error("You must give a constraint to validate an object");return b instanceof c?b.check(a,d):new c(b).check(a,d)},_validateBindedObject:function(a,b){return a[this.bindingKey].check(a,b)}},b.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var c=function(a,b){if(this.__class__="Constraint",this.options=b||{},this.nodes={},a)try{this._bootstrap(a)}catch(c){throw new Error("Should give a valid mapping object to Constraint",c,a)}};c.prototype={constructor:c,check:function(a,b){var c,d={};for(var h in this.nodes){for(var i=!1,j=this.get(h),k=g(j)?j:[j],l=k.length-1;l>=0;l--)"Required"!==k[l].__class__||(i=k[l].requiresValidation(b));if(this.has(h,a)||this.options.strict||i)try{this.has(h,this.options.strict||i?a:void 0)||(new e).HaveProperty(h).validate(a),c=this._check(h,a[h],b),(g(c)&&c.length>0||!g(c)&&!f(c))&&(d[h]=c)}catch(m){d[h]=m}}return f(d)?!0:d},add:function(a,b){if(b instanceof e||g(b)&&b[0]instanceof e)return this.nodes[a]=b,this;if("object"==typeof b&&!g(b))return this.nodes[a]=b instanceof c?b:new c(b),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",b)},has:function(a,b){return b="undefined"!=typeof b?b:this.nodes,"undefined"!=typeof b[a]},get:function(a,b){return this.has(a)?this.nodes[a]:b||null},remove:function(a){var b=[];for(var c in this.nodes)c!==a&&(b[c]=this.nodes[c]);return this.nodes=b,this},_bootstrap:function(a){if(a instanceof c)return this.nodes=a.nodes;for(var b in a)this.add(b,a[b])},_check:function(a,b,d){if(this.nodes[a]instanceof e)return this._checkAsserts(b,[this.nodes[a]],d);if(g(this.nodes[a]))return this._checkAsserts(b,this.nodes[a],d);if(this.nodes[a]instanceof c)return this.nodes[a].check(b,d);throw new Error("Invalid node",this.nodes[a])},_checkAsserts:function(a,b,c){for(var d,e=[],f=0;f<b.length;f++)d=b[f].check(a,c),"undefined"!=typeof d&&!0!==d&&e.push(d);return e}};var d=function(a,b,c){if(this.__class__="Violation",!(a instanceof e))throw new Error("Should give an assertion implementing the Assert interface");this.assert=a,this.value=b,"undefined"!=typeof c&&(this.violation=c)};d.prototype={show:function(){var a={assert:this.assert.__class__,value:this.value};return this.violation&&(a.violation=this.violation),a},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var a,b;for(a in this.violation)b=this.violation[a];return{constraint:a,expected:b}}};var e=function(a){this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof a&&this.addGroup(a)};e.prototype={construct:e,requiresValidation:function(a){return a&&!this.hasGroup(a)?!1:!a&&this.hasGroups()?!1:!0},check:function(a,b){if(this.requiresValidation(b))try{return this.validate(a,b)}catch(c){return c}},hasGroup:function(a){return g(a)?this.hasOneOf(a):"Any"===a?!0:this.hasGroups()?-1!==this.groups.indexOf(a):"Default"===a},hasOneOf:function(a){for(var b=0;b<a.length;b++)if(this.hasGroup(a[b]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(a){return g(a)?this.addGroups(a):(this.hasGroup(a)||this.groups.push(a),this)},removeGroup:function(a){for(var b=[],c=0;c<this.groups.length;c++)a!==this.groups[c]&&b.push(this.groups[c]);return this.groups=b,this},addGroups:function(a){for(var b=0;b<a.length;b++)this.addGroup(a[b]);return this},HaveProperty:function(a){return this.__class__="HaveProperty",this.node=a,this.validate=function(a){if("undefined"==typeof a[this.node])throw new d(this,a,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(a){if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(""!==a.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new d(this,a);return!0},this},Callback:function(a){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof a)throw new Error("Callback must be instanciated with a function");return this.fn=a,this.validate=function(a){var b=this.fn.apply(this,[a].concat(this.arguments));if(!0!==b)throw new d(this,a,{result:b});return!0},this},Choice:function(a){if(this.__class__="Choice",!g(a)&&"function"!=typeof a)throw new Error("Choice must be instanciated with an array or a function");return this.list=a,this.validate=function(a){for(var b="function"==typeof this.list?this.list():this.list,c=0;c<b.length;c++)if(a===b[c])return!0;throw new d(this,a,{choices:b})},this},Collection:function(a){return this.__class__="Collection",this.constraint="undefined"!=typeof a?a instanceof e?a:new c(a):!1,this.validate=function(a,c){var e,h=new b,i=0,j={},k=this.groups.length?this.groups:c;if(!g(a))throw new d(this,a,{value:b.errorCode.must_be_an_array});for(var l=0;l<a.length;l++)e=this.constraint?h.validate(a[l],this.constraint,k):h.validate(a[l],k),f(e)||(j[i]=e),i++;return f(j)?!0:j},this},Count:function(a){return this.__class__="Count",this.count=a,this.validate=function(a){if(!g(a))throw new d(this,a,{value:b.errorCode.must_be_an_array});var c="function"==typeof this.count?this.count(a):this.count;if(isNaN(Number(c)))throw new Error("Count must be a valid interger",c);if(c!==a.length)throw new d(this,a,{count:c});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(a){var c=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(!c.test(a))throw new d(this,a);return!0},this},EqualTo:function(a){if(this.__class__="EqualTo","undefined"==typeof a)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=a,this.validate=function(a){var b="function"==typeof this.reference?this.reference(a):this.reference;if(b!==a)throw new d(this,a,{value:b});return!0},this},GreaterThan:function(a){if(this.__class__="GreaterThan","undefined"==typeof a)throw new Error("Should give a threshold value");return this.threshold=a,this.validate=function(a){if(""===a||isNaN(Number(a)))throw new d(this,a,{value:b.errorCode.must_be_a_number});if(this.threshold>=a)throw new d(this,a,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(a){if(this.__class__="GreaterThanOrEqual","undefined"==typeof a)throw new Error("Should give a threshold value");return this.threshold=a,this.validate=function(a){if(""===a||isNaN(Number(a)))throw new d(this,a,{value:b.errorCode.must_be_a_number});if(this.threshold>a)throw new d(this,a,{threshold:this.threshold});return!0},this},InstanceOf:function(a){if(this.__class__="InstanceOf","undefined"==typeof a)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=a,this.validate=function(a){if(1!=a instanceof this.classRef)throw new d(this,a,{classRef:this.classRef});return!0},this},Length:function(a){if(this.__class__="Length",!a.min&&!a.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=a.min,this.max=a.max,this.validate=function(a){if("string"!=typeof a&&!g(a))throw new d(this,a,{value:b.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&a.length!==this.min)throw new d(this,a,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&a.length>this.max)throw new d(this,a,{max:this.max});if("undefined"!=typeof this.min&&a.length<this.min)throw new d(this,a,{min:this.min});return!0},this},LessThan:function(a){if(this.__class__="LessThan","undefined"==typeof a)throw new Error("Should give a threshold value");return this.threshold=a,this.validate=function(a){if(""===a||isNaN(Number(a)))throw new d(this,a,{value:b.errorCode.must_be_a_number});if(this.threshold<=a)throw new d(this,a,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(a){if(this.__class__="LessThanOrEqual","undefined"==typeof a)throw new Error("Should give a threshold value");return this.threshold=a,this.validate=function(a){if(""===a||isNaN(Number(a)))throw new d(this,a,{value:b.errorCode.must_be_a_number});if(this.threshold<a)throw new d(this,a,{threshold:this.threshold});return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(a){if(null===a||"undefined"==typeof a)throw new d(this,a);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(a){if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(""===a.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new d(this,a);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(a){if(null!==a)throw new d(this,a);return!0},this},Range:function(a,b){if(this.__class__="Range","undefined"==typeof a||"undefined"==typeof b)throw new Error("Range assert expects min and max values");return this.min=a,this.max=b,this.validate=function(a){try{return"string"==typeof a&&isNaN(Number(a))||g(a)?(new e).Length({min:this.min,max:this.max}).validate(a):(new e).GreaterThanOrEqual(this.min).validate(a)&&(new e).LessThanOrEqual(this.max).validate(a),!0}catch(b){throw new d(this,a,b.violation)}return!0},this},Regexp:function(a,c){if(this.__class__="Regexp","undefined"==typeof a)throw new Error("You must give a regexp");return this.regexp=a,this.flag=c||"",this.validate=function(a){if("string"!=typeof a)throw new d(this,a,{value:b.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(a))throw new d(this,a,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(a){if("undefined"==typeof a)throw new d(this,a);try{"string"==typeof a?(new e).NotNull().validate(a)&&(new e).NotBlank().validate(a):!0===g(a)&&(new e).Length({min:1}).validate(a)}catch(b){throw new d(this,a)}return!0},this},Unique:function(a){return this.__class__="Unique","object"==typeof a&&(this.key=a.key),this.validate=function(a){var c,e=[];if(!g(a))throw new d(this,a,{value:b.errorCode.must_be_an_array});for(var f=0;f<a.length;f++)if(c="object"==typeof a[f]?a[f][this.key]:a[f],"undefined"!=typeof c){if(-1!==e.indexOf(c))throw new d(this,a,{value:c});e.push(c)}return!0},this}},a.Assert=e,a.Validator=b,a.Violation=d,a.Constraint=c,Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!==d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1});var f=function(a){for(var b in a)return!1;return!0},g=function(a){return"[object Array]"===Object.prototype.toString.call(a)};return"function"==typeof define&&define.amd?define("vendors/validator.js/dist/validator",[],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:window["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]=a,a}();e="undefined"!=typeof e?e:"undefined"!=typeof module?module.exports:null;var f=function(a,b){this.__class__="ParsleyValidator",this.Validator=e,this.locale="en",this.init(a||{},b||{})};f.prototype={init:function(b,c){this.catalog=c;for(var d in b)this.addValidator(d,b[d].fn,b[d].priority,b[d].requirementsTransformer);a.emit("parsley:validator:init")},setLocale:function(a){if("undefined"==typeof this.catalog[a])throw new Error(a+" is not available in the catalog");return this.locale=a,this},addCatalog:function(a,b,c){return"object"==typeof b&&(this.catalog[a]=b),!0===c?this.setLocale(a):this},addMessage:function(a,b,c){return"undefined"==typeof this.catalog[a]&&(this.catalog[a]={}),this.catalog[a][b.toLowerCase()]=c,this},validate:function(){return(new this.Validator.Validator).validate.apply(new e.Validator,arguments)},addValidator:function(b,c,d,f){return this.validators[b.toLowerCase()]=function(b){return a.extend((new e.Assert).Callback(c,b),{priority:d,requirementsTransformer:f})},this},updateValidator:function(a,b,c,d){return this.addValidator(a,b,c,d)},removeValidator:function(a){return delete this.validators[a],this},getErrorMessage:function(a){var b;return b="type"===a.name?this.catalog[this.locale][a.name][a.requirements]:this.formatMessage(this.catalog[this.locale][a.name],a.requirements),""!==b?b:this.catalog[this.locale].defaultMessage},formatMessage:function(a,b){if("object"==typeof b){for(var c in b)a=this.formatMessage(a,b[c]);return a}return"string"==typeof a?a.replace(new RegExp("%s","i"),b):""},validators:{notblank:function(){return a.extend((new e.Assert).NotBlank(),{priority:2})},required:function(){return a.extend((new e.Assert).Required(),{priority:512})},type:function(b){var c;switch(b){case"email":c=(new e.Assert).Email();break;case"range":case"number":c=(new e.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":c=(new e.Assert).Regexp("^-?\\d+$");break;case"digits":c=(new e.Assert).Regexp("^\\d+$");break;case"alphanum":c=(new e.Assert).Regexp("^\\w+$","i");break;case"url":c=(new e.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,24}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+b+"` is not supported")}return a.extend(c,{priority:256})},pattern:function(b){var c="";return/^\/.*\/(?:[gimy]*)$/.test(b)&&(c=b.replace(/.*\/([gimy]*)$/,"$1"),b=b.replace(new RegExp("^/(.*?)/"+c+"$"),"$1")),a.extend((new e.Assert).Regexp(b,c),{priority:64})},minlength:function(b){return a.extend((new e.Assert).Length({min:b}),{priority:30,requirementsTransformer:function(){return"string"!=typeof b||isNaN(b)?b:parseInt(b,10)}})},maxlength:function(b){return a.extend((new e.Assert).Length({max:b}),{priority:30,requirementsTransformer:function(){return"string"!=typeof b||isNaN(b)?b:parseInt(b,10)}})},length:function(b){return a.extend((new e.Assert).Length({min:b[0],max:b[1]}),{priority:32})},mincheck:function(a){return this.minlength(a)},maxcheck:function(a){return this.maxlength(a)},check:function(a){return this.length(a)},min:function(b){return a.extend((new e.Assert).GreaterThanOrEqual(b),{priority:30,requirementsTransformer:function(){return"string"!=typeof b||isNaN(b)?b:parseInt(b,10)}})},max:function(b){return a.extend((new e.Assert).LessThanOrEqual(b),{priority:30,requirementsTransformer:function(){return"string"!=typeof b||isNaN(b)?b:parseInt(b,10)}})},range:function(b){return a.extend((new e.Assert).Range(b[0],b[1]),{priority:32,requirementsTransformer:function(){for(var a=0;a<b.length;a++)b[a]="string"!=typeof b[a]||isNaN(b[a])?b[a]:parseInt(b[a],10);return b}})},equalto:function(b){return a.extend((new e.Assert).EqualTo(b),{priority:256,requirementsTransformer:function(){return a(b).length?a(b).val():b}})}}};var g=function(){this.__class__="ParsleyUI"};g.prototype={listen:function(){return a.listen("parsley:form:init",this,this.setupForm),a.listen("parsley:field:init",this,this.setupField),a.listen("parsley:field:validated",this,this.reflow),a.listen("parsley:form:validated",this,this.focus),a.listen("parsley:field:reset",this,this.reset),a.listen("parsley:form:destroy",this,this.destroy),a.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(a){if("undefined"!=typeof a._ui&&!1!==a._ui.active){var b=this._diff(a.validationResult,a._ui.lastValidationResult);a._ui.lastValidationResult=a.validationResult,a._ui.validatedOnce=!0,this.manageStatusClass(a),this.manageErrorsMessages(a,b),this.actualizeTriggers(a),(b.kept.length||b.added.length)&&"undefined"==typeof a._ui.failedOnce&&this.manageFailingFieldTrigger(a)}},getErrorsMessages:function(a){if(!0===a.validationResult)return[];for(var b=[],c=0;c<a.validationResult.length;c++)b.push(this._getErrorMessage(a,a.validationResult[c].assert));return b},manageStatusClass:function(a){!0===a.validationResult?this._successClass(a):a.validationResult.length>0?this._errorClass(a):this._resetClass(a)},manageErrorsMessages:function(b,c){if("undefined"==typeof b.options.errorsMessagesDisabled){if("undefined"!=typeof b.options.errorMessage)return c.added.length||c.kept.length?(0===b._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&b._ui.$errorsWrapper.append(a(b.options.errorTemplate).addClass("parsley-custom-error-message")),b._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(b.options.errorMessage)):b._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var d=0;d<c.removed.length;d++)this.removeError(b,c.removed[d].assert.name,!0);for(d=0;d<c.added.length;d++)this.addError(b,c.added[d].assert.name,void 0,c.added[d].assert,!0);for(d=0;d<c.kept.length;d++)this.updateError(b,c.kept[d].assert.name,void 0,c.kept[d].assert,!0)}},addError:function(b,c,d,e,f){b._ui.$errorsWrapper.addClass("filled").append(a(b.options.errorTemplate).addClass("parsley-"+c).html(d||this._getErrorMessage(b,e))),!0!==f&&this._errorClass(b)},updateError:function(a,b,c,d,e){a._ui.$errorsWrapper.addClass("filled").find(".parsley-"+b).html(c||this._getErrorMessage(a,d)),!0!==e&&this._errorClass(a)},removeError:function(a,b,c){a._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+b).remove(),!0!==c&&this.manageStatusClass(a)},focus:function(a){if(!0===a.validationResult||"none"===a.options.focus)return a._focusedField=null;a._focusedField=null;for(var b=0;b<a.fields.length;b++)if(!0!==a.fields[b].validationResult&&a.fields[b].validationResult.length>0&&"undefined"==typeof a.fields[b].options.noFocus){if("first"===a.options.focus)return a._focusedField=a.fields[b].$element,a._focusedField.focus();a._focusedField=a.fields[b].$element}return null===a._focusedField?null:a._focusedField.focus()},_getErrorMessage:function(a,b){var c=b.name+"Message";return"undefined"!=typeof a.options[c]?window.ParsleyValidator.formatMessage(a.options[c],b.requirements):window.ParsleyValidator.getErrorMessage(b)},_diff:function(a,b,c){for(var d=[],e=[],f=0;f<a.length;f++){for(var g=!1,h=0;h<b.length;h++)if(a[f].assert.name===b[h].assert.name){g=!0;break}g?e.push(a[f]):d.push(a[f])}return{kept:e,added:d,removed:c?[]:this._diff(b,a,!0).added}},setupForm:function(b){b.$element.on("submit.Parsley",!1,a.proxy(b.onSubmitValidate,b)),!1!==b.options.uiEnabled&&b.$element.attr("novalidate","")},setupField:function(b){var c={active:!1};!1!==b.options.uiEnabled&&(c.active=!0,b.$element.attr(b.options.namespace+"id",b.__id__),c.$errorClassHandler=this._manageClassHandler(b),c.errorsWrapperId="parsley-id-"+("undefined"!=typeof b.options.multiple?"multiple-"+b.options.multiple:b.__id__),c.$errorsWrapper=a(b.options.errorsWrapper).attr("id",c.errorsWrapperId),c.lastValidationResult=[],c.validatedOnce=!1,c.validationInformationVisible=!1,b._ui=c,b.$element.is(b.options.excluded)||this._insertErrorWrapper(b),this.actualizeTriggers(b))},_manageClassHandler:function(b){if("string"==typeof b.options.classHandler&&a(b.options.classHandler).length)return a(b.options.classHandler);var c=b.options.classHandler(b);return"undefined"!=typeof c&&c.length?c:"undefined"==typeof b.options.multiple||b.$element.is("select")?b.$element:b.$element.parent()},_insertErrorWrapper:function(b){var c;if("string"==typeof b.options.errorsContainer){if(a(b.options.errorsContainer).length)return a(b.options.errorsContainer).append(b._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+b.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof b.options.errorsContainer&&(c=b.options.errorsContainer(b));return"undefined"!=typeof c&&c.length?c.append(b._ui.$errorsWrapper):"undefined"==typeof b.options.multiple?b.$element.after(b._ui.$errorsWrapper):b.$element.parent().after(b._ui.$errorsWrapper)},actualizeTriggers:function(b){var c=b.$element;if(b.options.multiple&&(c=a("["+b.options.namespace+'multiple="'+b.options.multiple+'"]')),c.off(".Parsley"),!1!==b.options.trigger){var d=b.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==d&&c.on(d.split(" ").join(".Parsley ")+".Parsley",a.proxy("function"==typeof b.eventValidate?b.eventValidate:this.eventValidate,b))}},eventValidate:function(a){new RegExp("key").test(a.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(b){return b._ui.failedOnce=!0,b.options.multiple&&a("["+b.options.namespace+'multiple="'+b.options.multiple+'"]').each(function(){return new RegExp("change","i").test(a(this).parsley().options.trigger||"")?void 0:a(this).on("change.ParsleyFailedOnce",!1,a.proxy(b.validate,b))}),b.$element.is("select")&&!new RegExp("change","i").test(b.options.trigger||"")?b.$element.on("change.ParsleyFailedOnce",!1,a.proxy(b.validate,b)):new RegExp("keyup","i").test(b.options.trigger||"")?void 0:b.$element.on("keyup.ParsleyFailedOnce",!1,a.proxy(b.validate,b))},reset:function(a){a.$element.off(".Parsley"),a.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof a._ui&&"ParsleyForm"!==a.__class__&&(a._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(a),a._ui.validatedOnce=!1,a._ui.lastValidationResult=[],a._ui.validationInformationVisible=!1)},destroy:function(a){this.reset(a),"ParsleyForm"!==a.__class__&&("undefined"!=typeof a._ui&&a._ui.$errorsWrapper.remove(),delete a._ui)},_successClass:function(a){a._ui.validationInformationVisible=!0,a._ui.$errorClassHandler.removeClass(a.options.errorClass).addClass(a.options.successClass)},_errorClass:function(a){a._ui.validationInformationVisible=!0,a._ui.$errorClassHandler.removeClass(a.options.successClass).addClass(a.options.errorClass)},_resetClass:function(a){a._ui.$errorClassHandler.removeClass(a.options.successClass).removeClass(a.options.errorClass)}};var h=function(c,d,e,f){this.__class__="OptionsFactory",this.__id__=b.hash(4),this.formOptions=null,
this.fieldOptions=null,this.staticOptions=a.extend(!0,{},c,d,e,{namespace:f})};h.prototype={get:function(a){if("undefined"==typeof a.__class__)throw new Error("Parsley Instance expected");switch(a.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(a);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(a);default:throw new Error("Instance "+a.__class__+" is not supported")}},getFormOptions:function(c){return this.formOptions=b.attr(c.$element,this.staticOptions.namespace),a.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(c){return this.fieldOptions=b.attr(c.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof c.parent&&(this.formOptions=this.getFormOptions(c.parent)),a.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var i=function(c,d){if(this.__class__="ParsleyForm",this.__id__=b.hash(4),"OptionsFactory"!==b.get(d,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=d,this.$element=a(c),this.validationResult=null,this.options=this.OptionsFactory.get(this)};i.prototype={onSubmitValidate:function(b){return this.validate(void 0,void 0,b),!1===this.validationResult&&b instanceof a.Event&&(b.stopImmediatePropagation(),b.preventDefault()),this},validate:function(b,c,d){this.submitEvent=d,this.validationResult=!0;var e=[];a.emit("parsley:form:validate",this),this._refreshFields();for(var f=0;f<this.fields.length;f++)(!b||this._isFieldInGroup(this.fields[f],b))&&(e=this.fields[f].validate(c),!0!==e&&e.length>0&&this.validationResult&&(this.validationResult=!1));return a.emit("parsley:form:"+(this.validationResult?"success":"error"),this),a.emit("parsley:form:validated",this),this.validationResult},isValid:function(a,b){this._refreshFields();for(var c=0;c<this.fields.length;c++)if((!a||this._isFieldInGroup(this.fields[c],a))&&!1===this.fields[c].isValid(b))return!1;return!0},_isFieldInGroup:function(c,d){return b.isArray(c.options.group)?-1!==a.inArray(d,c.options.group):c.options.group===d},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var a=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var b=new window.Parsley(this,{},a);"ParsleyField"!==b.__class__&&"ParsleyFieldMultiple"!==b.__class__||b.$element.is(b.options.excluded)||"undefined"==typeof a.fieldsMappedById[b.__class__+"-"+b.__id__]&&(a.fieldsMappedById[b.__class__+"-"+b.__id__]=b,a.fields.push(b))}),this}};var j=function(c,d,e,f,g){var h={};if(!new RegExp("ParsleyField").test(b.get(c,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"==typeof window.ParsleyValidator.validators[d]&&(h=window.ParsleyValidator.validators[d](e)),"Assert"!==h.__parentClass__)throw new Error("Valid validator expected");var i=function(){return"undefined"!=typeof c.options[d+"Priority"]?c.options[d+"Priority"]:b.get(h,"priority")||2};return f=f||i(),"function"==typeof h.requirementsTransformer&&(e=h.requirementsTransformer(),h=window.ParsleyValidator.validators[d](e)),a.extend(h,{name:d,requirements:e,priority:f,groups:[f],isDomConstraint:g||b.attr(c.$element,c.options.namespace,d)})},k=function(c,d,e){this.__class__="ParsleyField",this.__id__=b.hash(4),this.$element=a(c),"undefined"!=typeof e?(this.parent=e,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=d,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};k.prototype={validate:function(b){return this.value=this.getValue(),a.emit("parsley:field:validate",this),a.emit("parsley:field:"+(this.isValid(b,this.value)?"success":"error"),this),a.emit("parsley:field:validated",this),this.validationResult},isValid:function(a,b){this.refreshConstraints();var c=this._getConstraintsSortedPriorities();if(0===c.length)return this.validationResult=[];if(("undefined"==typeof b||null===b)&&(b=this.getValue()),!b.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==a)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(b,this.constraints,"Any"));for(var d=0;d<c.length;d++)if(!0!==(this.validationResult=this.validateThroughValidator(b,this.constraints,c[d])))return!1;return!0},getValue:function(){var a;return a="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof a||null===a?"":!0===this.options.trimValue?a.replace(/^\s+|\s+$/g,""):a},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(a,b,c,d){if(a=a.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[a]){var e=new j(this,a,b,c,d);"undefined"!==this.constraintsByName[e.name]&&this.removeConstraint(e.name),this.constraints.push(e),this.constraintsByName[e.name]=e}return this},removeConstraint:function(a){for(var b=0;b<this.constraints.length;b++)if(a===this.constraints[b].name){this.constraints.splice(b,1);break}return delete this.constraintsByName[a],this},updateConstraint:function(a,b,c){return this.removeConstraint(a).addConstraint(a,b,c)},_bindConstraints:function(){for(var a=[],b={},c=0;c<this.constraints.length;c++)!1===this.constraints[c].isDomConstraint&&(a.push(this.constraints[c]),b[this.constraints[c].name]=this.constraints[c]);this.constraints=a,this.constraintsByName=b;for(var d in this.options)this.addConstraint(d,this.options[d]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0),"undefined"!=typeof this.$element.attr("minlength")&&"undefined"!=typeof this.$element.attr("maxlength")?this.addConstraint("length",[this.$element.attr("minlength"),this.$element.attr("maxlength")],void 0,!0):"undefined"!=typeof this.$element.attr("minlength")?this.addConstraint("minlength",this.$element.attr("minlength"),void 0,!0):"undefined"!=typeof this.$element.attr("maxlength")&&this.addConstraint("maxlength",this.$element.attr("maxlength"),void 0,!0);var a=this.$element.attr("type");return"undefined"==typeof a?this:"number"===a?"undefined"==typeof this.$element.attr("step")||0===parseFloat(this.$element.attr("step"))%1?this.addConstraint("type","integer",void 0,!0):this.addConstraint("type","number",void 0,!0):new RegExp(a,"i").test("email url range")?this.addConstraint("type",a,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var a=[],b=0;b<this.constraints.length;b++)-1===a.indexOf(this.constraints[b].priority)&&a.push(this.constraints[b].priority);return a.sort(function(a,b){return b-a}),a}};var l=function(){this.__class__="ParsleyFieldMultiple"};l.prototype={addElement:function(a){return this.$elements.push(a),this},refreshConstraints:function(){var b;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var c=0;c<this.$elements.length;c++)if(a("html").has(this.$elements[c]).length){b=this.$elements[c].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var d=0;d<b.length;d++)this.addConstraint(b[d].name,b[d].requirements,b[d].priority,b[d].isDomConstraint)}else this.$elements.splice(c,1);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return a("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var b=[];return a("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){b.push(a(this).val())}),b.length?b:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(a){return this.$elements=[this.$element],this.options.multiple=a,this}};var m=a({}),n={};a.listen=function(a){if("undefined"==typeof n[a]&&(n[a]=[]),"function"==typeof arguments[1])return n[a].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return n[a].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},a.listenTo=function(a,b,c){if("undefined"==typeof n[b]&&(n[b]=[]),!(a instanceof k||a instanceof i))throw new Error("Must give Parsley instance");if("string"!=typeof b||"function"!=typeof c)throw new Error("Wrong parameters");n[b].push({instance:a,fn:c})},a.unsubscribe=function(a,b){if("undefined"!=typeof n[a]){if("string"!=typeof a||"function"!=typeof b)throw new Error("Wrong arguments");for(var c=0;c<n[a].length;c++)if(n[a][c].fn===b)return n[a].splice(c,1)}},a.unsubscribeTo=function(a,b){if("undefined"!=typeof n[b]){if(!(a instanceof k||a instanceof i))throw new Error("Must give Parsley instance");for(var c=0;c<n[b].length;c++)if("undefined"!=typeof n[b][c].instance&&n[b][c].instance.__id__===a.__id__)return n[b].splice(c,1)}},a.unsubscribeAll=function(a){"undefined"!=typeof n[a]&&delete n[a]},a.emit=function(a,b){if("undefined"!=typeof n[a])for(var c=0;c<n[a].length;c++)if("undefined"!=typeof n[a][c].instance){if(b instanceof k||b instanceof i)if(n[a][c].instance.__id__!==b.__id__){if(n[a][c].instance instanceof i&&b instanceof k)for(var d=0;d<n[a][c].instance.fields.length;d++)if(n[a][c].instance.fields[d].__id__===b.__id__){n[a][c].fn.apply(m,Array.prototype.slice.call(arguments,1));continue}}else n[a][c].fn.apply(m,Array.prototype.slice.call(arguments,1))}else n[a][c].fn.apply("undefined"!=typeof n[a][c].ctxt?n[a][c].ctxt:m,Array.prototype.slice.call(arguments,1))},a.subscribed=function(){return n},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=a.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var o=function(c,d,e){if(this.__class__="Parsley",this.__version__="2.0.6",this.__id__=b.hash(4),"undefined"==typeof c)throw new Error("You must give an element");if("undefined"!=typeof e&&"ParsleyForm"!==e.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(a(c),d,e)};o.prototype={init:function(a,d,e){if(!a.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=a,this.$element.data("Parsley")){var f=this.$element.data("Parsley");return"undefined"!=typeof e&&(f.parent=e),f}return this.OptionsFactory=new h(c,b.get(window,"ParsleyConfig")||{},d,this.getNamespace(d)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||b.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(e):this.bind("parsleyField",e):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(c){var d,e,f,g=this;if(this.options=a.extend(this.options,c?c.OptionsFactory.get(c):{},b.attr(this.$element,this.options.namespace)),this.options.multiple?e=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?e=d=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(e=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",c,e||this.__id__);if("undefined"==typeof e)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(e=e.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),"undefined"!=typeof d&&a('input[name="'+d+'"]').each(function(){a(this).is("input[type=radio], input[type=checkbox]")&&a(this).attr(g.options.namespace+"multiple",e)}),a("["+this.options.namespace+"multiple="+e+"]").length)for(var h=0;h<a("["+this.options.namespace+"multiple="+e+"]").length;h++)if("undefined"!=typeof a(a("["+this.options.namespace+"multiple="+e+"]").get(h)).data("Parsley")){f=a(a("["+this.options.namespace+"multiple="+e+"]").get(h)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(f.addElement(this.$element),this.$element.attr(this.options.namespace+"id",f.__id__));break}return this.bind("parsleyField",c,e,!0),f||this.bind("parsleyFieldMultiple",c,e)},getNamespace:function(a){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof b.get(a,"namespace")?a.namespace:"undefined"!=typeof b.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:c.namespace},bind:function(c,e,f,g){var h;switch(c){case"parsleyForm":h=a.extend(new i(this.$element,this.OptionsFactory),new d,window.ParsleyExtend)._bindFields();break;case"parsleyField":h=a.extend(new k(this.$element,this.OptionsFactory,e),new d,window.ParsleyExtend);break;case"parsleyFieldMultiple":h=a.extend(new k(this.$element,this.OptionsFactory,e),new d,new l,window.ParsleyExtend)._init(f);break;default:throw new Error(c+"is not a supported Parsley type")}return"undefined"!=typeof f&&b.setAttr(this.$element,this.options.namespace,"multiple",f),"undefined"!=typeof g?(this.$element.data("ParsleyFieldMultiple",h),h):(new RegExp("ParsleyF","i").test(h.__class__)&&(this.$element.data("Parsley",h),a.emit("parsley:"+("parsleyForm"===c?"form":"field")+":init",h)),h)}},a.fn.parsley=a.fn.psly=function(b){if(this.length>1){var c=[];return this.each(function(){c.push(a(this).parsley(b))}),c}return a(this).length?new o(this,b):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof b.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new g).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=o,window.ParsleyUtils=b,window.ParsleyValidator=new f(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==b.get(window,"ParsleyConfig.autoBind")&&a(function(){a("[data-parsley-validate]").length&&a("[data-parsley-validate]").parsley()})}),function(){var a=function(a){return isNaN(+a)?parseFloat($(a).val()):+a};window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.validators=window.ParsleyConfig.validators||{},window.ParsleyConfig.validators.gt={fn:function(b,c){return parseFloat(b)>a(c)},priority:32},window.ParsleyConfig.validators.gte={fn:function(b,c){return parseFloat(b)>=a(c)},priority:32},window.ParsleyConfig.validators.lt={fn:function(b,c){return parseFloat(b)<a(c)},priority:32},window.ParsleyConfig.validators.lte={fn:function(b,c){return parseFloat(b)<=a(c)},priority:32}}(),window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.fr=$.extend(window.ParsleyConfig.i18n.fr||{},{defaultMessage:"Cette valeur semble non valide.",type:{email:"Cette valeur n'est pas une adresse email valide.",url:"Cette valeur n'est pas une URL valide.",number:"Cette valeur doit être un nombre.",integer:"Cette valeur doit être un entier.",digits:"Cette valeur doit être numérique.",alphanum:"Cette valeur doit être alphanumérique."},notblank:"Cette valeur ne peut pas être vide.",required:"Ce champ est requis.",pattern:"Cette valeur semble non valide.",min:"Cette valeur ne doit pas être inférieure à %s.",max:"Cette valeur ne doit pas excéder %s.",range:"Cette valeur doit être comprise entre %s et %s.",minlength:"Cette chaîne est trop courte. Elle doit avoir au minimum %s caractères.",maxlength:"Cette chaîne est trop longue. Elle doit avoir au maximum %s caractères.",length:"Cette valeur doit contenir entre %s et %s caractères.",mincheck:"Vous devez sélectionner au moins %s choix.",maxcheck:"Vous devez sélectionner %s choix maximum.",check:"Vous devez sélectionner entre %s et %s choix.",equalto:"Cette valeur devrait être identique."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("fr",window.ParsleyConfig.i18n.fr,!0),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b,c=navigator.userAgent,d=/iphone/i.test(c),e=/chrome/i.test(c),f=/android/i.test(c);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(c,g){var h,i,j,k,l,m,n,o;if(!c&&this.length>0){h=a(this[0]);var p=h.data(a.mask.dataName);return p?p():void 0}return g=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},g),i=a.mask.definitions,j=[],k=n=c.length,l=null,a.each(c.split(""),function(a,b){"?"==b?(n--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1),k>a&&(m=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(){if(g.completed){for(var a=l;m>=a;a++)if(j[a]&&C[a]===p(a))return;g.completed.call(B)}}function p(a){return g.placeholder.charAt(a<g.placeholder.length?a:0)}function q(a){for(;++a<n&&!j[a];);return a}function r(a){for(;--a>=0&&!j[a];);return a}function s(a,b){var c,d;if(!(0>a)){for(c=a,d=q(b);n>c;c++)if(j[c]){if(!(n>d&&j[c].test(C[d])))break;C[c]=C[d],C[d]=p(d),d=q(d)}z(),B.caret(Math.max(l,a))}}function t(a){var b,c,d,e;for(b=a,c=p(a);n>b;b++)if(j[b]){if(d=q(b),e=C[b],C[b]=c,!(n>d&&j[d].test(e)))break;c=e}}function u(){var a=B.val(),b=B.caret();if(o&&o.length&&o.length>a.length){for(A(!0);b.begin>0&&!j[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<l&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}else{for(A(!0);b.begin<n&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}h()}function v(){A(),B.val()!=E&&B.change()}function w(a){if(!B.prop("readonly")){var b,c,e,f=a.which||a.keyCode;o=B.val(),8===f||46===f||d&&127===f?(b=B.caret(),c=b.begin,e=b.end,e-c===0&&(c=46!==f?r(c):e=q(c-1),e=46===f?q(e):e),y(c,e),s(c,e-1),a.preventDefault()):13===f?v.call(this,a):27===f&&(B.val(E),B.caret(0,A()),a.preventDefault())}}function x(b){if(!B.prop("readonly")){var c,d,e,g=b.which||b.keyCode,i=B.caret();if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(i.end-i.begin!==0&&(y(i.begin,i.end),s(i.begin,i.end-1)),c=q(i.begin-1),n>c&&(d=String.fromCharCode(g),j[c].test(d))){if(t(c),C[c]=d,z(),e=q(c),f){var k=function(){a.proxy(a.fn.caret,B,e)()};setTimeout(k,0)}else B.caret(e);i.begin<=m&&h()}b.preventDefault()}}}function y(a,b){var c;for(c=a;b>c&&n>c;c++)j[c]&&(C[c]=p(c))}function z(){B.val(C.join(""))}function A(a){var b,c,d,e=B.val(),f=-1;for(b=0,d=0;n>b;b++)if(j[b]){for(C[b]=p(b);d++<e.length;)if(c=e.charAt(d-1),j[b].test(c)){C[b]=c,f=b;break}if(d>e.length){y(b+1,n);break}}else C[b]===e.charAt(d)&&d++,k>b&&(f=b);return a?z():k>f+1?g.autoclear||C.join("")===D?(B.val()&&B.val(""),y(0,n)):z():(z(),B.val(B.val().substring(0,f+1))),k?b:l}var B=a(this),C=a.map(c.split(""),function(a,b){return"?"!=a?i[a]?p(b):a:void 0}),D=C.join(""),E=B.val();B.data(a.mask.dataName,function(){return a.map(C,function(a,b){return j[b]&&a!=p(b)?a:null}).join("")}),B.one("unmask",function(){B.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){if(!B.prop("readonly")){clearTimeout(b);var a;E=B.val(),a=A(),b=setTimeout(function(){B.get(0)===document.activeElement&&(z(),a==c.replace("?","").length?B.caret(0,a):B.caret(a))},10)}}).on("blur.mask",v).on("keydown.mask",w).on("keypress.mask",x).on("input.mask paste.mask",function(){B.prop("readonly")||setTimeout(function(){var a=A(!0);B.caret(a),h()},0)}),e&&f&&B.off("input.mask").on("input.mask",u),A()})}})}),function(a){a.fn.stickyTabs=function(b){var c=this,d=a.extend({getHashCallback:function(a){return a},selectorAttribute:"href",backToTop:!1,initialTab:a("li.active > a",c)},b),e=function(){var b="href"==d.selectorAttribute?window.location.hash:window.location.hash.substring(1),e=b?"a["+d.selectorAttribute+'="'+b+'"]':d.initialTab;a(e,c).tab("show"),setTimeout(g,1)},f=function(a){history&&history.pushState?history.pushState(null,null,window.location.pathname+window.location.search+"#"+a):(scrollV=document.body.scrollTop,scrollH=document.body.scrollLeft,window.location.hash=a,document.body.scrollTop=scrollV,document.body.scrollLeft=scrollH)},g=function(){d.backToTop===!0&&window.scrollTo(0,0)};return e(),a(window).on("hashchange",e),a("a",c).on("click",function(){var a=this.href.split("#")[1],b=d.getHashCallback(a,this);f(b),setTimeout(g,1)}),this}}(jQuery),function(a,b){function c(b){a.extend(!0,wa,b)}function d(c,d,j){function k(a){ea?q()&&(z(),x(a)):l()}function l(){fa=d.theme?"ui":"fc",c.addClass("fc"),c.addClass(d.isRTL?"fc-rtl":"fc-ltr"),d.theme&&c.addClass("ui-widget"),ea=a("<div class='fc-content' style='position:relative'/>").prependTo(c),ca=new e(ba,d),da=ca.render(),da&&c.prepend(da),s(d.defaultView),d.handleWindowResize&&a(window).resize(B),r()||n()}function n(){setTimeout(function(){!ga.start&&r()&&w()},0)}function o(){ga&&(aa("viewDestroy",ga,ga,ga.element),ga.triggerEventDestroy()),a(window).unbind("resize",B),ca.destroy(),ea.remove(),c.removeClass("fc fc-rtl ui-widget")}function q(){return c.is(":visible")}function r(){return a("body").is(":visible")}function s(a){ga&&a==ga.name||v(a)}function v(b){oa++,ga&&(aa("viewDestroy",ga,ga,ga.element),P(),ga.triggerEventDestroy(),Y(),ga.element.remove(),ca.deactivateButton(ga.name)),ca.activateButton(b),ga=new za[b](a("<div class='fc-view fc-view-"+b+"' style='position:relative'/>").appendTo(ea),ba),w(),Z(),oa--}function w(a){(!ga.start||a||ga.start>pa||pa>=ga.end)&&q()&&x(a)}function x(a){oa++,ga.start&&(aa("viewDestroy",ga,ga,ga.element),P(),G()),Y(),ga.render(pa,a||0),A(),Z(),(ga.afterRender||J)(),M(),N(),aa("viewRender",ga,ga,ga.element),ga.trigger("viewDisplay",ma),oa--,H()}function y(){q()&&(P(),G(),z(),A(),E())}function z(){ia=d.contentHeight?d.contentHeight:d.height?d.height-(da?da.height():0)-F(ea):Math.round(ea.width()/Math.max(d.aspectRatio,.5))}function A(){ia===b&&z(),oa++,ga.setHeight(ia),ga.setWidth(ea.width()),oa--,ha=c.outerWidth()}function B(){if(!oa)if(ga.start){var a=++na;setTimeout(function(){a==na&&!oa&&q()&&ha!=(ha=c.outerWidth())&&(oa++,y(),ga.trigger("windowResize",ma),oa--)},200)}else n()}function C(){G(),I()}function D(a){G(),E(a)}function E(a){q()&&(ga.setEventData(qa),ga.renderEvents(qa,a),ga.trigger("eventAfterAllRender"))}function G(){ga.triggerEventDestroy(),ga.clearEvents(),ga.clearEventData()}function H(){!d.lazyFetching||ka(ga.visStart,ga.visEnd)?I():E()}function I(){la(ga.visStart,ga.visEnd)}function K(a){qa=a,E()}function L(a){D(a)}function M(){ca.updateTitle(ga.title)}function N(){var a=new Date;a>=ga.start&&ga.end>a?ca.disableButton("today"):ca.enableButton("today")}function O(a,c,d){ga.select(a,c,d===b?!0:d)}function P(){ga&&ga.unselect()}function Q(){w(-1)}function R(){w(1)}function S(){g(pa,-1),w()}function T(){g(pa,1),w()}function U(){pa=new Date,w()}function V(a,b,c){a instanceof Date?pa=m(a):p(pa,a,b,c),w()}function W(a,c,d){a!==b&&g(pa,a),c!==b&&h(pa,c),d!==b&&i(pa,d),w()}function X(){return m(pa)}function Y(){ea.css({width:"100%",height:ea.height(),overflow:"hidden"})}function Z(){ea.css({width:"",height:"",overflow:""})}function $(){return ga}function _(a,c){return c===b?d[a]:(("height"==a||"contentHeight"==a||"aspectRatio"==a)&&(d[a]=c,y()),b)}function aa(a,c){return d[a]?d[a].apply(c||ma,Array.prototype.slice.call(arguments,2)):b}var ba=this;ba.options=d,ba.render=k,ba.destroy=o,ba.refetchEvents=C,ba.reportEvents=K,ba.reportEventChange=L,ba.rerenderEvents=D,ba.changeView=s,ba.select=O,ba.unselect=P,ba.prev=Q,ba.next=R,ba.prevYear=S,ba.nextYear=T,ba.today=U,ba.gotoDate=V,ba.incrementDate=W,ba.formatDate=function(a,b){return t(a,b,d)},ba.formatDates=function(a,b,c){return u(a,b,c,d)},ba.getDate=X,ba.getView=$,ba.option=_,ba.trigger=aa,f.call(ba,d,j);var ca,da,ea,fa,ga,ha,ia,ja,ka=ba.isFetchNeeded,la=ba.fetchEvents,ma=c[0],na=0,oa=0,pa=new Date,qa=[];p(pa,d.year,d.month,d.date),d.droppable&&a(document).bind("dragstart",function(b,c){var e=b.target,f=a(e);if(!f.parents(".fc").length){var g=d.dropAccept;(a.isFunction(g)?g.call(e,f):f.is(g))&&(ja=e,ga.dragStart(ja,b,c))}}).bind("dragstop",function(a,b){ja&&(ga.dragStop(ja,a,b),ja=null)})}function e(c,d){function e(){n=d.theme?"ui":"fc";var c=d.header;return c?o=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(g("left")).append(g("center")).append(g("right"))):b}function f(){o.remove()}function g(b){var e=a("<td class='fc-header-"+b+"'/>"),f=d.header[b];return f&&a.each(f.split(" "),function(b){b>0&&e.append("<span class='fc-header-space'/>");var f;a.each(this.split(","),function(b,g){if("title"==g)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),f&&f.addClass(n+"-corner-right"),f=null;else{var h;if(c[g]?h=c[g]:za[g]&&(h=function(){k.removeClass(n+"-state-hover"),c.changeView(g)}),h){var i=d.theme?N(d.buttonIcons,g):null,j=N(d.buttonText,g),k=a("<span class='fc-button fc-button-"+g+" "+n+"-state-default'>"+(i?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+i+"'/></span>":j)+"</span>").click(function(){k.hasClass(n+"-state-disabled")||h()}).mousedown(function(){k.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-down")}).mouseup(function(){k.removeClass(n+"-state-down")}).hover(function(){k.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-hover")},function(){k.removeClass(n+"-state-hover").removeClass(n+"-state-down")}).appendTo(e);P(k),f||k.addClass(n+"-corner-left"),f=k}}}),f&&f.addClass(n+"-corner-right")}),e}function h(a){o.find("h2").html(a)}function i(a){o.find("span.fc-button-"+a).addClass(n+"-state-active")}function j(a){o.find("span.fc-button-"+a).removeClass(n+"-state-active")}function k(a){o.find("span.fc-button-"+a).addClass(n+"-state-disabled")}function l(a){o.find("span.fc-button-"+a).removeClass(n+"-state-disabled")}var m=this;m.render=e,m.destroy=f,m.updateTitle=h,m.activateButton=i,m.deactivateButton=j,m.disableButton=k,m.enableButton=l;var n,o=a([])}function f(c,d){function e(a,b){return!y||y>a||b>z}function f(a,b){y=a,z=b,I=[];var c=++F,d=E.length;G=d;for(var e=0;d>e;e++)g(E[e],c)}function g(b,d){h(b,function(e){if(d==F){if(e){c.eventDataTransform&&(e=a.map(e,c.eventDataTransform)),b.eventDataTransform&&(e=a.map(e,b.eventDataTransform));for(var f=0;e.length>f;f++)e[f].source=b,t(e[f]);I=I.concat(e)}G--,G||C(I)}})}function h(d,e){var f,g,i=ya.sourceFetchers;for(f=0;i.length>f;f++){if(g=i[f](d,y,z,e),g===!0)return;if("object"==typeof g)return h(g,e),b}var j=d.events;if(j)a.isFunction(j)?(r(),j(m(y),m(z),function(a){e(a),s()})):a.isArray(j)?e(j):e();else{var k=d.url;if(k){var l,n=d.success,o=d.error,p=d.complete;l=a.isFunction(d.data)?d.data():d.data;var q=a.extend({},l||{}),t=T(d.startParam,c.startParam),u=T(d.endParam,c.endParam);t&&(q[t]=Math.round(+y/1e3)),u&&(q[u]=Math.round(+z/1e3)),r(),a.ajax(a.extend({},Aa,d,{data:q,success:function(b){b=b||[];var c=S(n,this,arguments);a.isArray(c)&&(b=c),e(b)},error:function(){S(o,this,arguments),e()},complete:function(){S(p,this,arguments),s()}}))}else e()}}function i(a){a=j(a),a&&(G++,g(a,F))}function j(c){return a.isFunction(c)||a.isArray(c)?c={events:c}:"string"==typeof c&&(c={url:c}),"object"==typeof c?(u(c),E.push(c),c):b}function k(b){E=a.grep(E,function(a){return!v(a,b)}),I=a.grep(I,function(a){return!v(a.source,b)}),C(I)}function l(a){var b,c,d=I.length,e=B().defaultEventEnd,f=a.start-a._start,g=a.end?a.end-(a._end||e(a)):0;for(b=0;d>b;b++)c=I[b],c._id==a._id&&c!=a&&(c.start=new Date(+c.start+f),c.end=a.end?new Date(c.end?+c.end+g:+e(c)+g):null,c.title=a.title,c.url=a.url,c.allDay=a.allDay,c.className=a.className,c.editable=a.editable,c.color=a.color,c.backgroundColor=a.backgroundColor,c.borderColor=a.borderColor,c.textColor=a.textColor,t(c));t(a),C(I)}function n(a,b){t(a),a.source||(b&&(D.events.push(a),a.source=D),I.push(a)),C(I)}function o(b){if(b){if(!a.isFunction(b)){var c=b+"";b=function(a){return a._id==c}}I=a.grep(I,b,!0);for(var d=0;E.length>d;d++)a.isArray(E[d].events)&&(E[d].events=a.grep(E[d].events,b,!0))}else{I=[];for(var d=0;E.length>d;d++)a.isArray(E[d].events)&&(E[d].events=[])}C(I)}function p(b){return a.isFunction(b)?a.grep(I,b):b?(b+="",a.grep(I,function(a){return a._id==b})):I}function r(){H++||A("loading",null,!0,B())}function s(){--H||A("loading",null,!1,B())}function t(a){var d=a.source||{},e=T(d.ignoreTimezone,c.ignoreTimezone);a._id=a._id||(a.id===b?"_fc"+Ba++:a.id+""),a.date&&(a.start||(a.start=a.date),delete a.date),a._start=m(a.start=q(a.start,e)),a.end=q(a.end,e),a.end&&a.end<=a.start&&(a.end=null),a._end=a.end?m(a.end):null,a.allDay===b&&(a.allDay=T(d.allDayDefault,c.allDayDefault)),a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[]}function u(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=ya.sourceNormalizers,c=0;b.length>c;c++)b[c](a)}function v(a,b){return a&&b&&w(a)==w(b)}function w(a){return("object"==typeof a?a.events||a.url:"")||a}var x=this;x.isFetchNeeded=e,x.fetchEvents=f,x.addEventSource=i,x.removeEventSource=k,x.updateEvent=l,x.renderEvent=n,x.removeEvents=o,x.clientEvents=p,
x.normalizeEvent=t;for(var y,z,A=x.trigger,B=x.getView,C=x.reportEvents,D={events:[]},E=[D],F=0,G=0,H=0,I=[],J=0;d.length>J;J++)j(d[J])}function g(a,b,c){return a.setFullYear(a.getFullYear()+b),c||l(a),a}function h(a,b,c){if(+a){var d=a.getMonth()+b,e=m(a);for(e.setDate(1),e.setMonth(d),a.setMonth(d),c||l(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(e>a?1:-1))}return a}function i(a,b,c){if(+a){var d=a.getDate()+b,e=m(a);e.setHours(9),e.setDate(d),a.setDate(d),c||l(a),j(a,e)}return a}function j(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(b>a?1:-1)*Ea)}function k(a,b){return a.setMinutes(a.getMinutes()+b),a}function l(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function m(a,b){return b?l(new Date(+a)):new Date(+a)}function n(){var a,b=0;do a=new Date(1970,b++,1);while(a.getHours());return a}function o(a,b){return Math.round((m(a,!0)-m(b,!0))/Da)}function p(a,c,d,e){c!==b&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c)),d!==b&&d!=a.getMonth()&&(a.setDate(1),a.setMonth(d)),e!==b&&a.setDate(e)}function q(a,c){return"object"==typeof a?a:"number"==typeof a?new Date(1e3*a):"string"==typeof a?a.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(a)):(c===b&&(c=!0),r(a,c)||(a?new Date(a):null)):null}function r(a,b){var c=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!c)return null;var d=new Date(c[1],0,1);if(b||!c[13]){var e=new Date(c[1],0,1,9,0);c[3]&&(d.setMonth(c[3]-1),e.setMonth(c[3]-1)),c[5]&&(d.setDate(c[5]),e.setDate(c[5])),j(d,e),c[7]&&d.setHours(c[7]),c[8]&&d.setMinutes(c[8]),c[10]&&d.setSeconds(c[10]),c[12]&&d.setMilliseconds(1e3*Number("0."+c[12])),j(d,e)}else if(d.setUTCFullYear(c[1],c[3]?c[3]-1:0,c[5]||1),d.setUTCHours(c[7]||0,c[8]||0,c[10]||0,c[12]?1e3*Number("0."+c[12]):0),c[14]){var f=60*Number(c[16])+(c[18]?Number(c[18]):0);f*="-"==c[15]?1:-1,d=new Date(+d+6e4*f)}return d}function s(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();var b=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(b){var c=parseInt(b[1],10);return b[3]&&(c%=12,"p"==b[3].toLowerCase().charAt(0)&&(c+=12)),60*c+(b[2]?parseInt(b[2],10):0)}}function t(a,b,c){return u(a,null,b,c)}function u(a,b,c,d){d=d||wa;var e,f,g,h,i=a,j=b,k=c.length,l="";for(e=0;k>e;e++)if(f=c.charAt(e),"'"==f){for(g=e+1;k>g;g++)if("'"==c.charAt(g)){i&&(l+=g==e+1?"'":c.substring(e+1,g),e=g);break}}else if("("==f){for(g=e+1;k>g;g++)if(")"==c.charAt(g)){var m=t(i,c.substring(e+1,g),d);parseInt(m.replace(/\D/,""),10)&&(l+=m),e=g;break}}else if("["==f){for(g=e+1;k>g;g++)if("]"==c.charAt(g)){var n=c.substring(e+1,g),m=t(i,n,d);m!=t(j,n,d)&&(l+=m),e=g;break}}else if("{"==f)i=b,j=a;else if("}"==f)i=a,j=b;else{for(g=k;g>e;g--)if(h=Ga[c.substring(e,g)]){i&&(l+=h(i,d)),e=g-1;break}g==e&&i&&(l+=f)}return l}function v(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1}function w(a){return a.end?x(a.end,a.allDay):i(m(a.start),1)}function x(a,b){return a=m(a),b||a.getHours()||a.getMinutes()?i(a,1):l(a)}function y(c,d,e){c.unbind("mouseover").mouseover(function(c){for(var f,g,h,i=c.target;i!=this;)f=i,i=i.parentNode;(g=f._fci)!==b&&(f._fci=b,h=d[g],e(h.event,h.element,h),a(c.target).trigger(c)),c.stopPropagation()})}function z(b,c,d){for(var e,f=0;b.length>f;f++)e=a(b[f]),e.width(Math.max(0,c-B(e,d)))}function A(b,c,d){for(var e,f=0;b.length>f;f++)e=a(b[f]),e.height(Math.max(0,c-F(e,d)))}function B(a,b){return C(a)+E(a)+(b?D(a):0)}function C(b){return(parseFloat(a.css(b[0],"paddingLeft",!0))||0)+(parseFloat(a.css(b[0],"paddingRight",!0))||0)}function D(b){return(parseFloat(a.css(b[0],"marginLeft",!0))||0)+(parseFloat(a.css(b[0],"marginRight",!0))||0)}function E(b){return(parseFloat(a.css(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.css(b[0],"borderRightWidth",!0))||0)}function F(a,b){return G(a)+I(a)+(b?H(a):0)}function G(b){return(parseFloat(a.css(b[0],"paddingTop",!0))||0)+(parseFloat(a.css(b[0],"paddingBottom",!0))||0)}function H(b){return(parseFloat(a.css(b[0],"marginTop",!0))||0)+(parseFloat(a.css(b[0],"marginBottom",!0))||0)}function I(b){return(parseFloat(a.css(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.css(b[0],"borderBottomWidth",!0))||0)}function J(){}function K(a,b){return a-b}function L(a){return Math.max.apply(Math,a)}function M(a){return(10>a?"0":"")+a}function N(a,c){if(a[c]!==b)return a[c];for(var d,e=c.split(/(?=[A-Z])/),f=e.length-1;f>=0;f--)if(d=a[e[f].toLowerCase()],d!==b)return d;return a[""]}function O(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function P(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Q(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function R(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,i=a.textColor||c.textColor||b("eventTextColor"),j=[];return g&&j.push("background-color:"+g),h&&j.push("border-color:"+h),i&&j.push("color:"+i),j.join(";")}function S(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;b.length>e;e++)f=b[e].apply(c,d)||f;return f}}function T(){for(var a=0;arguments.length>a;a++)if(arguments[a]!==b)return arguments[a]}function U(a,b){function c(a,b){b&&(h(a,b),a.setDate(1));var c=e("firstDay"),l=m(a,!0);l.setDate(1);var n=h(m(l),1),p=m(l);i(p,-((p.getDay()-c+7)%7)),g(p);var q=m(n);i(q,(7-q.getDay()+c)%7),g(q,-1,!0);var r=j(),s=Math.round(o(q,p)/7);"fixed"==e("weekMode")&&(i(q,7*(6-s)),s=6),d.title=k(l,e("titleFormat")),d.start=l,d.end=n,d.visStart=p,d.visEnd=q,f(s,r,!0)}var d=this;d.render=c,X.call(d,a,b,"month");var e=d.opt,f=d.renderBasic,g=d.skipHiddenDays,j=d.getCellsPerWeek,k=b.formatDate}function V(a,b){function c(a,b){b&&i(a,7*b);var c=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),k=i(m(c),7),l=m(c);g(l);var n=m(k);g(n,-1,!0);var o=h();d.start=c,d.end=k,d.visStart=l,d.visEnd=n,d.title=j(l,i(m(n),-1),e("titleFormat")),f(1,o,!1)}var d=this;d.render=c,X.call(d,a,b,"basicWeek");var e=d.opt,f=d.renderBasic,g=d.skipHiddenDays,h=d.getCellsPerWeek,j=b.formatDates}function W(a,b){function c(a,b){b&&i(a,b),g(a,0>b?-1:1);var c=m(a,!0),j=i(m(c),1);d.title=h(a,e("titleFormat")),d.start=d.visStart=c,d.end=d.visEnd=j,f(1,1,!1)}var d=this;d.render=c,X.call(d,a,b,"basicDay");var e=d.opt,f=d.renderBasic,g=d.skipHiddenDays,h=b.formatDate}function X(b,c,d){function e(a,b,c){ba=a,ca=b,da=c,f(),R||g(),h()}function f(){ia=oa("theme")?"ui":"fc",ja=oa("columnFormat"),ka=oa("weekNumbers"),ma=oa("weekNumberTitle"),na="iso"!=oa("weekNumberCalculation")?"w":"W"}function g(){X=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function h(){var c=j();L&&L.remove(),L=a(c).appendTo(b),M=L.find("thead"),N=M.find(".fc-day-header"),R=L.find("tbody"),S=R.find("tr"),T=R.find(".fc-day"),U=S.find("td:first-child"),V=S.eq(0).find(".fc-day > div"),W=S.eq(0).find(".fc-day-content > div"),Q(M.add(M.find("tr"))),Q(S),S.eq(0).addClass("fc-first"),S.filter(":last").addClass("fc-last"),T.each(function(b,c){var d=ya(Math.floor(b/ca),b%ca);pa("dayRender",K,d,a(c))}),s(T)}function j(){var a="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+k()+n()+"</table>";return a}function k(){var a,b,c=ia+"-widget-header",d="";for(d+="<thead><tr>",ka&&(d+="<th class='fc-week-number "+c+"'>"+O(ma)+"</th>"),a=0;ca>a;a++)b=ya(0,a),d+="<th class='fc-day-header fc-"+Ca[b.getDay()]+" "+c+"'>"+O(Ba(b,ja))+"</th>";return d+="</tr></thead>"}function n(){var a,b,c,d=ia+"-widget-content",e="";for(e+="<tbody>",a=0;ba>a;a++){for(e+="<tr class='fc-week'>",ka&&(c=ya(a,0),e+="<td class='fc-week-number "+d+"'><div>"+O(Ba(c,na))+"</div></td>"),b=0;ca>b;b++)c=ya(a,b),e+=o(c);e+="</tr>"}return e+="</tbody>"}function o(a){var b=ia+"-widget-content",c=K.start.getMonth(),d=l(new Date),e="",f=["fc-day","fc-"+Ca[a.getDay()],b];return a.getMonth()!=c&&f.push("fc-other-month"),+a==+d?f.push("fc-today",ia+"-state-highlight"):f.push(d>a?"fc-past":"fc-future"),e+="<td class='"+f.join(" ")+"' data-date='"+Ba(a,"yyyy-MM-dd")+"'><div>",da&&(e+="<div class='fc-day-number'>"+a.getDate()+"</div>"),e+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function p(b){$=b;var c,d,e,f=$-M.height();"variable"==oa("weekMode")?c=d=Math.floor(f/(1==ba?2:6)):(c=Math.floor(f/ba),d=f-c*(ba-1)),U.each(function(b,f){ba>b&&(e=a(f),e.find("> div").css("min-height",(b==ba-1?d:c)-F(e)))})}function q(a){Z=a,ga.clear(),ha.clear(),aa=0,ka&&(aa=M.find("th.fc-week-number").outerWidth()),_=Math.floor((Z-aa)/ca),z(N.slice(0,-1),_)}function s(a){a.click(t).mousedown(xa)}function t(b){if(!oa("selectable")){var c=r(a(this).data("date"));pa("dayClick",this,c,!0,b)}}function u(a,b,c){c&&ea.build();for(var d=Aa(a,b),e=0;d.length>e;e++){var f=d[e];s(v(f.row,f.leftCol,f.row,f.rightCol))}}function v(a,c,d,e){var f=ea.rect(a,c,d,e,b);return ua(f,b)}function w(a){return m(a)}function x(a,b){u(a,i(m(b),1),!0)}function y(){wa()}function A(a,b,c){var d=za(a),e=T[d.row*ca+d.col];pa("dayClick",e,a,b,c)}function B(a,b){fa.start(function(a){wa(),a&&v(a.row,a.col,a.row,a.col)},b)}function C(a,b,c){var d=fa.stop();if(wa(),d){var e=ya(d);pa("drop",a,e,!0,b,c)}}function D(a){return m(a.start)}function E(a){return ga.left(a)}function G(a){return ga.right(a)}function H(a){return ha.left(a)}function I(a){return ha.right(a)}function J(a){return S.eq(a)}var K=this;K.renderBasic=e,K.setHeight=p,K.setWidth=q,K.renderDayOverlay=u,K.defaultSelectionEnd=w,K.renderSelection=x,K.clearSelection=y,K.reportDayClick=A,K.dragStart=B,K.dragStop=C,K.defaultEventEnd=D,K.getHoverListener=function(){return fa},K.colLeft=E,K.colRight=G,K.colContentLeft=H,K.colContentRight=I,K.getIsCellAllDay=function(){return!0},K.allDayRow=J,K.getRowCnt=function(){return ba},K.getColCnt=function(){return ca},K.getColWidth=function(){return _},K.getDaySegmentContainer=function(){return X},la.call(K,b,c,d),ra.call(K),qa.call(K),Y.call(K);var L,M,N,R,S,T,U,V,W,X,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,ma,na,oa=K.opt,pa=K.trigger,ua=K.renderOverlay,wa=K.clearOverlays,xa=K.daySelectionMousedown,ya=K.cellToDate,za=K.dateToCell,Aa=K.rangeToSegments,Ba=c.formatDate;P(b.addClass("fc-grid")),ea=new sa(function(b,c){var d,e,f;N.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),S.each(function(c,g){ba>c&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),fa=new ta(ea),ga=new va(function(a){return V.eq(a)}),ha=new va(function(a){return W.eq(a)})}function Y(){function a(a,b){c.renderDayEvents(a,b)}function b(){c.getDaySegmentContainer().empty()}var c=this;c.renderEvents=a,c.clearEvents=b,ma.call(c)}function Z(a,b){function c(a,b){b&&i(a,7*b);var c=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),k=i(m(c),7),l=m(c);g(l);var n=m(k);g(n,-1,!0);var o=h();d.title=j(l,i(m(n),-1),e("titleFormat")),d.start=c,d.end=k,d.visStart=l,d.visEnd=n,f(o)}var d=this;d.render=c,_.call(d,a,b,"agendaWeek");var e=d.opt,f=d.renderAgenda,g=d.skipHiddenDays,h=d.getCellsPerWeek,j=b.formatDates}function $(a,b){function c(a,b){b&&i(a,b),g(a,0>b?-1:1);var c=m(a,!0),j=i(m(c),1);d.title=h(a,e("titleFormat")),d.start=d.visStart=c,d.end=d.visEnd=j,f(1)}var d=this;d.render=c,_.call(d,a,b,"agendaDay");var e=d.opt,f=d.renderAgenda,g=d.skipHiddenDays,h=b.formatDate}function _(c,d,e){function f(a){Ia=a,g(),_?j():h()}function g(){Oa=Wa("theme")?"ui":"fc",Pa=Wa("isRTL"),Qa=s(Wa("minTime")),Ra=s(Wa("maxTime")),Sa=Wa("columnFormat"),Ta=Wa("weekNumbers"),Ua=Wa("weekNumberTitle"),Va="iso"!=Wa("weekNumberCalculation")?"w":"W",Fa=Wa("snapMinutes")||Wa("slotMinutes")}function h(){var b,d,e,f,g,h=Oa+"-widget-header",i=Oa+"-widget-content",l=0==Wa("slotMinutes")%15;for(j(),ja=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),Wa("allDaySlot")?(ka=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ja),b="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+Wa("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>",ma=a(b).appendTo(ja),na=ma.find("tr"),w(na.find("td")),ja.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")):ka=a([]),oa=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ja),pa=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(oa),ua=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(pa),b="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",d=n(),f=k(m(d),Ra),k(d,Qa),Ja=0,e=0;f>d;e++)g=d.getMinutes(),b+="<tr class='fc-slot"+e+" "+(g?"fc-minor":"")+"'><th class='fc-agenda-axis "+h+"'>"+(l&&g?"&nbsp;":fb(d,Wa("axisFormat")))+"</th><td class='"+i+"'><div style='position:relative'>&nbsp;</div></td></tr>",k(d,Wa("slotMinutes")),Ja++;b+="</tbody></table>",wa=a(b).appendTo(pa),x(wa.find("td"))}function j(){var b=o();_&&_.remove(),_=a(b).appendTo(c),ba=_.find("thead"),ca=ba.find("th").slice(1,-1),da=_.find("tbody"),ea=da.find("td").slice(0,-1),fa=ea.find("> div"),ga=ea.find(".fc-day-content > div"),ha=ea.eq(0),ia=fa.eq(0),Q(ba.add(ba.find("tr"))),Q(da.add(da.find("tr")))}function o(){var a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+p()+q()+"</table>";return a}function p(){var a,b,c,d=Oa+"-widget-header",e="";for(e+="<thead><tr>",Ta?(a=cb(0,0),b=fb(a,Va),Pa?b+=Ua:b=Ua+b,e+="<th class='fc-agenda-axis fc-week-number "+d+"'>"+O(b)+"</th>"):e+="<th class='fc-agenda-axis "+d+"'>&nbsp;</th>",c=0;Ia>c;c++)a=cb(0,c),e+="<th class='fc-"+Ca[a.getDay()]+" fc-col"+c+" "+d+"'>"+O(fb(a,Sa))+"</th>";return e+="<th class='fc-agenda-gutter "+d+"'>&nbsp;</th></tr></thead>"}function q(){var a,b,c,d,e,f=Oa+"-widget-header",g=Oa+"-widget-content",h=l(new Date),i="";for(i+="<tbody><tr><th class='fc-agenda-axis "+f+"'>&nbsp;</th>",c="",b=0;Ia>b;b++)a=cb(0,b),e=["fc-col"+b,"fc-"+Ca[a.getDay()],g],+a==+h?e.push(Oa+"-state-highlight","fc-today"):e.push(h>a?"fc-past":"fc-future"),d="<td class='"+e.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",c+=d;return i+=c,i+="<td class='fc-agenda-gutter "+g+"'>&nbsp;</td></tr></tbody>"}function r(a){a===b&&(a=za),za=a,gb={};var c=da.position().top,d=oa.position().top,e=Math.min(a-c,wa.height()+d+1);ia.height(e-F(ha)),ja.css("top",c),oa.height(e-d-1),Ea=wa.find("tr:first").height()+1,Ga=Wa("slotMinutes")/Fa,Ha=Ea/Ga}function t(b){ya=b,Ma.clear(),Na.clear();var c=ba.find("th:first");ma&&(c=c.add(ma.find("th:first"))),c=c.add(wa.find("th:first")),Aa=0,z(c.width("").each(function(b,c){Aa=Math.max(Aa,a(c).outerWidth())}),Aa);var d=_.find(".fc-agenda-gutter");ma&&(d=d.add(ma.find("th.fc-agenda-gutter")));var e=oa[0].clientWidth;Da=oa.width()-e,Da?(z(d,Da),d.show().prev().removeClass("fc-last")):d.hide().prev().addClass("fc-last"),Ba=Math.floor((e-Aa)/Ia),z(ca.slice(0,-1),Ba)}function u(){function a(){oa.scrollTop(d)}var b=n(),c=m(b);c.setHours(Wa("firstHour"));var d=M(b,c)+1;a(),setTimeout(a,0)}function v(){u()}function w(a){a.click(y).mousedown(ab)}function x(a){a.click(y).mousedown(W)}function y(a){if(!Wa("selectable")){var b=Math.min(Ia-1,Math.floor((a.pageX-_.offset().left-Aa)/Ba)),c=cb(0,b),d=this.parentNode.className.match(/fc-slot(\d+)/);if(d){var e=parseInt(d[1])*Wa("slotMinutes"),f=Math.floor(e/60);c.setHours(f),c.setMinutes(e%60+Qa),Xa("dayClick",ea[b],c,!1,a)}else Xa("dayClick",ea[b],c,!0,a)}}function B(a,b,c){c&&Ka.build();for(var d=eb(a,b),e=0;d.length>e;e++){var f=d[e];w(C(f.row,f.leftCol,f.row,f.rightCol))}}function C(a,b,c,d){var e=Ka.rect(a,b,c,d,ja);return Ya(e,ja)}function D(a,b){for(var c=0;Ia>c;c++){var d=cb(0,c),e=i(m(d),1),f=new Date(Math.max(d,a)),g=new Date(Math.min(e,b));if(g>f){var h=Ka.rect(0,c,0,c,pa),j=M(d,f),k=M(d,g);h.top=j,h.height=k-j,x(Ya(h,pa))}}}function E(a){return Ma.left(a)}function G(a){return Na.left(a)}function H(a){return Ma.right(a)}function I(a){return Na.right(a)}function J(a){return Wa("allDaySlot")&&!a.row}function L(a){var b=cb(0,a.col),c=a.row;return Wa("allDaySlot")&&c--,c>=0&&k(b,Qa+c*Fa),b}function M(a,c){if(a=m(a,!0),k(m(a),Qa)>c)return 0;if(c>=k(m(a),Ra))return wa.height();var d=Wa("slotMinutes"),e=60*c.getHours()+c.getMinutes()-Qa,f=Math.floor(e/d),g=gb[f];return g===b&&(g=gb[f]=wa.find("tr").eq(f).find("td div")[0].offsetTop),Math.max(0,Math.round(g-1+Ea*(e%d/d)))}function N(){return na}function R(a){var b=m(a.start);return a.allDay?b:k(b,Wa("defaultEventMinutes"))}function S(a,b){return b?m(a):k(m(a),Wa("slotMinutes"))}function T(a,b,c){c?Wa("allDaySlot")&&B(a,i(m(b),1),!0):U(a,b)}function U(b,c){var d=Wa("selectHelper");if(Ka.build(),d){var e=db(b).col;if(e>=0&&Ia>e){var f=Ka.rect(0,e,0,e,pa),g=M(b,b),h=M(b,c);if(h>g){if(f.top=g,f.height=h-g,f.left+=2,f.width-=5,a.isFunction(d)){var i=d(b,c);i&&(f.position="absolute",xa=a(i).css(f).appendTo(pa))}else f.isStart=!0,f.isEnd=!0,xa=a(bb({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},f)),xa.css("opacity",Wa("dragOpacity"));xa&&(x(xa),pa.append(xa),z(xa,f.width,!0),A(xa,f.height,!0))}}}else D(b,c)}function V(){Za(),xa&&(xa.remove(),xa=null)}function W(b){if(1==b.which&&Wa("selectable")){_a(b);var c;La.start(function(a,b){if(V(),a&&a.col==b.col&&!J(a)){var d=L(b),e=L(a);c=[d,k(m(d),Fa),e,k(m(e),Fa)].sort(K),U(c[0],c[3])}else c=null},b),a(document).one("mouseup",function(a){La.stop(),c&&(+c[0]==+c[1]&&X(c[0],!1,a),$a(c[0],c[3],!1,a))})}}function X(a,b,c){Xa("dayClick",ea[db(a).col],a,b,c)}function Y(a,b){La.start(function(a){if(Za(),a)if(J(a))C(a.row,a.col,a.row,a.col);else{var b=L(a),c=k(m(b),Wa("defaultEventMinutes"));D(b,c)}},b)}function Z(a,b,c){var d=La.stop();Za(),d&&Xa("drop",a,L(d),J(d),b,c)}var $=this;$.renderAgenda=f,$.setWidth=t,$.setHeight=r,$.afterRender=v,$.defaultEventEnd=R,$.timePosition=M,$.getIsCellAllDay=J,$.allDayRow=N,$.getCoordinateGrid=function(){return Ka},$.getHoverListener=function(){return La},$.colLeft=E,$.colRight=H,$.colContentLeft=G,$.colContentRight=I,$.getDaySegmentContainer=function(){return ka},$.getSlotSegmentContainer=function(){return ua},$.getMinMinute=function(){return Qa},$.getMaxMinute=function(){return Ra},$.getSlotContainer=function(){return pa},$.getRowCnt=function(){return 1},$.getColCnt=function(){return Ia},$.getColWidth=function(){return Ba},$.getSnapHeight=function(){return Ha},$.getSnapMinutes=function(){return Fa},$.defaultSelectionEnd=S,$.renderDayOverlay=B,$.renderSelection=T,$.clearSelection=V,$.reportDayClick=X,$.dragStart=Y,$.dragStop=Z,la.call($,c,d,e),ra.call($),qa.call($),aa.call($);var _,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,ma,na,oa,pa,ua,wa,xa,ya,za,Aa,Ba,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa=$.opt,Xa=$.trigger,Ya=$.renderOverlay,Za=$.clearOverlays,$a=$.reportSelection,_a=$.unselect,ab=$.daySelectionMousedown,bb=$.slotSegHtml,cb=$.cellToDate,db=$.dateToCell,eb=$.rangeToSegments,fb=d.formatDate,gb={};P(c.addClass("fc-agenda")),Ka=new sa(function(b,c){function d(a){return Math.max(i,Math.min(j,a))}var e,f,g;ca.each(function(b,d){e=a(d),f=e.offset().left,b&&(g[1]=f),g=[f],c[b]=g}),g[1]=f+e.outerWidth(),Wa("allDaySlot")&&(e=na,f=e.offset().top,b[0]=[f,f+e.outerHeight()]);for(var h=pa.offset().top,i=oa.offset().top,j=i+oa.outerHeight(),k=0;Ja*Ga>k;k++)b.push([d(h+Ha*k),d(h+Ha*(k+1))])}),La=new ta(Ka),Ma=new va(function(a){return fa.eq(a)}),Na=new va(function(a){return ga.eq(a)})}function aa(){function c(a,b){var c,d=a.length,f=[],g=[];for(c=0;d>c;c++)a[c].allDay?f.push(a[c]):g.push(a[c]);s("allDaySlot")&&(aa(f,b),C()),h(e(g),b)}function d(){D().empty(),E().empty()}function e(b){var c,d,e,h,i,j=P(),l=I(),n=H(),o=a.map(b,g),p=[];for(d=0;j>d;d++)for(c=N(0,d),k(c,l),i=f(b,o,c,k(m(c),n-l)),i=ba(i),e=0;i.length>e;e++)h=i[e],h.col=d,p.push(h);return p}function f(a,b,c,d){var e,f,g,h,i,j,k,l,n=[],o=a.length;for(e=0;o>e;e++)f=a[e],g=f.start,h=b[e],h>c&&d>g&&(c>g?(i=m(c),k=!1):(i=g,k=!0),h>d?(j=m(d),l=!1):(j=h,l=!0),n.push({event:f,start:i,end:j,isStart:k,isEnd:l}));return n.sort(ka)}function g(a){return a.end?m(a.end):k(m(a.start),s("defaultEventMinutes"))}function h(c,d){var e,f,g,h,i,k,m,n,o,p,q,r,u,v,w,x,z=c.length,A="",C=E(),D=s("isRTL");for(e=0;z>e;e++)f=c[e],g=f.event,h=J(f.start,f.start),i=J(f.start,f.end),k=L(f.col),m=M(f.col),n=m-k,m-=.025*n,n=m-k,o=n*(f.forwardCoord-f.backwardCoord),s("slotEventOverlap")&&(o=Math.max(2*(o-10),o)),D?(q=m-f.backwardCoord*n,p=q-o):(p=k+f.backwardCoord*n,q=p+o),p=Math.max(p,k),q=Math.min(q,m),o=q-p,f.top=h,f.left=p,f.outerWidth=o,f.outerHeight=i-h,A+=j(g,f);for(C[0].innerHTML=A,r=C.children(),e=0;z>e;e++)f=c[e],g=f.event,u=a(r[e]),v=t("eventRender",g,g,u),v===!1?u.remove():(v&&v!==!0&&(u.remove(),u=a(v).css({position:"absolute",top:f.top,left:f.left}).appendTo(C)),f.element=u,g._id===d?l(g,u,f):u[0]._fci=e,V(g,u));for(y(C,c,l),e=0;z>e;e++)f=c[e],(u=f.element)&&(f.vsides=F(u,!0),f.hsides=B(u,!0),w=u.find(".fc-event-title"),w.length&&(f.contentTop=w[0].offsetTop));for(e=0;z>e;e++)f=c[e],(u=f.element)&&(u[0].style.width=Math.max(0,f.outerWidth-f.hsides)+"px",x=Math.max(0,f.outerHeight-f.vsides),u[0].style.height=x+"px",g=f.event,f.contentTop!==b&&10>x-f.contentTop&&(u.find("div.fc-event-time").text(da(g.start,s("timeFormat"))+" - "+g.title),u.find("div.fc-event-title").remove()),t("eventAfterRender",g,g,u))}function j(a,b){var c="<",d=a.url,e=R(a,s),f=["fc-event","fc-event-vert"];return u(a)&&f.push("fc-event-draggable"),b.isStart&&f.push("fc-event-start"),b.isEnd&&f.push("fc-event-end"),f=f.concat(a.className),a.source&&(f=f.concat(a.source.className||[])),c+=d?"a href='"+O(a.url)+"'":"div",c+=" class='"+f.join(" ")+"' style='position:absolute;top:"+b.top+"px;left:"+b.left+"px;"+e+"'><div class='fc-event-inner'><div class='fc-event-time'>"+O(ea(a.start,a.end,s("timeFormat")))+"</div><div class='fc-event-title'>"+O(a.title||"")+"</div></div><div class='fc-event-bg'></div>",b.isEnd&&v(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(d?"a":"div")+">"}function l(a,b,c){var d=b.find("div.fc-event-time");u(a)&&p(a,b,d),c.isEnd&&v(a)&&q(a,b,d),z(a,b)}function n(a,b,c){function d(){j||(b.width(e).height("").draggable("option","grid",null),j=!0)}var e,f,g,h=c.isStart,j=!0,k=G(),l=Q(),n=S(),p=T(),q=I();b.draggable({opacity:s("dragOpacity","month"),revertDuration:s("dragRevertDuration"),start:function(c,q){t("eventDragStart",b,a,c,q),X(a,b),e=b.width(),k.start(function(c,e){if(_(),c){f=!1;var k=N(0,e.col),q=N(0,c.col);g=o(q,k),c.row?h?j&&(b.width(l-10),A(b,n*Math.round((a.end?(a.end-a.start)/Fa:s("defaultEventMinutes"))/p)),b.draggable("option","grid",[l,1]),j=!1):f=!0:($(i(m(a.start),g),i(w(a),g)),d()),f=f||j&&!g}else d(),f=!0;b.draggable("option","revert",f)},c,"drag")},stop:function(c,e){if(k.stop(),_(),t("eventDragStop",b,a,c,e),f)d(),b.css("filter",""),W(a,b);else{var h=0;j||(h=Math.round((b.offset().top-U().offset().top)/n)*p+q-(60*a.start.getHours()+a.start.getMinutes())),Y(this,a,g,h,j,c,e)}}})}function p(a,b,c){function d(){_(),h&&(l?(c.hide(),b.draggable("option","grid",null),$(i(m(a.start),u),i(w(a),u))):(e(v),c.css("display",""),b.draggable("option","grid",[A,B])))}function e(b){var d,e=k(m(a.start),b);a.end&&(d=k(m(a.end),b)),c.text(ea(e,d,s("timeFormat")))}var f,g,h,j,l,n,p,q,u,v,x,y=r.getCoordinateGrid(),z=P(),A=Q(),B=S(),C=T();b.draggable({scroll:!1,grid:[A,B],axis:1==z?"y":!1,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(c,d){t("eventDragStart",b,a,c,d),X(a,b),y.build(),f=b.position(),g=y.cell(c.pageX,c.pageY),h=j=!0,l=n=K(g),p=q=0,u=0,v=x=0},drag:function(a,c){var e=y.cell(a.pageX,a.pageY);if(h=!!e){if(l=K(e),p=Math.round((c.position.left-f.left)/A),p!=q){var i=N(0,g.col),k=g.col+p;k=Math.max(0,k),k=Math.min(z-1,k);var m=N(0,k);u=o(m,i)}l||(v=Math.round((c.position.top-f.top)/B)*C)}(h!=j||l!=n||p!=q||v!=x)&&(d(),j=h,n=l,q=p,x=v),b.draggable("option","revert",!h)},stop:function(c,e){_(),t("eventDragStop",b,a,c,e),h&&(l||u||v)?Y(this,a,u,l?0:v,l,c,e):(h=!0,l=!1,p=0,u=0,v=0,d(),b.css("filter",""),b.css(f),W(a,b))}})}function q(a,b,c){var d,e,f=S(),g=T();b.resizable({handles:{s:".ui-resizable-handle"},grid:f,start:function(c,f){d=e=0,X(a,b),t("eventResizeStart",this,a,c,f)},resize:function(h,i){d=Math.round((Math.max(f,b.height())-i.originalSize.height)/f),d!=e&&(c.text(ea(a.start,d||a.end?k(x(a),g*d):null,s("timeFormat"))),e=d)},stop:function(c,e){t("eventResizeStop",this,a,c,e),d?Z(this,a,0,g*d,c,e):W(a,b)}})}var r=this;r.renderEvents=c,r.clearEvents=d,r.slotSegHtml=j,ma.call(r);var s=r.opt,t=r.trigger,u=r.isEventDraggable,v=r.isEventResizable,x=r.eventEnd,z=r.eventElementHandlers,C=r.setHeight,D=r.getDaySegmentContainer,E=r.getSlotSegmentContainer,G=r.getHoverListener,H=r.getMaxMinute,I=r.getMinMinute,J=r.timePosition,K=r.getIsCellAllDay,L=r.colContentLeft,M=r.colContentRight,N=r.cellToDate,P=r.getColCnt,Q=r.getColWidth,S=r.getSnapHeight,T=r.getSnapMinutes,U=r.getSlotContainer,V=r.reportEventElement,W=r.showEvents,X=r.hideEvents,Y=r.eventDrop,Z=r.eventResize,$=r.renderDayOverlay,_=r.clearOverlays,aa=r.renderDayEvents,ca=r.calendar,da=ca.formatDate,ea=ca.formatDates;r.draggableDayEvent=n}function ba(a){var b,c=ca(a),d=c[0];if(da(c),d){for(b=0;d.length>b;b++)ea(d[b]);for(b=0;d.length>b;b++)fa(d[b],0,0)}return ga(c)}function ca(a){var b,c,d,e=[];for(b=0;a.length>b;b++){for(c=a[b],d=0;e.length>d&&ha(c,e[d]).length;d++);(e[d]||(e[d]=[])).push(c)}return e}function da(a){var b,c,d,e,f;for(b=0;a.length>b;b++)for(c=a[b],d=0;c.length>d;d++)for(e=c[d],e.forwardSegs=[],f=b+1;a.length>f;f++)ha(e,a[f],e.forwardSegs)}function ea(a){var c,d,e=a.forwardSegs,f=0;if(a.forwardPressure===b){for(c=0;e.length>c;c++)d=e[c],ea(d),f=Math.max(f,1+d.forwardPressure);a.forwardPressure=f}}function fa(a,c,d){var e,f=a.forwardSegs;if(a.forwardCoord===b)for(f.length?(f.sort(ja),fa(f[0],c+1,d),a.forwardCoord=f[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-d)/(c+1),e=0;f.length>e;e++)fa(f[e],0,a.forwardCoord)}function ga(a){var b,c,d,e=[];for(b=0;a.length>b;b++)for(c=a[b],d=0;c.length>d;d++)e.push(c[d]);return e}function ha(a,b,c){c=c||[];for(var d=0;b.length>d;d++)ia(a,b[d])&&c.push(b[d]);return c}function ia(a,b){return a.end>b.start&&a.start<b.end}function ja(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||ka(a,b)}function ka(a,b){return a.start-b.start||b.end-b.start-(a.end-a.start)||(a.event.title||"").localeCompare(b.event.title)}function la(c,d,e){function f(b,c){var d=V[b];return a.isPlainObject(d)?N(d,c||e):d}function g(a,b){return d.trigger.apply(d,[a,b||M].concat(Array.prototype.slice.call(arguments,2),[M]))}function h(a){var b=a.source||{};return T(a.startEditable,b.startEditable,f("eventStartEditable"),a.editable,b.editable,f("editable"))&&!f("disableDragging")}function j(a){var b=a.source||{};return T(a.durationEditable,b.durationEditable,f("eventDurationEditable"),a.editable,b.editable,f("editable"))&&!f("disableResizing")}function l(a){R={};var b,c,d=a.length;for(b=0;d>b;b++)c=a[b],R[c._id]?R[c._id].push(c):R[c._id]=[c]}function n(){R={},S={},U=[]}function p(a){return a.end?m(a.end):O(a)}function q(a,b){U.push({event:a,element:b}),S[a._id]?S[a._id].push(b):S[a._id]=[b]}function r(){a.each(U,function(a,b){M.trigger("eventDestroy",b.event,b.event,b.element)})}function s(a,c){c.click(function(d){return c.hasClass("ui-draggable-dragging")||c.hasClass("ui-resizable-resizing")?b:g("eventClick",this,a,d)}).hover(function(b){g("eventMouseover",this,a,b)},function(b){g("eventMouseout",this,a,b)})}function t(a,b){v(a,b,"show")}function u(a,b){v(a,b,"hide")}function v(a,b,c){var d,e=S[a._id],f=e.length;for(d=0;f>d;d++)b&&e[d][0]==b[0]||e[d][c]()}function w(a,b,c,d,e,f,h){var i=b.allDay,j=b._id;y(R[j],c,d,e),g("eventDrop",a,b,c,d,e,function(){y(R[j],-c,-d,i),Q(j)},f,h),Q(j)}function x(a,b,c,d,e,f){var h=b._id;z(R[h],c,d),g("eventResize",a,b,c,d,function(){z(R[h],-c,-d),Q(h)},e,f),Q(h)}function y(a,c,d,e){d=d||0;for(var f,g=a.length,h=0;g>h;h++)f=a[h],e!==b&&(f.allDay=e),k(i(f.start,c,!0),d),f.end&&(f.end=k(i(f.end,c,!0),d)),P(f,V)}function z(a,b,c){c=c||0;for(var d,e=a.length,f=0;e>f;f++)d=a[f],d.end=k(i(p(d),b,!0),c),P(d,V)}function A(a){return"object"==typeof a&&(a=a.getDay()),Y[a]}function B(){return W}function C(a,b,c){for(b=b||1;Y[(a.getDay()+(c?b:0)+7)%7];)i(a,b)}function D(){var a=E.apply(null,arguments),b=F(a),c=G(b);return c}function E(a,b){var c=M.getColCnt(),d=_?-1:1,e=_?c-1:0;"object"==typeof a&&(b=a.col,a=a.row);var f=a*c+(b*d+e);return f}function F(a){var b=M.visStart.getDay();return a+=Z[b],7*Math.floor(a/W)+$[(a%W+W)%W]-b}function G(a){var b=m(M.visStart);return i(b,a),b}function H(a){var b=I(a),c=J(b),d=K(c);return d}function I(a){return o(a,M.visStart)}function J(a){var b=M.visStart.getDay();return a+=b,Math.floor(a/7)*W+Z[(a%7+7)%7]-Z[b]}function K(a){var b=M.getColCnt(),c=_?-1:1,d=_?b-1:0,e=Math.floor(a/b),f=(a%b+b)%b*c+d;return{row:e,col:f}}function L(a,b){for(var c=M.getRowCnt(),d=M.getColCnt(),e=[],f=I(a),g=I(b),h=J(f),i=J(g)-1,j=0;c>j;j++){var k=j*d,l=k+d-1,m=Math.max(h,k),n=Math.min(i,l);if(n>=m){var o=K(m),p=K(n),q=[o.col,p.col].sort(),r=F(m)==f,s=F(n)+1==g;e.push({row:j,leftCol:q[0],rightCol:q[1],isStart:r,isEnd:s})}}return e}var M=this;M.element=c,M.calendar=d,M.name=e,M.opt=f,M.trigger=g,M.isEventDraggable=h,M.isEventResizable=j,M.setEventData=l,M.clearEventData=n,M.eventEnd=p,M.reportEventElement=q,M.triggerEventDestroy=r,M.eventElementHandlers=s,M.showEvents=t,M.hideEvents=u,M.eventDrop=w,M.eventResize=x;var O=M.defaultEventEnd,P=d.normalizeEvent,Q=d.reportEventChange,R={},S={},U=[],V=d.options;M.isHiddenDay=A,M.skipHiddenDays=C,M.getCellsPerWeek=B,M.dateToCell=H,M.dateToDayOffset=I,M.dayOffsetToCellOffset=J,M.cellOffsetToCell=K,M.cellToDate=D,M.cellToCellOffset=E,M.cellOffsetToDayOffset=F,M.dayOffsetToDate=G,M.rangeToSegments=L;var W,X=f("hiddenDays")||[],Y=[],Z=[],$=[],_=f("isRTL");!function(){f("weekends")===!1&&X.push(0,6);for(var b=0,c=0;7>b;b++)Z[b]=c,Y[b]=-1!=a.inArray(b,X),Y[b]||($[c]=b,c++);if(W=c,!W)throw"invalid hiddenDays"}()}function ma(){function b(a,b){var c=d(a,!1,!0);oa(c,function(a,b){G(a.event,b)}),t(c,b),oa(c,function(a,b){C("eventAfterRender",a.event,a.event,b)})}function c(a,b,c){var e=d([a],!0,!1),f=[];return oa(e,function(a,d){a.row===b&&d.css("top",c),f.push(d[0])}),f}function d(b,c,d){var f,i,j=X(),m=c?a("<div/>"):j,n=e(b);return g(n),f=h(n),m[0].innerHTML=f,i=m.children(),c&&j.append(i),k(n,i),oa(n,function(a,b){a.hsides=B(b,!0)}),oa(n,function(a,b){b.width(Math.max(0,a.outerWidth-a.hsides))}),oa(n,function(a,b){a.outerHeight=b.outerHeight(!0)}),l(n,d),n}function e(a){for(var b=[],c=0;a.length>c;c++){var d=f(a[c]);b.push.apply(b,d)}return b}function f(a){for(var b=a.start,c=w(a),d=ba(b,c),e=0;d.length>e;e++)d[e].event=a;return d}function g(a){for(var b=A("isRTL"),c=0;a.length>c;c++){var d=a[c],e=(b?d.isEnd:d.isStart)?V:T,f=(b?d.isStart:d.isEnd)?W:U,g=e(d.leftCol),h=f(d.rightCol);d.left=g,d.outerWidth=h-g}}function h(a){for(var b="",c=0;a.length>c;c++)b+=j(a[c]);return b}function j(a){var b="",c=A("isRTL"),d=a.event,e=d.url,f=["fc-event","fc-event-hori"];D(d)&&f.push("fc-event-draggable"),a.isStart&&f.push("fc-event-start"),a.isEnd&&f.push("fc-event-end"),f=f.concat(d.className),d.source&&(f=f.concat(d.source.className||[]));var g=R(d,A);return b+=e?"<a href='"+O(e)+"'":"<div",b+=" class='"+f.join(" ")+"' style='position:absolute;left:"+a.left+"px;"+g+"'><div class='fc-event-inner'>",
!d.allDay&&a.isStart&&(b+="<span class='fc-event-time'>"+O(Y(d.start,d.end,A("timeFormat")))+"</span>"),b+="<span class='fc-event-title'>"+O(d.title||"")+"</span></div>",a.isEnd&&E(d)&&(b+="<div class='ui-resizable-handle ui-resizable-"+(c?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),b+="</"+(e?"a":"div")+">"}function k(b,c){for(var d=0;b.length>d;d++){var e=b[d],f=e.event,g=c.eq(d),h=C("eventRender",f,f,g);h===!1?g.remove():(h&&h!==!0&&(h=a(h).css({position:"absolute",left:e.left}),g.replaceWith(h),g=h),e.element=g)}}function l(a,b){var c=n(a),d=s(),e=[];if(b)for(var f=0;d.length>f;f++)d[f].height(c[f]);for(var f=0;d.length>f;f++)e.push(d[f].position().top);oa(a,function(a,b){b.css("top",e[a.row]+a.top)})}function n(a){for(var b=N(),c=Q(),d=[],e=p(a),f=0;b>f;f++){for(var g=e[f],h=[],i=0;c>i;i++)h.push(0);for(var j=0;g.length>j;j++){var k=g[j];k.top=L(h.slice(k.leftCol,k.rightCol+1));for(var i=k.leftCol;k.rightCol>=i;i++)h[i]=k.top+k.outerHeight}d.push(L(h))}return d}function p(a){var b,c,d,e=N(),f=[];for(b=0;a.length>b;b++)c=a[b],d=c.row,c.element&&(f[d]?f[d].push(c):f[d]=[c]);for(d=0;e>d;d++)f[d]=q(f[d]||[]);return f}function q(a){for(var b=[],c=r(a),d=0;c.length>d;d++)b.push.apply(b,c[d]);return b}function r(a){a.sort(pa);for(var b=[],c=0;a.length>c;c++){for(var d=a[c],e=0;b.length>e&&na(d,b[e]);e++);b[e]?b[e].push(d):b[e]=[d]}return b}function s(){var a,b=N(),c=[];for(a=0;b>a;a++)c[a]=S(a).find("div.fc-day-content > div");return c}function t(a,b){var c=X();oa(a,function(a,c,d){var e=a.event;e._id===b?u(e,c,a):c[0]._fci=d}),y(c,a,u)}function u(a,b,c){D(a)&&z.draggableDayEvent(a,b,c),c.isEnd&&E(a)&&z.resizableDayEvent(a,b,c),H(a,b)}function v(a,b){var c,d=aa();b.draggable({delay:50,opacity:A("dragOpacity"),revertDuration:A("dragRevertDuration"),start:function(e,f){C("eventDragStart",b,a,e,f),J(a,b),d.start(function(d,e,f,g){if(b.draggable("option","revert",!d||!f&&!g),$(),d){var h=ca(e),j=ca(d);c=o(j,h),Z(i(m(a.start),c),i(w(a),c))}else c=0},e,"drag")},stop:function(e,f){d.stop(),$(),C("eventDragStop",b,a,e,f),c?K(this,a,c,0,a.allDay,e,f):(b.css("filter",""),I(a,b))}})}function x(b,d,e){var f=A("isRTL"),g=f?"w":"e",h=d.find(".ui-resizable-"+g),j=!1;P(d),d.mousedown(function(a){a.preventDefault()}).click(function(a){j&&(a.preventDefault(),a.stopImmediatePropagation())}),h.mousedown(function(f){function h(c){C("eventResizeStop",this,b,c),a("body").css("cursor",""),k.stop(),$(),l&&M(this,b,l,0,c),setTimeout(function(){j=!1},0)}if(1==f.which){j=!0;var k=aa();N(),Q();var l,m,n=d.css("top"),o=a.extend({},b),p=ga(fa(b.start));_(),a("body").css("cursor",g+"-resize").one("mouseup",h),C("eventResizeStart",this,b,f),k.start(function(d,f){if(d){var h=da(f),j=da(d);if(j=Math.max(j,p),l=ea(j)-ea(h)){o.end=i(F(b),l,!0);var k=m;m=c(o,e.row,n),m=a(m),m.find("*").css("cursor",g+"-resize"),k&&k.remove(),J(b)}else m&&(I(b),m.remove(),m=null);$(),Z(b.start,i(w(b),l))}},f)}})}var z=this;z.renderDayEvents=b,z.draggableDayEvent=v,z.resizableDayEvent=x;var A=z.opt,C=z.trigger,D=z.isEventDraggable,E=z.isEventResizable,F=z.eventEnd,G=z.reportEventElement,H=z.eventElementHandlers,I=z.showEvents,J=z.hideEvents,K=z.eventDrop,M=z.eventResize,N=z.getRowCnt,Q=z.getColCnt;z.getColWidth;var S=z.allDayRow,T=z.colLeft,U=z.colRight,V=z.colContentLeft,W=z.colContentRight;z.dateToCell;var X=z.getDaySegmentContainer,Y=z.calendar.formatDates,Z=z.renderDayOverlay,$=z.clearOverlays,_=z.clearSelection,aa=z.getHoverListener,ba=z.rangeToSegments,ca=z.cellToDate,da=z.cellToCellOffset,ea=z.cellOffsetToDayOffset,fa=z.dateToDayOffset,ga=z.dayOffsetToCellOffset}function na(a,b){for(var c=0;b.length>c;c++){var d=b[c];if(d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0}return!1}function oa(a,b){for(var c=0;a.length>c;c++){var d=a[c],e=d.element;e&&b(d,e,c)}}function pa(a,b){return b.rightCol-b.leftCol-(a.rightCol-a.leftCol)||b.event.allDay-a.event.allDay||a.event.start-b.event.start||(a.event.title||"").localeCompare(b.event.title)}function qa(){function b(a,b,e){c(),b||(b=i(a,e)),j(a,b,e),d(a,b,e)}function c(a){l&&(l=!1,k(),h("unselect",null,a))}function d(a,b,c,d){l=!0,h("select",null,a,b,c,d)}function e(b){var e=f.cellToDate,h=f.getIsCellAllDay,i=f.getHoverListener(),l=f.reportDayClick;if(1==b.which&&g("selectable")){c(b);var m;i.start(function(a,b){k(),a&&h(a)?(m=[e(b),e(a)].sort(K),j(m[0],m[1],!0)):m=null},b),a(document).one("mouseup",function(a){i.stop(),m&&(+m[0]==+m[1]&&l(m[0],!0,a),d(m[0],m[1],!0,a))})}}var f=this;f.select=b,f.unselect=c,f.reportSelection=d,f.daySelectionMousedown=e;var g=f.opt,h=f.trigger,i=f.defaultSelectionEnd,j=f.renderSelection,k=f.clearSelection,l=!1;g("selectable")&&g("unselectAuto")&&a(document).mousedown(function(b){var d=g("unselectCancel");d&&a(b.target).parents(d).length||c(b)})}function ra(){function b(b,c){var d=f.shift();return d||(d=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),d[0].parentNode!=c[0]&&d.appendTo(c),e.push(d.css(b).show()),d}function c(){for(var a;a=e.shift();)f.push(a.hide().unbind())}var d=this;d.renderOverlay=b,d.clearOverlays=c;var e=[],f=[]}function sa(a){var b,c,d=this;d.build=function(){b=[],c=[],a(b,c)},d.cell=function(a,d){var e,f=b.length,g=c.length,h=-1,i=-1;for(e=0;f>e;e++)if(d>=b[e][0]&&b[e][1]>d){h=e;break}for(e=0;g>e;e++)if(a>=c[e][0]&&c[e][1]>a){i=e;break}return h>=0&&i>=0?{row:h,col:i}:null},d.rect=function(a,d,e,f,g){var h=g.offset();return{top:b[a][0]-h.top,left:c[d][0]-h.left,width:c[f][1]-c[d][0],height:b[e][1]-b[a][0]}}}function ta(b){function c(a){ua(a);var c=b.cell(a.pageX,a.pageY);(!c!=!g||c&&(c.row!=g.row||c.col!=g.col))&&(c?(f||(f=c),e(c,f,c.row-f.row,c.col-f.col)):e(c,f),g=c)}var d,e,f,g,h=this;h.start=function(h,i,j){e=h,f=g=null,b.build(),c(i),d=j||"mousemove",a(document).bind(d,c)},h.stop=function(){return a(document).unbind(d,c),g}}function ua(a){a.pageX===b&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function va(a){function c(b){return e[b]=e[b]||a(b)}var d=this,e={},f={},g={};d.left=function(a){return f[a]=f[a]===b?c(a).position().left:f[a]},d.right=function(a){return g[a]=g[a]===b?d.left(a)+c(a).width():g[a]},d.clear=function(){e={},f={},g={}}}var wa={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},xa={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},ya=a.fullCalendar={version:"1.6.4"},za=ya.views={};a.fn.fullCalendar=function(c){if("string"==typeof c){var e,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a.data(this,"fullCalendar");if(d&&a.isFunction(d[c])){var g=d[c].apply(d,f);e===b&&(e=g),"destroy"==c&&a.removeData(this,"fullCalendar")}}),e!==b?e:this}c=c||{};var g=c.eventSources||[];return delete c.eventSources,c.events&&(g.push(c.events),delete c.events),c=a.extend(!0,{},wa,c.isRTL||c.isRTL===b&&wa.isRTL?xa:{},c),this.each(function(b,e){var f=a(e),h=new d(f,c,g);f.data("fullCalendar",h),h.render()}),this},ya.sourceNormalizers=[],ya.sourceFetchers=[];var Aa={dataType:"json",cache:!1},Ba=1;ya.addDays=i,ya.cloneDate=m,ya.parseDate=q,ya.parseISO8601=r,ya.parseTime=s,ya.formatDate=t,ya.formatDates=u;var Ca=["sun","mon","tue","wed","thu","fri","sat"],Da=864e5,Ea=36e5,Fa=6e4,Ga={s:function(a){return a.getSeconds()},ss:function(a){return M(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return M(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return M(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return M(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return M(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return M(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return 12>a.getHours()?"a":"p"},tt:function(a){return 12>a.getHours()?"am":"pm"},T:function(a){return 12>a.getHours()?"A":"P"},TT:function(a){return 12>a.getHours()?"AM":"PM"},u:function(a){return t(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){var b=a.getDate();return b>10&&20>b?"th":["st","nd","rd"][b%10-1]||"th"},w:function(a,b){return b.weekNumberCalculation(a)},W:function(a){return v(a)}};ya.dateFormatters=Ga,ya.applyAll=S,za.month=U,za.basicWeek=V,za.basicDay=W,c({weekMode:"fixed"}),za.agendaWeek=Z,za.agendaDay=$,c({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),function(a,b){function c(b){a.extend(!0,ya,b)}function d(c,d,j){function k(a){fa?q()&&(z(),x(a)):l()}function l(){ga=d.theme?"ui":"fc",c.addClass("fc"),c.addClass(d.isRTL?"fc-rtl":"fc-ltr"),d.theme&&c.addClass("ui-widget"),fa=a("<div class='fc-content' style='position:relative'/>").prependTo(c),da=new e(ca,d),ea=da.render(),ea&&c.prepend(ea),s(d.defaultView),d.handleWindowResize&&a(window).resize(B),r()||n()}function n(){setTimeout(function(){!ha.start&&r()&&w()},0)}function o(){ha&&(ba("viewDestroy",ha,ha,ha.element),ha.triggerEventDestroy()),a(window).unbind("resize",B),da.destroy(),fa.remove(),c.removeClass("fc fc-rtl ui-widget")}function q(){return c.is(":visible")}function r(){return a("body").is(":visible")}function s(a){ha&&a==ha.name||v(a)}function v(b){pa++,ha&&(ba("viewDestroy",ha,ha,ha.element),Q(),ha.triggerEventDestroy(),Z(),ha.element.remove(),da.deactivateButton(ha.name)),da.activateButton(b),ha=new Ba[b](a("<div class='fc-view fc-view-"+b+"' style='position:relative'/>").appendTo(fa),ca),w(),$(),pa--}function w(a){(!ha.start||a||qa<ha.start||qa>=ha.end)&&q()&&x(a)}function x(a){pa++,ha.start&&(ba("viewDestroy",ha,ha,ha.element),Q(),G()),Z(),ha.render(qa,a||0),A(),$(),(ha.afterRender||J)(),M(),O(),ba("viewRender",ha,ha,ha.element),ha.trigger("viewDisplay",na),pa--,H()}function y(){q()&&(Q(),G(),z(),A(),E())}function z(){ja=d.contentHeight?d.contentHeight:d.height?d.height-(ea?ea.height():0)-F(fa):Math.round(fa.width()/Math.max(d.aspectRatio,.5))}function A(){ja===b&&z(),pa++,ha.setHeight(ja),ha.setWidth(fa.width()),pa--,ia=c.outerWidth()}function B(){if(!pa)if(ha.start){var a=++oa;setTimeout(function(){a==oa&&!pa&&q()&&ia!=(ia=c.outerWidth())&&(pa++,y(),ha.trigger("windowResize",na),pa--)},200)}else n()}function C(){G(),I()}function D(a){G(),E(a)}function E(a){q()&&(ha.setEventData(ra),ha.renderEvents(ra,a),ha.trigger("eventAfterAllRender"))}function G(){ha.triggerEventDestroy(),ha.clearEvents(),ha.clearEventData()}function H(){!d.lazyFetching||la(ha.visStart,ha.visEnd)?I():E()}function I(){ma(ha.visStart,ha.visEnd)}function K(a){ra=a,E()}function L(a){D(a)}function M(){da.updateTitle(ha.title)}function N(){var a=new Date;da.toggleEnable("today",a<ha.start||a>=ha.end)}function O(){N(),d.minDate&&da.toggleEnable("prev",d.minDate<ha.start),d.maxDate&&da.toggleEnable("next",d.maxDate>ha.end)}function P(a,c,d){ha.select(a,c,d===b?!0:d)}function Q(){ha&&ha.unselect()}function R(){w(-1)}function S(){w(1)}function T(){g(qa,-1),w()}function U(){g(qa,1),w()}function V(){qa=new Date,w()}function W(a,b,c){a instanceof Date?qa=m(a):p(qa,a,b,c),w()}function X(a,c,d){a!==b&&g(qa,a),c!==b&&h(qa,c),d!==b&&i(qa,d),w()}function Y(){return m(qa)}function Z(){fa.css({width:"100%",height:fa.height(),overflow:"hidden"})}function $(){fa.css({width:"",height:"",overflow:""})}function _(){return ha}function aa(a,c){return c===b?d[a]:void(("height"==a||"contentHeight"==a||"aspectRatio"==a)&&(d[a]=c,y()))}function ba(a,b){return d[a]?d[a].apply(b||na,Array.prototype.slice.call(arguments,2)):void 0}var ca=this;ca.options=d,ca.render=k,ca.destroy=o,ca.refetchEvents=C,ca.reportEvents=K,ca.reportEventChange=L,ca.rerenderEvents=D,ca.changeView=s,ca.select=P,ca.unselect=Q,ca.prev=R,ca.next=S,ca.prevYear=T,ca.nextYear=U,ca.today=V,ca.gotoDate=W,ca.incrementDate=X,ca.formatDate=function(a,b){return t(a,b,d)},ca.formatDates=function(a,b,c){return u(a,b,c,d)},ca.getDate=Y,ca.getView=_,ca.option=aa,ca.trigger=ba,f.call(ca,d,j);var da,ea,fa,ga,ha,ia,ja,ka,la=ca.isFetchNeeded,ma=ca.fetchEvents,na=c[0],oa=0,pa=0,qa=new Date,ra=[];p(qa,d.year,d.month,d.date),d.droppable&&a(document).bind("dragstart",function(b,c){var e=b.target,f=a(e);if(!f.parents(".fc").length){var g=d.dropAccept;(a.isFunction(g)?g.call(e,f):f.is(g))&&(ka=e,ha.dragStart(ka,b,c))}}).bind("dragstop",function(a,b){ka&&(ha.dragStop(ka,a,b),ka=null)})}function e(b,c){function d(){n=c.theme?"ui":"fc";var b=c.header;return b?o=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(f("left")).append(f("center")).append(f("right"))):void 0}function e(){o.remove()}function f(d){var e=a("<td class='fc-header-"+d+"'/>"),f=c.header[d];return f&&a.each(f.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var f;a.each(this.split(","),function(d,g){if("title"==g)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),f&&f.addClass(n+"-corner-right"),f=null;else{var h;if(b[g]?h=b[g]:Ba[g]&&(h=function(){k.removeClass(n+"-state-hover"),b.changeView(g)}),h){var i=c.theme?N(c.buttonIcons,g):null,j=N(c.buttonText,g),k=a("<span class='fc-button fc-button-"+g+" "+n+"-state-default'>"+(i?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+i+"'/></span>":j)+"</span>").click(function(){k.hasClass(n+"-state-disabled")||h()}).mousedown(function(){k.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-down")}).mouseup(function(){k.removeClass(n+"-state-down")}).hover(function(){k.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-hover")},function(){k.removeClass(n+"-state-hover").removeClass(n+"-state-down")}).appendTo(e);P(k),f||k.addClass(n+"-corner-left"),f=k}}}),f&&f.addClass(n+"-corner-right")}),e}function g(a){o.find("h2").html(a)}function h(a){o.find("span.fc-button-"+a).addClass(n+"-state-active")}function i(a){o.find("span.fc-button-"+a).removeClass(n+"-state-active")}function j(a){o.find("span.fc-button-"+a).addClass(n+"-state-disabled")}function k(a){o.find("span.fc-button-"+a).removeClass(n+"-state-disabled")}function l(a,b){b?k(a):j(a)}var m=this;m.render=d,m.destroy=e,m.updateTitle=g,m.activateButton=h,m.deactivateButton=i,m.disableButton=j,m.enableButton=k,m.toggleEnable=l;var n,o=a([])}function f(c,d){function e(a,b){return!y||y>a||b>z}function f(a,b){y=a,z=b,I=[];var c=++F,d=E.length;G=d;for(var e=0;d>e;e++)g(E[e],c)}function g(b,d){h(b,function(e){if(d==F){if(e){c.eventDataTransform&&(e=a.map(e,c.eventDataTransform)),b.eventDataTransform&&(e=a.map(e,b.eventDataTransform));for(var f=0;f<e.length;f++)e[f].source=b,t(e[f]);I=I.concat(e)}G--,G||C(I)}})}function h(b,d){var e,f,g=Aa.sourceFetchers;for(e=0;e<g.length;e++){if(f=g[e](b,y,z,d),f===!0)return;if("object"==typeof f)return void h(f,d)}var i=b.events;if(i)a.isFunction(i)?(r(),i(m(y),m(z),function(a){d(a),s()})):a.isArray(i)?d(i):d();else{var j=b.url;if(j){var k,l=b.success,n=b.error,o=b.complete;k=a.isFunction(b.data)?b.data():b.data;var p=a.extend({},k||{}),q=T(b.startParam,c.startParam),t=T(b.endParam,c.endParam);q&&(p[q]=Math.round(+y/1e3)),t&&(p[t]=Math.round(+z/1e3)),r(),a.ajax(a.extend({},Ca,b,{data:p,success:function(b){b=b||[];var c=S(l,this,arguments);a.isArray(c)&&(b=c),d(b)},error:function(){S(n,this,arguments),d()},complete:function(){S(o,this,arguments),s()}}))}else d()}}function i(a){a=j(a),a&&(G++,g(a,F))}function j(b){return a.isFunction(b)||a.isArray(b)?b={events:b}:"string"==typeof b&&(b={url:b}),"object"==typeof b?(u(b),E.push(b),b):void 0}function k(b){E=a.grep(E,function(a){return!v(a,b)}),I=a.grep(I,function(a){return!v(a.source,b)}),C(I)}function l(a){var b,c,d=I.length,e=B().defaultEventEnd,f=a.start-a._start,g=a.end?a.end-(a._end||e(a)):0;for(b=0;d>b;b++)c=I[b],c._id==a._id&&c!=a&&(c.start=new Date(+c.start+f),c.end=a.end?new Date(c.end?+c.end+g:+e(c)+g):null,c.title=a.title,c.url=a.url,c.allDay=a.allDay,c.className=a.className,c.editable=a.editable,c.color=a.color,c.backgroundColor=a.backgroundColor,c.borderColor=a.borderColor,c.textColor=a.textColor,t(c));t(a),C(I)}function n(a,b){t(a),a.source||(b&&(D.events.push(a),a.source=D),I.push(a)),C(I)}function o(b){if(b){if(!a.isFunction(b)){var c=b+"";b=function(a){return a._id==c}}I=a.grep(I,b,!0);for(var d=0;d<E.length;d++)a.isArray(E[d].events)&&(E[d].events=a.grep(E[d].events,b,!0))}else{I=[];for(var d=0;d<E.length;d++)a.isArray(E[d].events)&&(E[d].events=[])}C(I)}function p(b){return a.isFunction(b)?a.grep(I,b):b?(b+="",a.grep(I,function(a){return a._id==b})):I}function r(){H++||A("loading",null,!0,B())}function s(){--H||A("loading",null,!1,B())}function t(a){var d=a.source||{},e=T(d.ignoreTimezone,c.ignoreTimezone);a._id=a._id||(a.id===b?"_fc"+Da++:a.id+""),a.date&&(a.start||(a.start=a.date),delete a.date),a._start=m(a.start=q(a.start,e)),a.end=q(a.end,e),a.end&&a.end<=a.start&&(a.end=null),a._end=a.end?m(a.end):null,a.allDay===b&&(a.allDay=T(d.allDayDefault,c.allDayDefault)),a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[]}function u(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=Aa.sourceNormalizers,c=0;c<b.length;c++)b[c](a)}function v(a,b){return a&&b&&w(a)==w(b)}function w(a){return("object"==typeof a?a.events||a.url:"")||a}var x=this;x.isFetchNeeded=e,x.fetchEvents=f,x.addEventSource=i,x.removeEventSource=k,x.updateEvent=l,x.renderEvent=n,x.removeEvents=o,x.clientEvents=p,x.normalizeEvent=t;for(var y,z,A=x.trigger,B=x.getView,C=x.reportEvents,D={events:[]},E=[D],F=0,G=0,H=0,I=[],J=0;J<d.length;J++)j(d[J])}function g(a,b,c){return a.setFullYear(a.getFullYear()+b),c||l(a),a}function h(a,b,c){if(+a){var d=a.getMonth()+b,e=m(a);for(e.setDate(1),e.setMonth(d),a.setMonth(d),c||l(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(e>a?1:-1))}return a}function i(a,b,c){if(+a){var d=a.getDate()+b,e=m(a);e.setHours(9),e.setDate(d),a.setDate(d),c||l(a),j(a,e)}return a}function j(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(b>a?1:-1)*Ga)}function k(a,b){return a.setMinutes(a.getMinutes()+b),a}function l(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function m(a,b){return b?l(new Date(+a)):new Date(+a)}function n(){var a,b=0;do a=new Date(1970,b++,1);while(a.getHours());return a}function o(a,b){return Math.round((m(a,!0)-m(b,!0))/Fa)}function p(a,c,d,e){c!==b&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c)),d!==b&&d!=a.getMonth()&&(a.setDate(1),a.setMonth(d)),e!==b&&a.setDate(e)}function q(a,c){return"object"==typeof a?a:"number"==typeof a?new Date(1e3*a):"string"==typeof a?a.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(a)):(c===b&&(c=!0),r(a,c)||(a?new Date(a):null)):null}function r(a,b){var c=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!c)return null;var d=new Date(c[1],0,1);if(b||!c[13]){var e=new Date(c[1],0,1,9,0);c[3]&&(d.setMonth(c[3]-1),e.setMonth(c[3]-1)),c[5]&&(d.setDate(c[5]),e.setDate(c[5])),j(d,e),c[7]&&d.setHours(c[7]),c[8]&&d.setMinutes(c[8]),c[10]&&d.setSeconds(c[10]),c[12]&&d.setMilliseconds(1e3*Number("0."+c[12])),j(d,e)}else if(d.setUTCFullYear(c[1],c[3]?c[3]-1:0,c[5]||1),d.setUTCHours(c[7]||0,c[8]||0,c[10]||0,c[12]?1e3*Number("0."+c[12]):0),c[14]){var f=60*Number(c[16])+(c[18]?Number(c[18]):0);f*="-"==c[15]?1:-1,d=new Date(+d+60*f*1e3)}return d}function s(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();var b=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(b){var c=parseInt(b[1],10);return b[3]&&(c%=12,"p"==b[3].toLowerCase().charAt(0)&&(c+=12)),60*c+(b[2]?parseInt(b[2],10):0)}}function t(a,b,c){return u(a,null,b,c)}function u(a,b,c,d){d=d||ya;var e,f,g,h,i=a,j=b,k=c.length,l="";for(e=0;k>e;e++)if(f=c.charAt(e),"'"==f){for(g=e+1;k>g;g++)if("'"==c.charAt(g)){i&&(l+=g==e+1?"'":c.substring(e+1,g),e=g);break}}else if("("==f){for(g=e+1;k>g;g++)if(")"==c.charAt(g)){var m=t(i,c.substring(e+1,g),d);parseInt(m.replace(/\D/,""),10)&&(l+=m),e=g;break}}else if("["==f){for(g=e+1;k>g;g++)if("]"==c.charAt(g)){var n=c.substring(e+1,g),m=t(i,n,d);m!=t(j,n,d)&&(l+=m),e=g;break}}else if("{"==f)i=b,j=a;else if("}"==f)i=a,j=b;else{for(g=k;g>e;g--)if(h=Ia[c.substring(e,g)]){i&&(l+=h(i,d)),e=g-1;break}g==e&&i&&(l+=f)}return l}function v(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1}function w(a){return a.end?x(a.end,a.allDay):i(m(a.start),1)}function x(a,b){return a=m(a),b||a.getHours()||a.getMinutes()?i(a,1):l(a)}function y(c,d,e){c.unbind("mouseover").mouseover(function(c){for(var f,g,h,i=c.target;i!=this;)f=i,i=i.parentNode;(g=f._fci)!==b&&(f._fci=b,h=d[g],e(h.event,h.element,h),a(c.target).trigger(c)),c.stopPropagation()})}function z(b,c,d){for(var e,f=0;f<b.length;f++)e=a(b[f]),e.width(Math.max(0,c-B(e,d)))}function A(b,c,d){for(var e,f=0;f<b.length;f++)e=a(b[f]),e.height(Math.max(0,c-F(e,d)))}function B(a,b){return C(a)+E(a)+(b?D(a):0)}function C(b){return(parseFloat(a.css(b[0],"paddingLeft",!0))||0)+(parseFloat(a.css(b[0],"paddingRight",!0))||0)}function D(b){return(parseFloat(a.css(b[0],"marginLeft",!0))||0)+(parseFloat(a.css(b[0],"marginRight",!0))||0)}function E(b){return(parseFloat(a.css(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.css(b[0],"borderRightWidth",!0))||0)}function F(a,b){return G(a)+I(a)+(b?H(a):0)}function G(b){return(parseFloat(a.css(b[0],"paddingTop",!0))||0)+(parseFloat(a.css(b[0],"paddingBottom",!0))||0)}function H(b){return(parseFloat(a.css(b[0],"marginTop",!0))||0)+(parseFloat(a.css(b[0],"marginBottom",!0))||0)}function I(b){return(parseFloat(a.css(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.css(b[0],"borderBottomWidth",!0))||0)}function J(){}function K(a,b){return a-b}function L(a){return Math.max.apply(Math,a)}function M(a){return(10>a?"0":"")+a}function N(a,c){if(a[c]!==b)return a[c];for(var d,e=c.split(/(?=[A-Z])/),f=e.length-1;f>=0;f--)if(d=a[e[f].toLowerCase()],d!==b)return d;return a[""]}function O(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function P(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Q(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function R(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,i=a.textColor||c.textColor||b("eventTextColor"),j=[];return g&&j.push("background-color:"+g),h&&j.push("border-color:"+h),i&&j.push("color:"+i),j.join(";")}function S(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function T(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==b)return arguments[a]}function U(a,b){function c(a,b){b&&(h(a,b),a.setDate(1));var c=e("firstDay"),l=m(a,!0);l.setDate(1);var n=h(m(l),1),p=m(l);i(p,-((p.getDay()-c+7)%7)),g(p);var q=m(n);i(q,(7-q.getDay()+c)%7),g(q,-1,!0);var r=j(),s=Math.round(o(q,p)/7);"fixed"==e("weekMode")&&(i(q,7*(6-s)),s=6),d.title=k(l,e("titleFormat")),d.start=l,d.end=n,d.visStart=p,d.visEnd=q,f(s,r,!0)}var d=this;d.render=c,X.call(d,a,b,"month");var e=d.opt,f=d.renderBasic,g=d.skipHiddenDays,j=d.getCellsPerWeek,k=b.formatDate}function V(a,b){function c(a,b){b&&i(a,7*b);var c=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),k=i(m(c),7),l=m(c);g(l);var n=m(k);g(n,-1,!0);var o=h();d.start=c,d.end=k,d.visStart=l,d.visEnd=n,d.title=j(l,i(m(n),-1),e("titleFormat")),f(1,o,!1)}var d=this;d.render=c,X.call(d,a,b,"basicWeek");var e=d.opt,f=d.renderBasic,g=d.skipHiddenDays,h=d.getCellsPerWeek,j=b.formatDates}function W(a,b){function c(a,b){b&&i(a,b),g(a,0>b?-1:1);var c=m(a,!0),j=i(m(c),1);d.title=h(a,e("titleFormat")),d.start=d.visStart=c,d.end=d.visEnd=j,f(1,1,!1)}var d=this;d.render=c,X.call(d,a,b,"basicDay");var e=d.opt,f=d.renderBasic,g=d.skipHiddenDays,h=b.formatDate}function X(b,c,d){function e(a,b,c){ba=a,ca=b,da=c,f(),R||g(),h()}function f(){ia=oa("theme")?"ui":"fc",ja=oa("columnFormat"),ka=oa("weekNumbers"),la=oa("weekNumberTitle"),ma="iso"!=oa("weekNumberCalculation")?"w":"W"}function g(){X=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function h(){var c=j();L&&L.remove(),L=a(c).appendTo(b),M=L.find("thead"),N=M.find(".fc-day-header"),R=L.find("tbody"),S=R.find("tr"),T=R.find(".fc-day"),U=S.find("td:first-child"),V=S.eq(0).find(".fc-day > div"),W=S.eq(0).find(".fc-day-content > div"),Q(M.add(M.find("tr"))),Q(S),S.eq(0).addClass("fc-first"),S.filter(":last").addClass("fc-last"),T.each(function(b,c){var d=ya(Math.floor(b/ca),b%ca);pa("dayRender",K,d,a(c))}),s(T)}function j(){var a="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+k()+n()+"</table>";return a}function k(){var a,b,c=ia+"-widget-header",d="";for(d+="<thead><tr>",ka&&(d+="<th class='fc-week-number "+c+"'>"+O(la)+"</th>"),a=0;ca>a;a++)b=ya(0,a),d+="<th class='fc-day-header fc-"+Ea[b.getDay()]+" "+c+"'>"+O(Ba(b,ja))+"</th>";return d+="</tr></thead>"}function n(){var a,b,c,d=ia+"-widget-content",e="";for(e+="<tbody>",a=0;ba>a;a++){for(e+="<tr class='fc-week'>",ka&&(c=ya(a,0),e+="<td class='fc-week-number "+d+"'><div>"+O(Ba(c,ma))+"</div></td>"),b=0;ca>b;b++)c=ya(a,b),e+=o(c);e+="</tr>"}return e+="</tbody>"}function o(a){var b=ia+"-widget-content",c=K.start.getMonth(),d=l(new Date),e="",f=["fc-day","fc-"+Ea[a.getDay()],b];return a.getMonth()!=c&&f.push("fc-other-month"),+a==+d?f.push("fc-today",ia+"-state-highlight"):f.push(d>a?"fc-past":"fc-future"),e+="<td class='"+f.join(" ")+"' data-date='"+Ba(a,"yyyy-MM-dd")+"'><div>",da&&(e+="<div class='fc-day-number'>"+a.getDate()+"</div>"),e+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function p(b){$=b;var c,d,e,f=$-M.height();"variable"==oa("weekMode")?c=d=Math.floor(f/(1==ba?2:6)):(c=Math.floor(f/ba),d=f-c*(ba-1)),U.each(function(b,f){ba>b&&(e=a(f),e.find("> div").css("min-height",(b==ba-1?d:c)-F(e)))})}function q(a){Z=a,ga.clear(),ha.clear(),aa=0,ka&&(aa=M.find("th.fc-week-number").outerWidth()),_=Math.floor((Z-aa)/ca),z(N.slice(0,-1),_)}function s(a){a.click(t).mousedown(wa)}function t(b){if(!oa("selectable")){var c=r(a(this).data("date"));pa("dayClick",this,c,!0,b)}}function u(a,b,c){c&&ea.build();for(var d=Aa(a,b),e=0;e<d.length;e++){var f=d[e];s(v(f.row,f.leftCol,f.row,f.rightCol))}}function v(a,c,d,e){var f=ea.rect(a,c,d,e,b);return qa(f,b)}function w(a){return m(a)}function x(a,b){u(a,i(m(b),1),!0)}function y(){ra()}function A(a,b,c){var d=za(a),e=T[d.row*ca+d.col];pa("dayClick",e,a,b,c)}function B(a,b){fa.start(function(a){ra(),a&&v(a.row,a.col,a.row,a.col)},b)}function C(a,b,c){var d=fa.stop();if(ra(),d){var e=ya(d);pa("drop",a,e,!0,b,c)}}function D(a){return m(a.start)}function E(a){return ga.left(a)}function G(a){return ga.right(a)}function H(a){return ha.left(a)}function I(a){return ha.right(a)}function J(a){return S.eq(a)}var K=this;K.renderBasic=e,K.setHeight=p,K.setWidth=q,K.renderDayOverlay=u,K.defaultSelectionEnd=w,K.renderSelection=x,K.clearSelection=y,K.reportDayClick=A,K.dragStart=B,K.dragStop=C,K.defaultEventEnd=D,K.getHoverListener=function(){return fa},K.colLeft=E,K.colRight=G,K.colContentLeft=H,K.colContentRight=I,K.getIsCellAllDay=function(){return!0},K.allDayRow=J,K.getRowCnt=function(){return ba},K.getColCnt=function(){return ca},K.getColWidth=function(){return _},K.getDaySegmentContainer=function(){return X},na.call(K,b,c,d),ta.call(K),sa.call(K),Y.call(K);var L,M,N,R,S,T,U,V,W,X,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,oa=K.opt,pa=K.trigger,qa=K.renderOverlay,ra=K.clearOverlays,wa=K.daySelectionMousedown,ya=K.cellToDate,za=K.dateToCell,Aa=K.rangeToSegments,Ba=c.formatDate;P(b.addClass("fc-grid")),ea=new ua(function(b,c){var d,e,f;N.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),S.each(function(c,g){ba>c&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),fa=new va(ea),ga=new xa(function(a){return V.eq(a)}),ha=new xa(function(a){return W.eq(a)})}function Y(){function a(a,b){c.renderDayEvents(a,b)}function b(){c.getDaySegmentContainer().empty()}var c=this;c.renderEvents=a,c.clearEvents=b,oa.call(c)}function Z(a,b){function c(a,b){var c=e("firstMonth")||0,i=e("lastMonth")||c+12,j=i-c,k=m(a,!0);k.setFullYear(a.getFullYear(),i,0,12),b?g(a,b):c>0&&a.getMonth()<=k.getMonth()&&g(a,-1);var l=m(a,!0);l.setFullYear(l.getFullYear(),c,1,12);var n=m(a);n.setFullYear(n.getFullYear(),i,0,12);var o=e("yearColumns")||3;d.title=h(l,e("titleFormat")),c+j>12&&(d.title+=h(n," - yyyy")),d.start=l,d.end=n,f(o,!0)}var d=this;d.render=c,$.call(d,a,b,"year");var e=d.opt,f=d.renderYear,h=b.formatDate}function $(b,c,d){function e(a,b){f(),g();var c=!ea;c||(Na(),ea.remove());var d=parseInt(a,10);h(d,b),j(),La("debug")&&k(),R()}function f(){za=La("firstDay")||0,Aa=La("firstMonth")||0,Ba=La("lastMonth")||Aa+12,Ca=La("hiddenMonths")||[],Ha=La("yearCellMinH")||20,Ga=La("columnFormat")||"MMMM",Ia=La("weekNumbers"),Ja=La("weekNumberTitle"),Ka="iso"!=La("weekNumberCalculation")?"w":"W",Da=La("weekends")?0:1,ra=La("isRTL"),Fa=La("theme")?"ui":"fc",oa=Da?5:7,ra?(wa=-1,ya=oa-1):(wa=1,ya=0)}function g(){var a=m(aa.start),b=m(aa.end);C(a),i(b,14),C(b),aa.skipHiddenDays(b,-1,!0),aa.visStart=a,aa.visEnd=b}function h(d,e){var f,g,h,j,k,l,n,o,p,r,s=Fa+"-widget-header",t=Fa+"-widget-content",u=0,v=m(aa.start),w=v.getFullYear(),x=Ba-Aa;ma=0;var y=[];for(l=0;7>l;l++)v.setFullYear(2013,11,1+l,12),y[l]=Sa(v,"ddd");for(v=m(aa.start),f='<table class="fc-year-main-table fc-border-separate" style="width:100%;"><tr>',f+='<td class="fc-year-month-border fc-first"></td>',n=0,l=Aa;Ba>l;l++){var z=-1!=a.inArray(l,Ca),A=z?"display:none;":"";for(v.setFullYear(w,l,1,12),o=v.getFullYear(),p=Sa(v,"MMMM"),Aa+x>12&&(p=p+" "+o),C(v),n%d===0&&n>0&&!z&&(u++,f+='<td class="fc-year-month-border fc-last"></td></tr><tr><td class="fc-year-month-border fc-first"></td>'),d>n%d&&n%d>0&&!z&&(f+='<td class="fc-year-month-separator"></td>'),f+='<td class="fc-year-monthly-td" style="'+A+'">',
f+='<table class="fc-border-separate fc-year-month" style="width:100%;" cellspacing="0"><thead><tr><td colspan="7" class="fc-year-monthly-header" /><div class="fc-year-monthly-name'+(0===u?" fc-first":"")+'"><a data-year="'+o+'" data-month="'+l%12+'" href="#">'+O(p)+"</a></div></td></tr><tr>",Ia&&(f+="<th class='fc-week-number "+s+"'>"+O(Ja)+"</th>"),j=za;za+7>j;j++)(!Da||j%7!==0&&j%7!==6)&&(f+='<th class="fc-year-weekly-head fc-'+Ea[j%7]+" "+s+'" width="'+(100/oa|0)+'%">'+y[j%7]+"</th>");for(f+="</tr></thead><tbody>",Va[l]=0,j=0;6>j;j++)if(Da&&D(v),v.getMonth()!=(l+1)%12||"fixed"==La("weekMode")){for(Va[l]++,ma++,f+='<tr class="fc-week'+j+'">',Ia&&(f+="<td class='fc-week-number "+t+"'><div>"+O(Sa(v,Ka))+"</div></td>"),k=0;oa>k;k++)r=v.getMonth()==l%12?Sa(v,"-yyyy-MM-dd"):"",f+='<td class="'+t+" fc-day fc-"+Ea[v.getDay()]+" fc-day"+r+'"><div>'+(e?'<div class="fc-day-number"/>':"")+'<div class="fc-day-content" style="min-height:'+Ha+'px;"><div style="position:relative;"></div></div></div></td>',i(v,1),Da&&D(v);f+="</tr>"}f+="</tbody></table>",f+='<div class="fc-year-monthly-footer"></div>',f+="</td>",z||n++}f+='<td class="fc-year-month-border fc-last"></td>',f+="</tr></table>",ea=a(f).appendTo(b),g=ea.find("thead"),h=g.find("th.fc-year-weekly-head"),fa=ea.find("table tbody tr"),ha=fa.find("td").not(".fc-year-monthly-td"),ga=ea.find("table"),ga.find("tbody .fc-week0").addClass("fc-first"),ga.find("tbody > tr:last").addClass("fc-last"),ia=ga.find("tbody .fc-week0 .fc-day-content div"),Q(g.add(g.find("tr"))),Q(fa),ea.find(".fc-year-monthly-name a").click(function(){c.changeView("month"),c.gotoDate(a(this).attr("data-year"),a(this).attr("data-month"),15)}),q(ha),ja=a('<div style="position:absolute;z-index:8;top:0;left:0;"/>').appendTo(b)}function j(){var b=l(new Date),c=m(aa.start),d=c.getFullYear();ga.each(function(e,f){var g=0,h=e+Aa;c.setFullYear(d,h,1,12),C(c),Ua[h]=[0,0,-1,-1],Ua[h+1]=[0,0,-1,-1],a(f).find("tbody > tr").each(function(d,e){a(e).find("td").not(".fc-week-number").each(function(d,e){var f=a(e);J(c,h)?(Ua[h][2]<0&&(Ua[h][2]=c.getDate()-1),g=c.getDate()):(f.addClass("fc-other-month"),c.getMonth()==(h+11)%12?Ua[h][0]++:Ua[h][1]++),f.addClass(+c==+b?Fa+"-state-highlight fc-today":+b>+c?"fc-past":"fc-future");var j=c.getDate();f.find("div.fc-day-number").text(j),i(c,1),Da&&D(c)})});var j=I(aa.start.getFullYear(),h+1)-g;Ua[h][3]=j}),fa.filter(".fc-year-have-event").removeClass("fc-year-have-event")}function k(){var b=(l(new Date),m(aa.start)),c=b.getFullYear();ga.each(function(d,e){var f=d+Aa;b.setFullYear(c,f,1,12),C(b),a(e).find("tbody > tr").each(function(c,d){a(d).find("td").not(".fc-week-number").each(function(c,d){var e=a(d),f=b.getDate(),g=aa.dateToDayOffset(b),h=E(g);f=f+"\n"+h+"-"+g+"/"+G(h),e.find("div.fc-day-number").text(f),i(b,1),Da&&D(b)})})}),fa.filter(".fc-year-have-event").removeClass("fc-year-have-event")}function n(){}function p(a){ka=a,qa.clear()}function q(a){a.click(r).mousedown(Ra)}function r(a){if(!La("selectable")){var b=this.className.match(/fc\-day\-(\d+)\-(\d+)\-(\d+)/);if(null!=b){var c=new Date(b[1],b[2]-1,b[3]);Ma("dayClick",this,c,!0,a)}}}function s(a,b){if(isFinite(a))for(var c=aa.rangeToSegments(a,b),d=0;d<c.length;d++){var e=c[d],f=Ta[e.gridOffset],g=L(e.row);q(t(f,g,e.leftCol,g,e.rightCol))}}function t(a,c,d,e,f){var g=a.rect(c,d,e,f,b);return Oa(g,b)}function u(b){return a(ga[b/5|0]).width()}function v(a){return m(a)}function w(a,b){s(a,i(m(b),1))}function x(){Pa()}function y(a,b,c){var d=W(a),e=ha[d.row*oa+d.col];Ma("dayClick",e,a,b,c)}function z(a,b){pa.start(function(a){Pa(),a&&t(a.grid,a.row,a.col,a.row,a.col)},b)}function A(a,b,c){var d=pa.stop();if(Pa(),d){var e=aa.cellToCellOffset(d),f=aa.cellOffsetToDayOffset(e),g=aa.dayOffsetToDate(f);Ma("drop",a,g,!0,b,c)}}function B(a){return Va[a]*(Da?5:7)}function C(a){for(;a.getDay()!=za;)i(a,-1);Da&&D(a)}function D(a,b,c){for(b=b||1;!a.getDay()||c&&1==a.getDay()||!c&&6==a.getDay();)i(a,b);return a}function E(a){var b,c,d=0,e=a-Ua[Aa][0];if(a<Ua[Aa][0])return ca(a);for(b=Aa;Ba>b;b++){var f=I(aa.start.getFullYear(),b+1),g=new Date(aa.start.getFullYear(),b,1,12,0);if(f>e||b==Ba-1){for(d+=Ua[b][0],c=0;e>c;c++)Da&&Qa(g)||(d+=1),i(g,1);return d}e-=f,d+=B(b)}}function F(a,b,c){var d=ra?-1:1,e=ra?oa-1:0;"object"==typeof a&&(c=a.grid.offset,b=a.col,a=a.row);for(var f=0,g=0;(c||0)>g;g++)f+=B(g+Aa);return f+=a*oa+(b*d+e)}function G(a){var b=a,c=Ua[Aa][0];if(c>a)return ba(a);for(var d=0,e=Aa;Ba>e;e++){var f=I(aa.start.getFullYear(),e+1),g=B(e);if(g>b){b-=Ua[e][0],b+=Ua[e][2];for(var h=new Date(aa.start.getFullYear(),e,1,12);b>0||Da&&Qa(h);)Da&&Qa(h)||(b-=1),i(h,1),c+=1;return c}d+=f,b-=g,c+=f}}function H(b,c){var d=[],e=m(c);if(i(e,-1),e<aa.visStart||b>aa.visEnd)return d;var f=aa.dateToDayOffset(b),g=aa.dateToDayOffset(c);Da&&Qa(e)&&(D(e,-1),i(e,1),g=aa.dateToDayOffset(e));for(var h,j=aa.dayOffsetToCellOffset(f),k=aa.dayOffsetToCellOffset(g-1),l=!1,n=0;ma>n;n++){var o=n*oa,p=o+oa-1,q=Math.max(j,o),r=Math.min(k,p);if(r>=q){var s=aa.rowToGridOffset(n),t=L(n),u=q-j,v=!1;!t&&d.length&&u>=0&&14>=u&&Ua[s+Aa][0]>1&&(q=Math.min(j,o));for(var w=aa.cellOffsetToCell(q),x=aa.cellOffsetToCell(r),y=[w.col,x.col].sort(),z=aa.cellOffsetToDayOffset(r);z>=g;)if(y[1]--,z--,y[1]<y[0]){v=!0;break}h=aa.cellOffsetToDayOffset(q)==f,l=z+1==g,-1!=a.inArray(Aa+s,Ca)&&(v=!0),!v&&s>=0&&d.push({gridOffset:s,row:n,leftCol:y[0],rightCol:y[1],isStart:h,isEnd:l})}}return d}function I(a,b){return new Date(a,b,0).getDate()}function J(a,b){var c=a.getFullYear()-aa.start.getFullYear();return a.getMonth()==b-12*c}function K(a){for(var b=0,c=-1,d=Aa;Ba>d;d++)if(b+=Va[d],b>a){c=d-Aa;break}return c}function L(a){for(var b=0,c=-1,d=Aa;Ba>d;d++)if(b+=Va[d],b>a){c=a-(b-Va[d]);break}return c}function M(a){return m(a.start)}function N(b){return a(ga[b])}function R(){for(var b=[],c=Aa;Ba>c;c++)b.push(c);Ta=[],a.each(b,function(b){var c=new ua(function(c,d){var e,f,g,h=N(b),i=h.find("thead"),j=i.find("th.fc-year-weekly-head"),k=h.find("tbody tr");j.each(function(b,c){e=a(c),f=e.offset().left,g=[f,f+e.outerWidth()],d[b]=g}),k.each(function(b,d){ma>b&&(e=a(d),f=e.offset().top,g=[f,f+e.outerHeight()],c[b]=g)})});c.offset=b,Ta.push(c)}),aa.refreshCoordGrids=!1,pa=new va(Ta)}function S(a,b){var c=N(b);return qa.left(a)+c.position().left}function T(a,b){var c=N(b);return qa.right(a)+c.position().left}function U(a,b){return S(a,b)}function V(a,b){return T(a,b)}function W(a){return{row:Math.floor(o(a,aa.visStart)/7),col:X(a.getDay())}}function X(a){return(a-Math.max(za,Da)+oa)%oa*wa+ya}function Z(a){return fa.eq(a)}function $(){return{left:0,right:ka}}function _(a){var b=c.getView().name;if(da(a),Aa>0&&"year"==b&&a!=b){var d=l(new Date);c.gotoDate(d)}}var aa=this;aa.renderYear=e,aa.setHeight=n,aa.setWidth=p,aa.renderDayOverlay=s,aa.defaultSelectionEnd=v,aa.renderSelection=w,aa.clearSelection=x,aa.reportDayClick=y,aa.defaultEventEnd=M,aa.getHoverListener=function(){return pa},aa.colContentLeft=S,aa.colContentRight=T,aa.colLeft=U,aa.colRight=V,aa.dayOfWeekCol=X,aa.dateCell=W,aa.allDayRow=Z,aa.allDayBounds=$,aa.getIsCellAllDay=function(){return!0},aa.getRowCnt=function(){return ma},aa.getColCnt=function(){return oa},aa.getColWidth=function(){return la},aa.getBodyRows=function(){return fa},aa.getDaySegmentContainer=function(){return ja},aa.getRowMaxWidth=u,na.call(aa,b,c,d),ta.call(aa),sa.call(aa),aa.rangeToSegments=H,Y.call(aa),aa.rowToGridOffset=K,aa.cellToCellOffset=F,aa.dragStart=z,aa.dragStop=A;var ba=aa.cellOffsetToDayOffset;aa.cellOffsetToDayOffset=G;var ca=aa.dayOffsetToCellOffset;aa.dayOffsetToCellOffset=E;var da=c.changeView;c.changeView=_;var ea,fa,ga,ha,ia,ja,ka,la,ma,oa,pa,qa,ra,wa,ya,za,Aa,Ba,Ca,Da,Fa,Ga,Ha,Ia,Ja,Ka,La=aa.opt,Ma=aa.trigger,Na=aa.clearEvents,Oa=aa.renderOverlay,Pa=aa.clearOverlays,Qa=aa.isHiddenDay,Ra=aa.daySelectionMousedown,Sa=c.formatDate,Ta=(aa.cellToDate,[]),Ua=[],Va=[];P(b.addClass("fc-grid")),qa=new xa(function(a){return ia.eq(a)})}function _(a,b){function c(a,b){b&&i(a,7*b);var c=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),k=i(m(c),7),l=m(c);g(l);var n=m(k);g(n,-1,!0);var o=h();d.title=j(l,i(m(n),-1),e("titleFormat")),d.start=c,d.end=k,d.visStart=l,d.visEnd=n,f(o)}var d=this;d.render=c,ba.call(d,a,b,"agendaWeek");var e=d.opt,f=d.renderAgenda,g=d.skipHiddenDays,h=d.getCellsPerWeek,j=b.formatDates}function aa(a,b){function c(a,b){b&&i(a,b),g(a,0>b?-1:1);var c=m(a,!0),j=i(m(c),1);d.title=h(a,e("titleFormat")),d.start=d.visStart=c,d.end=d.visEnd=j,f(1)}var d=this;d.render=c,ba.call(d,a,b,"agendaDay");var e=d.opt,f=d.renderAgenda,g=d.skipHiddenDays,h=b.formatDate}function ba(c,d,e){function f(a){Ia=a,g(),_?j():h()}function g(){Oa=Wa("theme")?"ui":"fc",Pa=Wa("isRTL"),Qa=s(Wa("minTime")),Ra=s(Wa("maxTime")),Sa=Wa("columnFormat"),Ta=Wa("weekNumbers"),Ua=Wa("weekNumberTitle"),Va="iso"!=Wa("weekNumberCalculation")?"w":"W",Fa=Wa("snapMinutes")||Wa("slotMinutes")}function h(){var b,d,e,f,g,h=Oa+"-widget-header",i=Oa+"-widget-content",l=Wa("slotMinutes")%15==0;for(j(),ja=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),Wa("allDaySlot")?(ka=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ja),b="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+Wa("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>",la=a(b).appendTo(ja),ma=la.find("tr"),w(ma.find("td")),ja.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")):ka=a([]),oa=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ja),pa=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(oa),qa=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(pa),b="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",d=n(),f=k(m(d),Ra),k(d,Qa),Ja=0,e=0;f>d;e++)g=d.getMinutes(),b+="<tr class='fc-slot"+e+" "+(g?"fc-minor":"")+"'><th class='fc-agenda-axis "+h+"'>"+(l&&g?"&nbsp;":fb(d,Wa("axisFormat")))+"</th><td class='"+i+"'><div style='position:relative'>&nbsp;</div></td></tr>",k(d,Wa("slotMinutes")),Ja++;b+="</tbody></table>",ra=a(b).appendTo(pa),x(ra.find("td"))}function j(){var b=o();_&&_.remove(),_=a(b).appendTo(c),aa=_.find("thead"),ba=aa.find("th").slice(1,-1),da=_.find("tbody"),ea=da.find("td").slice(0,-1),fa=ea.find("> div"),ga=ea.find(".fc-day-content > div"),ha=ea.eq(0),ia=fa.eq(0),Q(aa.add(aa.find("tr"))),Q(da.add(da.find("tr")))}function o(){var a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+p()+q()+"</table>";return a}function p(){var a,b,c,d=Oa+"-widget-header",e="";for(e+="<thead><tr>",Ta?(a=cb(0,0),b=fb(a,Va),Pa?b+=Ua:b=Ua+b,e+="<th class='fc-agenda-axis fc-week-number "+d+"'>"+O(b)+"</th>"):e+="<th class='fc-agenda-axis "+d+"'>&nbsp;</th>",c=0;Ia>c;c++)a=cb(0,c),e+="<th class='fc-"+Ea[a.getDay()]+" fc-col"+c+" "+d+"'>"+O(fb(a,Sa))+"</th>";return e+="<th class='fc-agenda-gutter "+d+"'>&nbsp;</th></tr></thead>"}function q(){var a,b,c,d,e,f=Oa+"-widget-header",g=Oa+"-widget-content",h=l(new Date),i="";for(i+="<tbody><tr><th class='fc-agenda-axis "+f+"'>&nbsp;</th>",c="",b=0;Ia>b;b++)a=cb(0,b),e=["fc-col"+b,"fc-"+Ea[a.getDay()],g],+a==+h?e.push(Oa+"-state-highlight","fc-today"):e.push(h>a?"fc-past":"fc-future"),d="<td class='"+e.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",c+=d;return i+=c,i+="<td class='fc-agenda-gutter "+g+"'>&nbsp;</td></tr></tbody>"}function r(a){a===b&&(a=za),za=a,gb={};var c=da.position().top,d=oa.position().top,e=Math.min(a-c,ra.height()+d+1);ia.height(e-F(ha)),ja.css("top",c),oa.height(e-d-1),Da=ra.find("tr:first").height()+1,Ga=Wa("slotMinutes")/Fa,Ha=Da/Ga}function t(b){ya=b,Ma.clear(),Na.clear();var c=aa.find("th:first");la&&(c=c.add(la.find("th:first"))),c=c.add(ra.find("th:first")),Aa=0,z(c.width("").each(function(b,c){Aa=Math.max(Aa,a(c).outerWidth())}),Aa);var d=_.find(".fc-agenda-gutter");la&&(d=d.add(la.find("th.fc-agenda-gutter")));var e=oa[0].clientWidth;Ca=oa.width()-e,Ca?(z(d,Ca),d.show().prev().removeClass("fc-last")):d.hide().prev().addClass("fc-last"),Ba=Math.floor((e-Aa)/Ia),z(ba.slice(0,-1),Ba)}function u(){function a(){oa.scrollTop(d)}var b=n(),c=m(b);c.setHours(Wa("firstHour"));var d=M(b,c)+1;a(),setTimeout(a,0)}function v(){u()}function w(a){a.click(y).mousedown(ab)}function x(a){a.click(y).mousedown(W)}function y(a){if(!Wa("selectable")){var b=Math.min(Ia-1,Math.floor((a.pageX-_.offset().left-Aa)/Ba)),c=cb(0,b),d=this.parentNode.className.match(/fc-slot(\d+)/);if(d){var e=parseInt(d[1])*Wa("slotMinutes"),f=Math.floor(e/60);c.setHours(f),c.setMinutes(e%60+Qa),Xa("dayClick",ea[b],c,!1,a)}else Xa("dayClick",ea[b],c,!0,a)}}function B(a,b,c){c&&Ka.build();for(var d=eb(a,b),e=0;e<d.length;e++){var f=d[e];w(C(f.row,f.leftCol,f.row,f.rightCol))}}function C(a,b,c,d){var e=Ka.rect(a,b,c,d,ja);return Ya(e,ja)}function D(a,b){for(var c=0;Ia>c;c++){var d=cb(0,c),e=i(m(d),1),f=new Date(Math.max(d,a)),g=new Date(Math.min(e,b));if(g>f){var h=Ka.rect(0,c,0,c,pa),j=M(d,f),k=M(d,g);h.top=j,h.height=k-j,x(Ya(h,pa))}}}function E(a){return Ma.left(a)}function G(a){return Na.left(a)}function H(a){return Ma.right(a)}function I(a){return Na.right(a)}function J(a){return Wa("allDaySlot")&&!a.row}function L(a){var b=cb(0,a.col),c=a.row;return Wa("allDaySlot")&&c--,c>=0&&k(b,Qa+c*Fa),b}function M(a,c){if(a=m(a,!0),c<k(m(a),Qa))return 0;if(c>=k(m(a),Ra))return ra.height();var d=Wa("slotMinutes"),e=60*c.getHours()+c.getMinutes()-Qa,f=Math.floor(e/d),g=gb[f];return g===b&&(g=gb[f]=ra.find("tr").eq(f).find("td div")[0].offsetTop),Math.max(0,Math.round(g-1+Da*(e%d/d)))}function N(){return ma}function R(a){var b=m(a.start);return a.allDay?b:k(b,Wa("defaultEventMinutes"))}function S(a,b){return b?m(a):k(m(a),Wa("slotMinutes"))}function T(a,b,c){c?Wa("allDaySlot")&&B(a,i(m(b),1),!0):U(a,b)}function U(b,c){var d=Wa("selectHelper");if(Ka.build(),d){var e=db(b).col;if(e>=0&&Ia>e){var f=Ka.rect(0,e,0,e,pa),g=M(b,b),h=M(b,c);if(h>g){if(f.top=g,f.height=h-g,f.left+=2,f.width-=5,a.isFunction(d)){var i=d(b,c);i&&(f.position="absolute",wa=a(i).css(f).appendTo(pa))}else f.isStart=!0,f.isEnd=!0,wa=a(bb({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},f)),wa.css("opacity",Wa("dragOpacity"));wa&&(x(wa),pa.append(wa),z(wa,f.width,!0),A(wa,f.height,!0))}}}else D(b,c)}function V(){Za(),wa&&(wa.remove(),wa=null)}function W(b){if(1==b.which&&Wa("selectable")){_a(b);var c,d=!1;La.start(function(a,b){if(V(),a&&a.col==b.col&&!J(a)){var e=L(b),f=L(a);c=[e,k(m(e),Fa),f,k(m(f),Fa)].sort(K);var g=Wa("minDate"),h=Wa("maxDate");if(g&&c[0]<g||h&&c[1]>=h)return void(d=!0);U(c[0],c[3])}else c=null},b),a(document).one("mouseup",function(a){La.stop(),!d&&c&&(+c[0]==+c[1]&&X(c[0],!1,a),$a(c[0],c[3],!1,a))})}}function X(a,b,c){Xa("dayClick",ea[db(a).col],a,b,c)}function Y(a,b){La.start(function(a){if(Za(),a)if(J(a))C(a.row,a.col,a.row,a.col);else{var b=L(a),c=k(m(b),Wa("defaultEventMinutes"));D(b,c)}},b)}function Z(a,b,c){var d=La.stop();Za(),d&&Xa("drop",a,L(d),J(d),b,c)}var $=this;$.renderAgenda=f,$.setWidth=t,$.setHeight=r,$.afterRender=v,$.defaultEventEnd=R,$.timePosition=M,$.getIsCellAllDay=J,$.allDayRow=N,$.getCoordinateGrid=function(){return Ka},$.getHoverListener=function(){return La},$.colLeft=E,$.colRight=H,$.colContentLeft=G,$.colContentRight=I,$.getDaySegmentContainer=function(){return ka},$.getSlotSegmentContainer=function(){return qa},$.getMinMinute=function(){return Qa},$.getMaxMinute=function(){return Ra},$.getSlotContainer=function(){return pa},$.getRowCnt=function(){return 1},$.getColCnt=function(){return Ia},$.getColWidth=function(){return Ba},$.getSnapHeight=function(){return Ha},$.getSnapMinutes=function(){return Fa},$.defaultSelectionEnd=S,$.renderDayOverlay=B,$.renderSelection=T,$.clearSelection=V,$.reportDayClick=X,$.dragStart=Y,$.dragStop=Z,na.call($,c,d,e),ta.call($),sa.call($),ca.call($);var _,aa,ba,da,ea,fa,ga,ha,ia,ja,ka,la,ma,oa,pa,qa,ra,wa,ya,za,Aa,Ba,Ca,Da,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa=$.opt,Xa=$.trigger,Ya=$.renderOverlay,Za=$.clearOverlays,$a=$.reportSelection,_a=$.unselect,ab=$.daySelectionMousedown,bb=$.slotSegHtml,cb=$.cellToDate,db=$.dateToCell,eb=$.rangeToSegments,fb=d.formatDate,gb={};P(c.addClass("fc-agenda")),Ka=new ua(function(b,c){function d(a){return Math.max(i,Math.min(j,a))}var e,f,g;ba.each(function(b,d){e=a(d),f=e.offset().left,b&&(g[1]=f),g=[f],c[b]=g}),g[1]=f+e.outerWidth(),Wa("allDaySlot")&&(e=ma,f=e.offset().top,b[0]=[f,f+e.outerHeight()]);for(var h=pa.offset().top,i=oa.offset().top,j=i+oa.outerHeight(),k=0;Ja*Ga>k;k++)b.push([d(h+Ha*k),d(h+Ha*(k+1))])}),La=new va(Ka),Ma=new xa(function(a){return fa.eq(a)}),Na=new xa(function(a){return ga.eq(a)})}function ca(){function c(a,b){var c,d=a.length,f=[],g=[];for(c=0;d>c;c++)a[c].allDay?f.push(a[c]):g.push(a[c]);s("allDaySlot")&&(aa(f,b),C()),h(e(g),b)}function d(){D().empty(),E().empty()}function e(b){var c,d,e,h,i,j=P(),l=I(),n=H(),o=a.map(b,g),p=[];for(d=0;j>d;d++)for(c=N(0,d),k(c,l),i=f(b,o,c,k(m(c),n-l)),i=da(i),e=0;e<i.length;e++)h=i[e],h.col=d,p.push(h);return p}function f(a,b,c,d){var e,f,g,h,i,j,k,l,n=[],o=a.length;for(e=0;o>e;e++)f=a[e],g=f.start,h=b[e],h>c&&d>g&&(c>g?(i=m(c),k=!1):(i=g,k=!0),h>d?(j=m(d),l=!1):(j=h,l=!0),n.push({event:f,start:i,end:j,isStart:k,isEnd:l}));return n.sort(ma)}function g(a){return a.end?m(a.end):k(m(a.start),s("defaultEventMinutes"))}function h(c,d){var e,f,g,h,i,k,m,n,o,p,q,r,u,v,w,x,z=c.length,A="",C=E(),D=s("isRTL");for(e=0;z>e;e++)f=c[e],g=f.event,h=J(f.start,f.start),i=J(f.start,f.end),k=L(f.col),m=M(f.col),n=m-k,m-=.025*n,n=m-k,o=n*(f.forwardCoord-f.backwardCoord),s("slotEventOverlap")&&(o=Math.max(2*(o-10),o)),D?(q=m-f.backwardCoord*n,p=q-o):(p=k+f.backwardCoord*n,q=p+o),p=Math.max(p,k),q=Math.min(q,m),o=q-p,f.top=h,f.left=p,f.outerWidth=o,f.outerHeight=i-h,A+=j(g,f);for(C[0].innerHTML=A,r=C.children(),e=0;z>e;e++)f=c[e],g=f.event,u=a(r[e]),v=t("eventRender",g,g,u),v===!1?u.remove():(v&&v!==!0&&(u.remove(),u=a(v).css({position:"absolute",top:f.top,left:f.left}).appendTo(C)),f.element=u,g._id===d?l(g,u,f):u[0]._fci=e,V(g,u));for(y(C,c,l),e=0;z>e;e++)f=c[e],(u=f.element)&&(f.vsides=F(u,!0),f.hsides=B(u,!0),w=u.find(".fc-event-title"),w.length&&(f.contentTop=w[0].offsetTop));for(e=0;z>e;e++)f=c[e],(u=f.element)&&(u[0].style.width=Math.max(0,f.outerWidth-f.hsides)+"px",x=Math.max(0,f.outerHeight-f.vsides),u[0].style.height=x+"px",g=f.event,f.contentTop!==b&&x-f.contentTop<10&&(u.find("div.fc-event-time").text(ca(g.start,s("timeFormat"))+" - "+g.title),u.find("div.fc-event-title").remove()),t("eventAfterRender",g,g,u))}function j(a,b){var c="<",d=a.url,e=R(a,s),f=["fc-event","fc-event-vert"];return u(a)&&f.push("fc-event-draggable"),b.isStart&&f.push("fc-event-start"),b.isEnd&&f.push("fc-event-end"),f=f.concat(a.className),a.source&&(f=f.concat(a.source.className||[])),c+=d?"a href='"+O(a.url)+"'":"div",c+=" class='"+f.join(" ")+"' style='position:absolute;top:"+b.top+"px;left:"+b.left+"px;"+e+"'><div class='fc-event-inner'><div class='fc-event-time'>"+O(ea(a.start,a.end,s("timeFormat")))+"</div><div class='fc-event-title'>"+O(a.title||"")+"</div></div><div class='fc-event-bg'></div>",b.isEnd&&v(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(d?"a":"div")+">"}function l(a,b,c){var d=b.find("div.fc-event-time");u(a)&&p(a,b,d),c.isEnd&&v(a)&&q(a,b,d),z(a,b)}function n(a,b,c){function d(){j||(b.width(e).height("").draggable("option","grid",null),j=!0)}var e,f,g,h=c.isStart,j=!0,k=G(),l=Q(),n=S(),p=T(),q=I();b.draggable({opacity:s("dragOpacity","month"),revertDuration:s("dragRevertDuration"),start:function(c,q){t("eventDragStart",b,a,c,q),X(a,b),e=b.width(),k.start(function(c,e){if(_(),c){f=!1;var k=N(0,e.col),q=N(0,c.col);g=o(q,k),c.row?h?j&&(b.width(l-10),A(b,n*Math.round((a.end?(a.end-a.start)/Ha:s("defaultEventMinutes"))/p)),b.draggable("option","grid",[l,1]),j=!1):f=!0:($(i(m(a.start),g),i(w(a),g)),d()),f=f||j&&!g}else d(),f=!0;b.draggable("option","revert",f)},c,"drag")},stop:function(c,e){if(k.stop(),_(),t("eventDragStop",b,a,c,e),f)d(),b.css("filter",""),W(a,b);else{var h=0;j||(h=Math.round((b.offset().top-U().offset().top)/n)*p+q-(60*a.start.getHours()+a.start.getMinutes())),Y(this,a,g,h,j,c,e)}}})}function p(a,b,c){function d(){_(),h&&(l?(c.hide(),b.draggable("option","grid",null),$(i(m(a.start),u),i(w(a),u))):(e(v),c.css("display",""),b.draggable("option","grid",[A,B])))}function e(b){var d,e=k(m(a.start),b);a.end&&(d=k(m(a.end),b)),c.text(ea(e,d,s("timeFormat")))}var f,g,h,j,l,n,p,q,u,v,x,y=r.getCoordinateGrid(),z=P(),A=Q(),B=S(),C=T();b.draggable({scroll:!1,grid:[A,B],axis:1==z?"y":!1,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(c,d){t("eventDragStart",b,a,c,d),X(a,b),y.build(),f=b.position(),g=y.cell(c.pageX,c.pageY),h=j=!0,l=n=K(g),p=q=0,u=0,v=x=0},drag:function(a,c){var e=y.cell(a.pageX,a.pageY);if(h=!!e){if(l=K(e),p=Math.round((c.position.left-f.left)/A),p!=q){var i=N(0,g.col),k=g.col+p;k=Math.max(0,k),k=Math.min(z-1,k);var m=N(0,k);u=o(m,i)}l||(v=Math.round((c.position.top-f.top)/B)*C)}(h!=j||l!=n||p!=q||v!=x)&&(d(),j=h,n=l,q=p,x=v),b.draggable("option","revert",!h)},stop:function(c,e){_(),t("eventDragStop",b,a,c,e),h&&(l||u||v)?Y(this,a,u,l?0:v,l,c,e):(h=!0,l=!1,p=0,u=0,v=0,d(),b.css("filter",""),b.css(f),W(a,b))}})}function q(a,b,c){var d,e,f=S(),g=T();b.resizable({handles:{s:".ui-resizable-handle"},grid:f,start:function(c,f){d=e=0,X(a,b),t("eventResizeStart",this,a,c,f)},resize:function(h,i){d=Math.round((Math.max(f,b.height())-i.originalSize.height)/f),d!=e&&(c.text(ea(a.start,d||a.end?k(x(a),g*d):null,s("timeFormat"))),e=d)},stop:function(c,e){t("eventResizeStop",this,a,c,e),d?Z(this,a,0,g*d,c,e):W(a,b)}})}var r=this;r.renderEvents=c,r.clearEvents=d,r.slotSegHtml=j,oa.call(r);var s=r.opt,t=r.trigger,u=r.isEventDraggable,v=r.isEventResizable,x=r.eventEnd,z=r.eventElementHandlers,C=r.setHeight,D=r.getDaySegmentContainer,E=r.getSlotSegmentContainer,G=r.getHoverListener,H=r.getMaxMinute,I=r.getMinMinute,J=r.timePosition,K=r.getIsCellAllDay,L=r.colContentLeft,M=r.colContentRight,N=r.cellToDate,P=r.getColCnt,Q=r.getColWidth,S=r.getSnapHeight,T=r.getSnapMinutes,U=r.getSlotContainer,V=r.reportEventElement,W=r.showEvents,X=r.hideEvents,Y=r.eventDrop,Z=r.eventResize,$=r.renderDayOverlay,_=r.clearOverlays,aa=r.renderDayEvents,ba=r.calendar,ca=ba.formatDate,ea=ba.formatDates;r.draggableDayEvent=n}function da(a){var b,c=ea(a),d=c[0];if(fa(c),d){for(b=0;b<d.length;b++)ga(d[b]);for(b=0;b<d.length;b++)ha(d[b],0,0)}return ia(c)}function ea(a){var b,c,d,e=[];for(b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&ja(c,e[d]).length;d++);(e[d]||(e[d]=[])).push(c)}return e}function fa(a){var b,c,d,e,f;for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],f=b+1;f<a.length;f++)ja(e,a[f],e.forwardSegs)}function ga(a){var c,d,e=a.forwardSegs,f=0;if(a.forwardPressure===b){for(c=0;c<e.length;c++)d=e[c],ga(d),f=Math.max(f,1+d.forwardPressure);a.forwardPressure=f}}function ha(a,c,d){var e,f=a.forwardSegs;if(a.forwardCoord===b)for(f.length?(f.sort(la),ha(f[0],c+1,d),a.forwardCoord=f[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-d)/(c+1),e=0;e<f.length;e++)ha(f[e],0,a.forwardCoord)}function ia(a){var b,c,d,e=[];for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)e.push(c[d]);return e}function ja(a,b,c){c=c||[];for(var d=0;d<b.length;d++)ka(a,b[d])&&c.push(b[d]);return c}function ka(a,b){return a.end>b.start&&a.start<b.end}function la(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||ma(a,b)}function ma(a,b){return a.start-b.start||b.end-b.start-(a.end-a.start)||(a.event.title||"").localeCompare(b.event.title)}function na(c,d,e){function f(b,c){var d=W[b];return a.isPlainObject(d)?N(d,c||e):d}function g(a,b){return d.trigger.apply(d,[a,b||O].concat(Array.prototype.slice.call(arguments,2),[O]))}function h(a){var b=a.source||{};return T(a.startEditable,b.startEditable,f("eventStartEditable"),a.editable,b.editable,f("editable"))&&!f("disableDragging")}function j(a){var b=a.source||{};return T(a.durationEditable,b.durationEditable,f("eventDurationEditable"),a.editable,b.editable,f("editable"))&&!f("disableResizing")}function l(a){S={};var b,c,d=a.length;for(b=0;d>b;b++)c=a[b],S[c._id]?S[c._id].push(c):S[c._id]=[c]}function n(){S={},U={},V=[]}function p(a){return a.end?m(a.end):P(a)}function q(a,b){V.push({event:a,element:b}),U[a._id]?U[a._id].push(b):U[a._id]=[b]}function r(){a.each(V,function(a,b){O.trigger("eventDestroy",b.event,b.event,b.element)})}function s(a,b){b.click(function(c){return b.hasClass("ui-draggable-dragging")||b.hasClass("ui-resizable-resizing")?void 0:g("eventClick",this,a,c)}).hover(function(b){g("eventMouseover",this,a,b)},function(b){g("eventMouseout",this,a,b)})}function t(a,b){v(a,b,"show")}function u(a,b){v(a,b,"hide")}function v(a,b,c){var d,e=U[a._id],f=e.length;for(d=0;f>d;d++)b&&e[d][0]==b[0]||e[d][c]()}function w(a,b,c,d,e,f,h){var i=b.allDay,j=b._id;y(S[j],c,d,e),g("eventDrop",a,b,c,d,e,function(){y(S[j],-c,-d,i),R(j)},f,h),R(j)}function x(a,b,c,d,e,f){var h=b._id;z(S[h],c,d),g("eventResize",a,b,c,d,function(){z(S[h],-c,-d),R(h)},e,f),R(h)}function y(a,c,d,e){d=d||0;for(var f,g=a.length,h=0;g>h;h++)f=a[h],e!==b&&(f.allDay=e),k(i(f.start,c,!0),d),f.end&&(f.end=k(i(f.end,c,!0),d)),Q(f,W)}function z(a,b,c){c=c||0;for(var d,e=a.length,f=0;e>f;f++)d=a[f],d.end=k(i(p(d),b,!0),c),Q(d,W)}function A(a){return"object"==typeof a&&(a=a.getDay()),Z[a]}function B(){return X}function C(a,b,c){for(b=b||1;Z[(a.getDay()+(c?b:0)+7)%7];)i(a,b)}function D(){var a=O.cellToCellOffset.apply(null,arguments),b=O.cellOffsetToDayOffset(a),c=O.dayOffsetToDate(b);return c}function E(a,b){var c=O.getColCnt(),d=aa?-1:1,e=aa?c-1:0;"object"==typeof a&&(b=a.col,a=a.row);var f=a*c+(b*d+e);return f}function F(a){var b=O.visStart.getDay();return a+=$[b],7*Math.floor(a/X)+_[(a%X+X)%X]-b}function G(a){var b=m(O.visStart);return i(b,a),b}function H(a){var b=O.dateToDayOffset(a),c=O.dayOffsetToCellOffset(b),d=K(c);return d}function I(a){return o(a,O.visStart)}function J(a){var b=O.visStart.getDay();return a+=b,Math.floor(a/7)*X+$[(a%7+7)%7]-$[b]}function K(a){var b=O.getColCnt(),c=aa?-1:1,d=aa?b-1:0,e=Math.floor(a/b),f=(a%b+b)%b*c+d;return{row:e,col:f}}function L(){return 0}function M(a,b){for(var c=O.getRowCnt(),d=O.getColCnt(),e=[],f=O.dateToDayOffset(a),g=O.dateToDayOffset(b),h=O.dayOffsetToCellOffset(f),i=O.dayOffsetToCellOffset(g)-1,j=0;c>j;j++){var k=O.rowToGridOffset(j),l=j*d,m=l+d-1,n=Math.max(h,l),o=Math.min(i,m);if(o>=n){var p=K(n),q=K(o),r=[p.col,q.col].sort(),s=O.cellOffsetToDayOffset(n)==f,t=O.cellOffsetToDayOffset(o)+1==g;e.push({gridOffset:k,row:j,leftCol:r[0],rightCol:r[1],isStart:s,isEnd:t})}}return e}var O=this;O.element=c,O.calendar=d,O.name=e,O.opt=f,O.trigger=g,O.isEventDraggable=h,O.isEventResizable=j,O.setEventData=l,O.clearEventData=n,O.eventEnd=p,O.reportEventElement=q,O.triggerEventDestroy=r,O.eventElementHandlers=s,O.showEvents=t,O.hideEvents=u,O.eventDrop=w,O.eventResize=x,O.rowToGridOffset=L;var P=O.defaultEventEnd,Q=d.normalizeEvent,R=d.reportEventChange,S={},U={},V=[],W=d.options;O.isHiddenDay=A,O.skipHiddenDays=C,O.getCellsPerWeek=B,O.dateToCell=H,O.dateToDayOffset=I,O.dayOffsetToCellOffset=J,O.cellOffsetToCell=K,O.cellToDate=D,O.cellToCellOffset=E,O.cellOffsetToDayOffset=F,O.dayOffsetToDate=G,O.rangeToSegments=M;var X,Y=f("hiddenDays")||[],Z=[],$=[],_=[],aa=f("isRTL");!function(){f("weekends")===!1&&Y.push(0,6);for(var b=0,c=0;7>b;b++)$[b]=c,Z[b]=-1!=a.inArray(b,Y),Z[b]||(_[c]=b,c++);if(X=c,!X)throw"invalid hiddenDays"}()}function oa(){function b(a,b){var c=d(a,!1,!0);qa(c,function(a,b){G(a.event,b)}),t(c,b),qa(c,function(a,b){C("eventAfterRender",a.event,a.event,b)})}function c(a,b,c){var e=d([a],!0,!1),f=[];return qa(e,function(a,d){a.row===b&&d.css("top",c),f.push(d[0])}),f}function d(b,c,d){var f,i,j=X(),m=c?a("<div/>"):j,n=e(b);return g(n),f=h(n),m[0].innerHTML=f,i=m.children(),c&&j.append(i),k(n,i),qa(n,function(a,b){a.hsides=B(b,!0)}),qa(n,function(a,b){b.width(Math.max(0,a.outerWidth-a.hsides))}),qa(n,function(a,b){a.outerHeight=b.outerHeight(!0)}),l(n,d),n}function e(a){for(var b=[],c=0;c<a.length;c++){var d=f(a[c]);b.push.apply(b,d)}return b}function f(a){for(var b=a.start,c=w(a),d=ba(b,c),e=0;e<d.length;e++)d[e].event=a;return d}function g(a){for(var b=A("isRTL"),c=0;c<a.length;c++){var d=a[c],e=(b?d.isEnd:d.isStart)?V:T,f=(b?d.isStart:d.isEnd)?W:U,g=e(d.leftCol,d.gridOffset),h=f(d.rightCol,d.gridOffset);d.left=g,d.outerWidth=h-g}}function h(a){for(var b="",c=0;c<a.length;c++)b+=j(a[c]);return b}function j(a){var b="",c=A("isRTL"),d=a.event,e=d.url,f=["fc-event","fc-event-hori"];D(d)&&f.push("fc-event-draggable"),a.isStart&&f.push("fc-event-start"),a.isEnd&&f.push("fc-event-end"),f=f.concat(d.className),d.source&&(f=f.concat(d.source.className||[]));var g=R(d,A);return b+=e?"<a href='"+O(e)+"'":"<div",b+=" class='"+f.join(" ")+"' style='position:absolute;left:"+a.left+"px;"+g+"'><div class='fc-event-inner'>",!d.allDay&&a.isStart&&(b+="<span class='fc-event-time'>"+O(Y(d.start,d.end,A("timeFormat")))+"</span>"),b+="<span class='fc-event-title'>"+O(d.title||"")+"</span></div>",a.isEnd&&E(d)&&(b+="<div class='ui-resizable-handle ui-resizable-"+(c?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),b+="</"+(e?"a":"div")+">"}function k(b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.event,g=c.eq(d),h=C("eventRender",f,f,g);h===!1?g.remove():(h&&h!==!0&&(h=a(h).css({position:"absolute",left:e.left}),g.replaceWith(h),g=h),e.element=g)}}function l(a,b){var c=n(a),d=s(),e=[];if(b)for(var f=0;f<d.length;f++)d[f].height(c[f]);for(var f=0;f<d.length;f++)e.push(d[f].position().top);qa(a,function(a,b){b.css("top",e[a.row]+a.top)})}function n(a){for(var b=N(),c=Q(),d=[],e=p(a),f=0;b>f;f++){for(var g=e[f],h=[],i=0;c>i;i++)h.push(0);for(var j=0;j<g.length;j++){var k=g[j];k.top=L(h.slice(k.leftCol,k.rightCol+1));for(var i=k.leftCol;i<=k.rightCol;i++)h[i]=k.top+k.outerHeight}d.push(L(h))}return d}function p(a){var b,c,d,e=N(),f=[];for(b=0;b<a.length;b++)c=a[b],d=c.row,c.element&&(f[d]?f[d].push(c):f[d]=[c]);for(d=0;e>d;d++)f[d]=q(f[d]||[]);return f}function q(a){for(var b=[],c=r(a),d=0;d<c.length;d++)b.push.apply(b,c[d]);return b}function r(a){a.sort(ra);for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=0;e<b.length&&pa(d,b[e]);e++);b[e]?b[e].push(d):b[e]=[d]}return b}function s(){var a,b=N(),c=[];for(a=0;b>a;a++)c[a]=S(a).find("div.fc-day-content > div");return c}function t(a,b){var c=X();qa(a,function(a,c,d){var e=a.event;e._id===b?u(e,c,a):c[0]._fci=d}),y(c,a,u)}function u(a,b,c){D(a)&&z.draggableDayEvent(a,b,c),c.isEnd&&E(a)&&z.resizableDayEvent(a,b,c),H(a,b)}function v(a,b){var c,d=aa();b.draggable({delay:50,opacity:A("dragOpacity"),revertDuration:A("dragRevertDuration"),start:function(e,f){C("eventDragStart",b,a,e,f),J(a,b),d.start(function(d,e,f,g){if(b.draggable("option","revert",!d||!f&&!g),$(),d){var h=ca(e),j=ca(d);c=o(j,h),Z(i(m(a.start),c),i(w(a),c))}else c=0},e,"drag")},stop:function(e,f){d.stop(),$(),C("eventDragStop",b,a,e,f),c?K(this,a,c,0,a.allDay,e,f):(b.css("filter",""),I(a,b))}})}function x(b,d,e){var f=A("isRTL"),g=f?"w":"e",h=d.find(".ui-resizable-"+g),j=!1;P(d),d.mousedown(function(a){a.preventDefault()}).click(function(a){j&&(a.preventDefault(),a.stopImmediatePropagation())}),h.mousedown(function(f){function h(c){C("eventResizeStop",this,b,c),a("body").css("cursor",""),m.stop(),$(),k&&M(this,b,k,0,c),setTimeout(function(){j=!1},0)}if(1==f.which){j=!0;var k,l,m=aa(),n=(N(),Q(),d.css("top")),o=a.extend({},b),p=z.dayOffsetToCellOffset(da(b.start));_(),a("body").css("cursor",g+"-resize").one("mouseup",h),C("eventResizeStart",this,b,f),m.start(function(d,f){if(d){var h=z.cellToCellOffset(f),j=z.cellToCellOffset(d);

if(j=Math.max(j,p),k=z.cellOffsetToDayOffset(j)-z.cellOffsetToDayOffset(h)){o.end=i(F(b),k,!0);var m=l;l=c(o,e.row,n),l=a(l),l.find("*").css("cursor",g+"-resize"),m&&m.remove(),J(b)}else l&&(I(b),l.remove(),l=null);$(),Z(b.start,i(w(b),k))}},f)}})}var z=this;z.renderDayEvents=b,z.draggableDayEvent=v,z.resizableDayEvent=x;var A=z.opt,C=z.trigger,D=z.isEventDraggable,E=z.isEventResizable,F=z.eventEnd,G=z.reportEventElement,H=z.eventElementHandlers,I=z.showEvents,J=z.hideEvents,K=z.eventDrop,M=z.eventResize,N=z.getRowCnt,Q=z.getColCnt,S=(z.getColWidth,z.allDayRow),T=z.colLeft,U=z.colRight,V=z.colContentLeft,W=z.colContentRight,X=(z.dateToCell,z.getDaySegmentContainer),Y=z.calendar.formatDates,Z=z.renderDayOverlay,$=z.clearOverlays,_=z.clearSelection;if(z.getRowMaxWidth){z.getRowMaxWidth}{var aa=z.getHoverListener,ba=z.rangeToSegments,ca=z.cellToDate,da=(z.cellToCellOffset,z.cellOffsetToDayOffset,z.dateToDayOffset);z.dayOffsetToCellOffset}}function pa(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0}return!1}function qa(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.element;e&&b(d,e,c)}}function ra(a,b){return b.rightCol-b.leftCol-(a.rightCol-a.leftCol)||b.event.allDay-a.event.allDay||a.event.start-b.event.start||(a.event.title||"").localeCompare(b.event.title)}function sa(){function b(a,b,e){c(),b||(b=i(a,e)),j(a,b,e),d(a,b,e)}function c(a){l&&(l=!1,k(),h("unselect",null,a))}function d(a,b,c,d){l=!0,h("select",null,a,b,c,d)}function e(b){var e=f.cellToDate,h=f.getIsCellAllDay,i=f.getHoverListener(),l=f.reportDayClick,m=!1;if(1==b.which&&g("selectable")){c(b);var n;i.start(function(a,b){if(k(),a&&h(a)){n=[e(b),e(a)].sort(K);var c=g("minDate"),d=g("maxDate");if(c&&n[0]<c||d&&n[1]>=d)return void(m=!0);j(n[0],n[1],!0)}else n=null},b),a(document).one("mouseup",function(a){i.stop(),!m&&n&&(+n[0]==+n[1]&&l(n[0],!0,a),d(n[0],n[1],!0,a))})}}var f=this;f.select=b,f.unselect=c,f.reportSelection=d,f.daySelectionMousedown=e;var g=f.opt,h=f.trigger,i=f.defaultSelectionEnd,j=f.renderSelection,k=f.clearSelection,l=!1;g("selectable")&&g("unselectAuto")&&a(document).mousedown(function(b){var d=g("unselectCancel");d&&a(b.target).parents(d).length||c(b)})}function ta(){function b(b,c){var d=f.shift();return d||(d=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),d[0].parentNode!=c[0]&&d.appendTo(c),e.push(d.css(b).show()),d}function c(){for(var a;a=e.shift();)f.push(a.hide().unbind())}var d=this;d.renderOverlay=b,d.clearOverlays=c;var e=[],f=[]}function ua(a,b){var c,d,e=this;e.build=function(){c=[],d=[],a(c,d)},b&&(e.gridToView=b),e.cell=function(a,b){var f,g=c.length,h=d.length,i=-1,j=-1;for(f=0;g>f;f++)if(b>=c[f][0]&&b<c[f][1]){i=f;break}for(f=0;h>f;f++)if(a>=d[f][0]&&a<d[f][1]){j=f;break}if(i>=0&&j>=0&&e.gridToView){var k=e.gridToView(j,i);j=k[0],i=k[1]}return i>=0&&j>=0?{row:i,col:j,grid:e}:null},e.rect=function(a,b,e,f,g){var h=g.offset();return{top:c[a][0]-h.top,left:d[b][0]-h.left,width:d[f][1]-d[b][0],height:c[e][1]-c[a][0]}}}function va(c){function d(b){wa(b);var c=null;a.each(j,function(a,d){c||(c=d.cell(b.pageX,b.pageY))}),(!c!=!h||c&&(c.row!=h.row||c.col!=h.col))&&(c?(g||(g=c),f(c,g,c.row-g.row,c.col-g.col)):f(c,g),h=c)}var e,f,g,h,i=this,j=[];c.length===b?j.push(c):j=c,i.start=function(b,c,i){f=b,g=h=null,a.each(j,function(a,b){b.build()}),d(c),e=i||"mousemove",a(document).bind(e,d)},i.stop=function(){return a(document).unbind(e,d),h}}function wa(a){a.pageX===b&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function xa(a){function c(b){return e[b]=e[b]||a(b)}var d=this,e={},f={},g={};d.left=function(a){return f[a]=f[a]===b?c(a).position().left:f[a]},d.right=function(a){return g[a]=g[a]===b?d.left(a)+c(a).width():g[a]},d.clear=function(){e={},f={},g={}}}var ya={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",minDate:null,maxDate:null,titleFormat:{year:"yyyy",month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{year:"MMMM",month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesShortest:["S","M","T","W","T","F","S"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",year:"year",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},za={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=a.fullCalendar={version:"1.6.4-yearview"},Ba=Aa.views={};a.fn.fullCalendar=function(c){if("string"==typeof c){var e,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a.data(this,"fullCalendar");if(d&&a.isFunction(d[c])){var g=d[c].apply(d,f);e===b&&(e=g),"destroy"==c&&a.removeData(this,"fullCalendar")}}),e!==b?e:this}c=c||{};var g=c.eventSources||[];return delete c.eventSources,c.events&&(g.push(c.events),delete c.events),c=a.extend(!0,{},ya,c.isRTL||c.isRTL===b&&ya.isRTL?za:{},c),this.each(function(b,e){var f=a(e),h=new d(f,c,g);f.data("fullCalendar",h),h.render()}),this},Aa.sourceNormalizers=[],Aa.sourceFetchers=[];var Ca={dataType:"json",cache:!1},Da=1;Aa.addDays=i,Aa.cloneDate=m,Aa.parseDate=q,Aa.parseISO8601=r,Aa.parseTime=s,Aa.formatDate=t,Aa.formatDates=u;var Ea=["sun","mon","tue","wed","thu","fri","sat"],Fa=864e5,Ga=36e5,Ha=6e4,Ia={s:function(a){return a.getSeconds()},ss:function(a){return M(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return M(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return M(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return M(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return M(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},e:function(a,b){return b.dayNamesShortest[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return M(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},zzzz:function(a){return a.getFullYear()+1},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return t(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){var b=a.getDate();return b>10&&20>b?"th":["st","nd","rd"][b%10-1]||"th"},w:function(a,b){return b.weekNumberCalculation(a)},W:function(a){return v(a)}};Aa.dateFormatters=Ia,Aa.applyAll=S,Ba.month=U,Ba.basicWeek=V,Ba.basicDay=W,c({weekMode:"fixed"}),Ba.year=Z,Ba.agendaWeek=_,Ba.agendaDay=aa,c({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),$(function(){$(".cl-vnavigation li ul").each(function(){$(this).parent().addClass("parent")}),$(".cl-vnavigation li ul li.active").each(function(){$(this).parent().css({display:"block"}),$(this).parent().parent().addClass("open")}),$(".cl-vnavigation").delegate(".parent > a","click",function(a){$(".cl-vnavigation .parent.open > ul").not($(this).parent().find("ul")).slideUp(200,"swing",function(){$(this).parent().removeClass("open")});var b=$(this).parent().find("ul");b.slideToggle(200,"swing",function(){var a=$(this).parent();a.hasClass("open")?a.removeClass("open"):a.addClass("open")}),a.preventDefault()}),$(".cl-sidebar").on("mouseleave",function(){$(this).find(".parent.open").find(".sub-menu").stop().slideUp(200,"swing",function(){$(this).parent().removeClass("open")})}),$(".cl-toggle").click(function(a){var b=$(".cl-vnavigation");b.slideToggle(200,"swing",function(){}),a.preventDefault()}),$("#sidebar-collapse").click(function(){toggleSideBar()})}),$(function(){$("body").hasClass("animated")&&$("#cl-wrapper").css({opacity:1,"margin-left":0}),$(".minimize").click(function(a){var b=$(this).parents(".header"),c=b.next(".content"),d=b.parent();c.slideToggle(),d.toggleClass("closed"),a.preventDefault()}),$(".refresh").click(function(a){var b=$(this).parents(".header"),c=b.parent(),d=$('<div class="loading"><i class="fa fa-refresh fa-spin"></i></div>');d.appendTo(c),d.fadeIn(),setTimeout(function(){d.fadeOut()},1e3),a.preventDefault()}),$(".close-down").click(function(a){var b=$(this).parents(".header"),c=b.parent();c.fadeOut(function(){$(this).remove()}),a.preventDefault()})}),$(function(){$("#form-nav").on("click","a",function(a){a.preventDefault();var b=$(this).attr("href"),c=$(b).offset().top-200;return $("html, body").stop().animate({scrollTop:c}),$(b).focus(),!1}),$("#neo-affix").length>0&&neoAffix($("#neo-affix"),30,98,992),$("#allias-submit").on("click","button",function(a){a.preventDefault(),$(".block-flat form").submit()}),window.ParsleyValidator.setLocale("fr"),$("form").length>0&&($("form").parsley(),$(".input-datepicker").mask("99/99/9999"),$.mask.definitions.z="[0]",$(".input-phone").mask("z9 99 99 99 99"),$.mask.definitions.g="[1-2-7-8]",$(".input-securite-social").mask("g 99 99 99 999 999 99"),$(".input-hour, .input-minute").mask("99")),$('input[type="text"]').tooltip({placement:"top",container:"body",trigger:"hover"}),$("select").tooltip({placement:"top",container:"body",trigger:"hover"}),$(".nav-tabs").stickyTabs(),$("table").on("contextmenu","tr",function(a){a.preventDefault();var b=$(this).offset(),c=$(".dropdown-menu.is-visible");$posX=a.pageX-b.left-20,$posY=a.pageY-b.top+10,$menu=$(this).find(".dropdown-menu"),c.stop().fadeOut(50),$menu.addClass("is-visible").css({top:$posY,left:$posX}).stop().fadeIn(150)}),$("body").on("click",function(){$(".dropdown-menu.is-visible").length>0&&$(".dropdown-menu.is-visible").css("display","none")}),$("input[type=file]").attr("title","Choisissez un fichier").bootstrapFileInput();var a=220,b=500,c=$('<a href="#" class="back-to-top"><i class="fa fa-angle-up"></i></a>');c.appendTo("body"),$(window).scroll(function(){$(this).scrollTop()>a?$(".back-to-top").fadeIn(b):$(".back-to-top").fadeOut(b)}),$(".back-to-top").click(function(a){return a.preventDefault(),$("html, body").animate({scrollTop:0},b),!1}),$(".nav-tabs a").click(function(a){a.preventDefault(),$(this).tab("show")}),$(".icheck").iCheck({checkboxClass:"icheckbox_flat-purple",radioClass:"iradio_flat-purple"})});