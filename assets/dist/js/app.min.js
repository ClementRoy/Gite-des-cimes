$(function(){$(".metadata").popover();$(".input-datepicker").datepicker({format:"dd/mm/yyyy",startView:"decade"}).on("changeDate",function(){$(this).datepicker("hide")});$(".input-datepicker-light").datepicker({format:"dd/mm/yyyy"}).on("changeDate",function(){$(this).datepicker("hide")});$('input[type="text"]').each(function(e,t){$(t).tooltip({placement:$(this).data("placement")||"right",trigger:$(this).data("trigger")||"focus"})});$("textarea").each(function(e,t){$(t).tooltip({placement:$(this).data("placement")||"right",trigger:$(this).data("trigger")||"focus"})});$("label.radio").parent("div").each(function(e,t){$(t).tooltip({placement:$(this).data("placement")||"right",trigger:$(this).data("trigger")||"hover"})});$("label.radio-inline").parent("div").each(function(e,t){$(t).tooltip({placement:$(this).data("placement")||"right",trigger:$(this).data("trigger")||"hover"})});$(".ui-select").parent("div").each(function(e,t){$(t).tooltip({placement:$(this).data("placement")||"right",trigger:$(this).data("trigger")||"hover"})});$("[data-group]").hide();$('[data-group="'+$('input[name="form_enfant_inscription"]:checked').val()+'"]').show();$("[data-responsable]").hide();if($('input[name="form_enfant_responsable"]:checked').val()==="structure")$("[data-responsable]").hide();else if($('input[name="form_enfant_responsable"]:checked').val()==="tuteur"){$('[data-responsable="tuteur"]').show();$('[data-responsable="adresse"]').show()}else{$('[data-responsable="parents"]').show();$('[data-responsable="adresse"]').show();if($('input[name="form_enfant_responsable"]:checked').val()=="mere")$('[data-responsable="mere"]').show();else if($('input[name="form_enfant_responsable"]:checked').val()=="pere")$('[data-responsable="pere"]').show();else{$('[data-responsable="mere"]').show();$('[data-responsable="pere"]').show()}}$('input[name="form_enfant_domiciliation"]:checked').val()!="famille"&&$('[data-domiciliation="famille"]').hide();$('input[name="form_enfant_assurance"]:checked').val()!=1&&$('[data-assurance="oui"]').hide();$('input[name="form_enfant_attestation_cpam"]:checked').val()!=1&&$('[data-cpam="oui"]').hide();$('input[name="form_enfant_inscription"]').on("change",function(){$("[data-group]").hide().find('input[type="text"]').each(function(){if($(this).val()!=""){$(this).attr("data-original-value",$(this).val());$(this).attr("value","")}});$('[data-group="'+$(this).val()+'"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))})});$('input[name="form_enfant_responsable"]').on("change",function(){$("[data-responsable]").hide().find('input[type="text"]').each(function(){$(this).val()!=""&&$(this).attr("data-original-value",$(this).val())});if($(this).val()==="tuteur"){$('[data-responsable="'+$(this).val()+'"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))});$('[data-responsable="adresse"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))})}else if($(this).val()==="parents"){$('[data-responsable="parents"]').show();$('[data-responsable="parents"] [data-responsable]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))});$('[data-responsable="adresse"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))})}else if($(this).val()==="pere"){$('[data-responsable="parents"]').show();$('[data-responsable="pere"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))});$('[data-responsable="adresse"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))})}else if($(this).val()==="mere"){$('[data-responsable="parents"]').show();$('[data-responsable="mere"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))});$('[data-responsable="adresse"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))})}});$('input[name="form_enfant_domiciliation"]').on("change",function(){$(this).val()!="famille"?$('[data-domiciliation="famille"]').hide().find('input[type="text"]').each(function(){if($(this).val()!=""){$(this).attr("data-original-value",$(this).val());$(this).attr("value","")}}):$('[data-domiciliation="famille"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))})});$('input[name="form_enfant_assurance"]').on("change",function(){$(this).val()!=1?$('[data-assurance="oui"]').hide().find('input[type="text"]').each(function(){if($(this).val()!=""){$(this).attr("data-original-value",$(this).val());$(this).attr("value","")}}):$('[data-assurance="oui"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))})});$('input[name="form_enfant_attestation_cpam"]').on("change",function(){$(this).val()!=1?$('[data-cpam="oui"]').hide().find('input[type="text"]').each(function(){if($(this).val()!=""){$(this).attr("data-original-value",$(this).val());$(this).attr("value","")}}):$('[data-cpam="oui"]').fadeIn(300).find('input[type="text"]').each(function(){$(this).val($(this).data("original-value"))})});$("#form-add-children").find('input[type="text"]').on("keypress",function(){$(this).attr("data-original-value",$(this).val())});$("#form-edit-children").find('input[type="text"]').on("keypress",function(){$(this).attr("data-original-value",$(this).val())});$("#sidebar-nav .dropdown-toggle").click(function(e){e.preventDefault();var t=$(this).parent();if(t.hasClass("open")){t.find(".submenu").slideUp("fast");t.removeClass("open")}else{t.addClass("open");t.find(".submenu").slideDown("fast")}t.siblings().removeClass("open").find(".submenu").slideUp("fast")});$("#sidebar-nav").on("mouseleave",function(){$(this).find("li.open .submenu").slideUp("fast");$(this).find("li.open").removeClass("open")});var e=$("#sidebar-nav");$("body").click(function(){$(this).hasClass("menu")&&$(this).removeClass("menu")});e.click(function(e){e.stopPropagation()});$("#menu-toggler").click(function(e){e.stopPropagation();$("body").toggleClass("menu")});$(window).resize(function(){$(this).width()>769&&$("body.menu").removeClass("menu")});$("#form-enfant-structure-select").trigger("change");jQuery.extend(jQuery.fn.dataTableExt.oSort,{"date-uk-pre":function(e){var t=e.split("/");return(t[2]+t[1]+t[0])*1},"date-uk-asc":function(e,t){return e<t?-1:e>t?1:0},"date-uk-desc":function(e,t){return e<t?1:e>t?-1:0}});if($(".datatable").data("sort")!=undefined)var t=$(".datatable").data("sort");else var t="0";$(".datatable").dataTable({aaSorting:[[t,"asc"]],sPaginationType:"full_numbers",iDisplayLength:100,oLanguage:{sProcessing:"Traitement en cours...",sSearch:"Rechercher&nbsp;:",sLengthMenu:"Afficher _MENU_ &eacute;l&eacute;ments",sInfo:"Affichage de l'&eacute;lement _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments",sInfoEmpty:"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",sInfoFiltered:"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",sInfoPostFix:"",sLoadingRecords:"Chargement en cours...",sZeroRecords:"Aucun &eacute;l&eacute;ment &agrave; afficher",sEmptyTable:"Aucune donnée disponible dans le tableau",oPaginate:{sFirst:"Premier",sPrevious:"Pr&eacute;c&eacute;dent",sNext:"Suivant",sLast:"Dernier"},oAria:{sSortAscending:": activer pour trier la colonne par ordre croissant",sSortDescending:": activer pour trier la colonne par ordre décroissant"}}});$(".header").each(function(e,t){var n=$(t),r=n.find(".pop-dialog"),i=n.find(".trigger");r.click(function(e){e.stopPropagation()});$("body").click(function(){r.removeClass("is-visible");i.removeClass("active")});i.click(function(e){e.preventDefault();e.stopPropagation();r.toggleClass("is-visible");r.hasClass("is-visible")?$(this).addClass("active"):$(this).removeClass("active")})});$(".tooltip").tooltip();$("table").on("contextmenu","tr",function(e){var t=$(this).offset(),n=e.pageX-t.left-20,r=e.pageY-t.top+10,i=$(this).find(".pop-dialog");i.css({top:r,left:n});i.click(function(e){e.stopPropagation()});$("body").click(function(){i.removeClass("is-visible");$("table tr").removeClass("active")});$("table tr").removeClass("active");$(".pop-dialog").each(function(e,t){$(t).removeClass("is-visible")});i.toggleClass("is-visible");i.hasClass("is-visible")?$(this).addClass("active"):$(this).removeClass("active");e.preventDefault();e.stopPropagation()})});